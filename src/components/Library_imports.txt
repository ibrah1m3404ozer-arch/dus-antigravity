import React, { useState, useEffect, useRef } from 'react';
import { Upload, FileText, Trash2, FolderPlus, Folder, Home, Music, Video, Brain, Sparkles, BookOpen, Star, Clock, Plus, ChevronRight, ChevronDown, CheckSquare, Save, X, Download } from 'lucide-react';
import { getAllArticles, saveArticle, deleteArticle, getFolders, createFolder, deleteFolder, savePearl, deletePearl, saveQuestion, deleteQuestion } from '../utils/db';
import { summarizeText, generateFlashcards, generateQuiz } from '../services/aiService';
import { downloadFromFirebaseStorage } from '../utils/firebaseHelpers';
import ResourceUploadModal from './ResourceUploadModal';
import * as pdfjsLib from 'pdfjs-dist';

// Using CDN worker for maximum stability
pdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdn.jsdelivr.net/npm/pdfjs-dist@4.0.379/build/pdf.worker.min.mjs`;
