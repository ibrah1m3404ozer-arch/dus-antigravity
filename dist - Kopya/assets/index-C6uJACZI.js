var J_=t=>{throw TypeError(t)};var My=(t,e,n)=>e.has(t)||J_("Cannot "+n);var Ot=(t,e,n)=>(My(t,e,"read from private field"),n?n.call(t):e.get(t)),Pi=(t,e,n)=>e.has(t)?J_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pr=(t,e,n,r)=>(My(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Mi=(t,e,n)=>(My(t,e,"access private method"),n);var eC=(t,e,n,r)=>({set _(i){pr(t,e,i,n)},get _(){return Ot(t,e,r)}});function Gz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function li(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dy={exports:{}},fu={};var tC;function Kz(){if(tC)return fu;tC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return fu.Fragment=e,fu.jsx=n,fu.jsxs=n,fu}var nC;function Vz(){return nC||(nC=1,Dy.exports=Kz()),Dy.exports}var p=Vz(),Ry={exports:{}},De={};var rC;function Yz(){if(rC)return De;rC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function y(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(F,V,ce){this.props=F,this.context=V,this.refs=S,this.updater=ce||w}_.prototype.isReactComponent={},_.prototype.setState=function(F,V){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,V,"setState")},_.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=_.prototype;function j(F,V,ce){this.props=F,this.context=V,this.refs=S,this.updater=ce||w}var T=j.prototype=new C;T.constructor=j,x(T,_.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function N(){}var P={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function B(F,V,ce){var ue=ce.ref;return{$$typeof:t,type:F,key:V,ref:ue!==void 0?ue:null,props:ce}}function H(F,V){return B(F.type,V,F.props)}function z(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function $(F){var V={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ce){return V[ce]})}var ne=/\/+/g;function Q(F,V){return typeof F=="object"&&F!==null&&F.key!=null?$(""+F.key):V.toString(36)}function ie(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(N,N):(F.status="pending",F.then(function(V){F.status==="pending"&&(F.status="fulfilled",F.value=V)},function(V){F.status==="pending"&&(F.status="rejected",F.reason=V)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function M(F,V,ce,ue,ge){var Ee=typeof F;(Ee==="undefined"||Ee==="boolean")&&(F=null);var he=!1;if(F===null)he=!0;else switch(Ee){case"bigint":case"string":case"number":he=!0;break;case"object":switch(F.$$typeof){case t:case e:he=!0;break;case h:return he=F._init,M(he(F._payload),V,ce,ue,ge)}}if(he)return ge=ge(F),he=ue===""?"."+Q(F,0):ue,k(ge)?(ce="",he!=null&&(ce=he.replace(ne,"$&/")+"/"),M(ge,V,ce,"",function(Te){return Te})):ge!=null&&(z(ge)&&(ge=H(ge,ce+(ge.key==null||F&&F.key===ge.key?"":(""+ge.key).replace(ne,"$&/")+"/")+he)),V.push(ge)),1;he=0;var lt=ue===""?".":ue+":";if(k(F))for(var te=0;te<F.length;te++)ue=F[te],Ee=lt+Q(ue,te),he+=M(ue,V,ce,Ee,ge);else if(te=y(F),typeof te=="function")for(F=te.call(F),te=0;!(ue=F.next()).done;)ue=ue.value,Ee=lt+Q(ue,te++),he+=M(ue,V,ce,Ee,ge);else if(Ee==="object"){if(typeof F.then=="function")return M(ie(F),V,ce,ue,ge);throw V=String(F),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return he}function I(F,V,ce){if(F==null)return F;var ue=[],ge=0;return M(F,ue,"","",function(Ee){return V.call(ce,Ee,ge++)}),ue}function G(F){if(F._status===-1){var V=F._result;V=V(),V.then(function(ce){(F._status===0||F._status===-1)&&(F._status=1,F._result=ce)},function(ce){(F._status===0||F._status===-1)&&(F._status=2,F._result=ce)}),F._status===-1&&(F._status=0,F._result=V)}if(F._status===1)return F._result.default;throw F._result}var R=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},oe={map:I,forEach:function(F,V,ce){I(F,function(){V.apply(this,arguments)},ce)},count:function(F){var V=0;return I(F,function(){V++}),V},toArray:function(F){return I(F,function(V){return V})||[]},only:function(F){if(!z(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return De.Activity=m,De.Children=oe,De.Component=_,De.Fragment=n,De.Profiler=i,De.PureComponent=j,De.StrictMode=r,De.Suspense=u,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,De.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},De.cache=function(F){return function(){return F.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(F,V,ce){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ue=x({},F.props),ge=F.key;if(V!=null)for(Ee in V.key!==void 0&&(ge=""+V.key),V)!L.call(V,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&V.ref===void 0||(ue[Ee]=V[Ee]);var Ee=arguments.length-2;if(Ee===1)ue.children=ce;else if(1<Ee){for(var he=Array(Ee),lt=0;lt<Ee;lt++)he[lt]=arguments[lt+2];ue.children=he}return B(F.type,ge,ue)},De.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},De.createElement=function(F,V,ce){var ue,ge={},Ee=null;if(V!=null)for(ue in V.key!==void 0&&(Ee=""+V.key),V)L.call(V,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=V[ue]);var he=arguments.length-2;if(he===1)ge.children=ce;else if(1<he){for(var lt=Array(he),te=0;te<he;te++)lt[te]=arguments[te+2];ge.children=lt}if(F&&F.defaultProps)for(ue in he=F.defaultProps,he)ge[ue]===void 0&&(ge[ue]=he[ue]);return B(F,Ee,ge)},De.createRef=function(){return{current:null}},De.forwardRef=function(F){return{$$typeof:c,render:F}},De.isValidElement=z,De.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:G}},De.memo=function(F,V){return{$$typeof:f,type:F,compare:V===void 0?null:V}},De.startTransition=function(F){var V=P.T,ce={};P.T=ce;try{var ue=F(),ge=P.S;ge!==null&&ge(ce,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(N,R)}catch(Ee){R(Ee)}finally{V!==null&&ce.types!==null&&(V.types=ce.types),P.T=V}},De.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},De.use=function(F){return P.H.use(F)},De.useActionState=function(F,V,ce){return P.H.useActionState(F,V,ce)},De.useCallback=function(F,V){return P.H.useCallback(F,V)},De.useContext=function(F){return P.H.useContext(F)},De.useDebugValue=function(){},De.useDeferredValue=function(F,V){return P.H.useDeferredValue(F,V)},De.useEffect=function(F,V){return P.H.useEffect(F,V)},De.useEffectEvent=function(F){return P.H.useEffectEvent(F)},De.useId=function(){return P.H.useId()},De.useImperativeHandle=function(F,V,ce){return P.H.useImperativeHandle(F,V,ce)},De.useInsertionEffect=function(F,V){return P.H.useInsertionEffect(F,V)},De.useLayoutEffect=function(F,V){return P.H.useLayoutEffect(F,V)},De.useMemo=function(F,V){return P.H.useMemo(F,V)},De.useOptimistic=function(F,V){return P.H.useOptimistic(F,V)},De.useReducer=function(F,V,ce){return P.H.useReducer(F,V,ce)},De.useRef=function(F){return P.H.useRef(F)},De.useState=function(F){return P.H.useState(F)},De.useSyncExternalStore=function(F,V,ce){return P.H.useSyncExternalStore(F,V,ce)},De.useTransition=function(){return P.H.useTransition()},De.version="19.2.3",De}var iC;function ic(){return iC||(iC=1,Ry.exports=Yz()),Ry.exports}var A=ic();const A1=li(A),Wz=Gz({__proto__:null,default:A1},[A]);var Ly={exports:{}},hu={},Iy={exports:{}},zy={};var aC;function Xz(){return aC||(aC=1,(function(t){function e(M,I){var G=M.length;M.push(I);e:for(;0<G;){var R=G-1>>>1,oe=M[R];if(0<i(oe,I))M[R]=I,M[G]=oe,G=R;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var I=M[0],G=M.pop();if(G!==I){M[0]=G;e:for(var R=0,oe=M.length,F=oe>>>1;R<F;){var V=2*(R+1)-1,ce=M[V],ue=V+1,ge=M[ue];if(0>i(ce,G))ue<oe&&0>i(ge,ce)?(M[R]=ge,M[ue]=G,R=ue):(M[R]=ce,M[V]=G,R=V);else if(ue<oe&&0>i(ge,G))M[R]=ge,M[ue]=G,R=ue;else break e}}return I}function i(M,I){var G=M.sortIndex-I.sortIndex;return G!==0?G:M.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],f=[],h=1,m=null,v=3,y=!1,w=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function T(M){for(var I=n(f);I!==null;){if(I.callback===null)r(f);else if(I.startTime<=M)r(f),I.sortIndex=I.expirationTime,e(u,I);else break;I=n(f)}}function k(M){if(x=!1,T(M),!w)if(n(u)!==null)w=!0,N||(N=!0,$());else{var I=n(f);I!==null&&ie(k,I.startTime-M)}}var N=!1,P=-1,L=5,B=-1;function H(){return S?!0:!(t.unstable_now()-B<L)}function z(){if(S=!1,N){var M=t.unstable_now();B=M;var I=!0;try{e:{w=!1,x&&(x=!1,C(P),P=-1),y=!0;var G=v;try{t:{for(T(M),m=n(u);m!==null&&!(m.expirationTime>M&&H());){var R=m.callback;if(typeof R=="function"){m.callback=null,v=m.priorityLevel;var oe=R(m.expirationTime<=M);if(M=t.unstable_now(),typeof oe=="function"){m.callback=oe,T(M),I=!0;break t}m===n(u)&&r(u),T(M)}else r(u);m=n(u)}if(m!==null)I=!0;else{var F=n(f);F!==null&&ie(k,F.startTime-M),I=!1}}break e}finally{m=null,v=G,y=!1}I=void 0}}finally{I?$():N=!1}}}var $;if(typeof j=="function")$=function(){j(z)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Q=ne.port2;ne.port1.onmessage=z,$=function(){Q.postMessage(null)}}else $=function(){_(z,0)};function ie(M,I){P=_(function(){M(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(M){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var G=v;v=I;try{return M()}finally{v=G}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=v;v=M;try{return I()}finally{v=G}},t.unstable_scheduleCallback=function(M,I,G){var R=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?R+G:R):G=R,M){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=G+oe,M={id:h++,callback:I,priorityLevel:M,startTime:G,expirationTime:oe,sortIndex:-1},G>R?(M.sortIndex=G,e(f,M),n(u)===null&&M===n(f)&&(x?(C(P),P=-1):x=!0,ie(k,G-R))):(M.sortIndex=oe,e(u,M),w||y||(w=!0,N||(N=!0,$()))),M},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(M){var I=v;return function(){var G=v;v=I;try{return M.apply(this,arguments)}finally{v=G}}}})(zy)),zy}var sC;function Qz(){return sC||(sC=1,Iy.exports=Xz()),Iy.exports}var By={exports:{}},qn={};var oC;function Zz(){if(oC)return qn;oC=1;var t=ic();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:f,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qn.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,h)},qn.flushSync=function(u){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=h,r.d.f()}},qn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},qn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},qn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,m=c(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:y}):h==="script"&&r.d.X(u,{crossOrigin:m,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},qn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=c(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qn.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=c(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},qn.requestFormReset=function(u){r.d.r(u)},qn.unstable_batchedUpdates=function(u,f){return u(f)},qn.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},qn.useFormStatus=function(){return o.H.useHostTransitionStatus()},qn.version="19.2.3",qn}var lC;function IP(){if(lC)return By.exports;lC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),By.exports=Zz(),By.exports}var cC;function Jz(){if(cC)return hu;cC=1;var t=Qz(),e=ic(),n=IP();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,g=l;;){var b=d.return;if(b===null)break;var E=b.alternate;if(E===null){if(g=b.return,g!==null){d=g;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===d)return u(b),s;if(E===g)return u(b),l;E=E.sibling}throw Error(r(188))}if(d.return!==g.return)d=b,g=E;else{for(var O=!1,D=b.child;D;){if(D===d){O=!0,d=b,g=E;break}if(D===g){O=!0,g=b,d=E;break}D=D.sibling}if(!O){for(D=E.child;D;){if(D===d){O=!0,d=E,g=b;break}if(D===g){O=!0,g=E,d=b;break}D=D.sibling}if(!O)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function h(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=h(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Symbol.for("react.client.reference");function Q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ne?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case B:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case j:return s.displayName||"Context";case C:return(s._context.displayName||"Context")+".Consumer";case T:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return l=s.displayName||null,l!==null?l:Q(s.type)||"Memo";case L:l=s._payload,s=s._init;try{return Q(s(l))}catch{}}return null}var ie=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},R=[],oe=-1;function F(s){return{current:s}}function V(s){0>oe||(s.current=R[oe],R[oe]=null,oe--)}function ce(s,l){oe++,R[oe]=s.current,s.current=l}var ue=F(null),ge=F(null),Ee=F(null),he=F(null);function lt(s,l){switch(ce(Ee,l),ce(ge,s),ce(ue,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?S_(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=S_(l),s=A_(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(ue),ce(ue,s)}function te(){V(ue),V(ge),V(Ee)}function Te(s){s.memoizedState!==null&&ce(he,s);var l=ue.current,d=A_(l,s.type);l!==d&&(ce(ge,s),ce(ue,d))}function Oe(s){ge.current===s&&(V(ue),V(ge)),he.current===s&&(V(he),lu._currentValue=G)}var de,Nt;function Ue(s){if(de===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);de=l&&l[1]||"",Nt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+s+Nt}var rt=!1;function qt(s,l){if(!s||rt)return"";rt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Z=J}Reflect.construct(s,[],le)}else{try{le.call()}catch(J){Z=J}s.call(le.prototype)}}else{try{throw Error()}catch(J){Z=J}(le=s())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),O=E[0],D=E[1];if(O&&D){var U=O.split(`
`),X=D.split(`
`);for(b=g=0;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;for(;b<X.length&&!X[b].includes("DetermineComponentFrameRoot");)b++;if(g===U.length||b===X.length)for(g=U.length-1,b=X.length-1;1<=g&&0<=b&&U[g]!==X[b];)b--;for(;1<=g&&0<=b;g--,b--)if(U[g]!==X[b]){if(g!==1||b!==1)do if(g--,b--,0>b||U[g]!==X[b]){var ae=`
`+U[g].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=g&&0<=b);break}}}finally{rt=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Ue(d):""}function or(s,l){switch(s.tag){case 26:case 27:case 5:return Ue(s.type);case 16:return Ue("Lazy");case 13:return s.child!==l&&l!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return qt(s.type,!1);case 11:return qt(s.type.render,!1);case 1:return qt(s.type,!0);case 31:return Ue("Activity");default:return""}}function ui(s){try{var l="",d=null;do l+=or(s,d),d=s,s=s.return;while(s);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var $a=Object.prototype.hasOwnProperty,Ms=t.unstable_scheduleCallback,Ha=t.unstable_cancelCallback,ee=t.unstable_shouldYield,Ae=t.unstable_requestPaint,Pe=t.unstable_now,Lt=t.unstable_getCurrentPriorityLevel,Xn=t.unstable_ImmediatePriority,_i=t.unstable_UserBlockingPriority,Ci=t.unstable_NormalPriority,ji=t.unstable_LowPriority,Qi=t.unstable_IdlePriority,of=t.log,re=t.unstable_setDisableYieldValue,xe=null,je=null;function Qe(s){if(typeof of=="function"&&re(s),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(xe,s)}catch{}}var Me=Math.clz32?Math.clz32:ct,Be=Math.log,Ze=Math.LN2;function ct(s){return s>>>=0,s===0?32:31-(Be(s)/Ze|0)|0}var It=256,Qt=262144,Qn=4194304;function Zn(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function zr(s,l,d){var g=s.pendingLanes;if(g===0)return 0;var b=0,E=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var D=g&134217727;return D!==0?(g=D&~E,g!==0?b=Zn(g):(O&=D,O!==0?b=Zn(O):d||(d=D&~s,d!==0&&(b=Zn(d))))):(D=g&~E,D!==0?b=Zn(D):O!==0?b=Zn(O):d||(d=g&~s,d!==0&&(b=Zn(d)))),b===0?0:l!==0&&l!==b&&(l&E)===0&&(E=b&-b,d=l&-l,E>=d||E===32&&(d&4194048)!==0)?l:b}function Hn(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ds(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var s=Qn;return Qn<<=1,(Qn&62914560)===0&&(Qn=4194304),s}function di(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function qa(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Et(s,l,d,g,b,E){var O=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var D=s.entanglements,U=s.expirationTimes,X=s.hiddenUpdates;for(d=O&~d;0<d;){var ae=31-Me(d),le=1<<ae;D[ae]=0,U[ae]=-1;var Z=X[ae];if(Z!==null)for(X[ae]=null,ae=0;ae<Z.length;ae++){var J=Z[ae];J!==null&&(J.lane&=-536870913)}d&=~le}g!==0&&fi(s,g,0),E!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=E&~(O&~l))}function fi(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-Me(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|d&261930}function lf(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var g=31-Me(d),b=1<<g;b&l|s[g]&l&&(s[g]|=l),d&=~b}}function cf(s,l){var d=l&-l;return d=(d&42)!==0?1:Sg(d),(d&(s.suspendedLanes|l))!==0?0:d}function Sg(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ag(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function oA(){var s=I.p;return s!==0?s:(s=window.event,s===void 0?32:K_(s.type))}function lA(s,l){var d=I.p;try{return I.p=s,l()}finally{I.p=d}}var Ga=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Ga,lr="__reactProps$"+Ga,Ro="__reactContainer$"+Ga,Eg="__reactEvents$"+Ga,D5="__reactListeners$"+Ga,R5="__reactHandles$"+Ga,cA="__reactResources$"+Ga,Ac="__reactMarker$"+Ga;function _g(s){delete s[Dn],delete s[lr],delete s[Eg],delete s[D5],delete s[R5]}function Lo(s){var l=s[Dn];if(l)return l;for(var d=s.parentNode;d;){if(l=d[Ro]||d[Dn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=T_(s);s!==null;){if(d=s[Dn])return d;s=T_(s)}return l}s=d,d=s.parentNode}return null}function Io(s){if(s=s[Dn]||s[Ro]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Ec(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function zo(s){var l=s[cA];return l||(l=s[cA]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function En(s){s[Ac]=!0}var uA=new Set,dA={};function Rs(s,l){Bo(s,l),Bo(s+"Capture",l)}function Bo(s,l){for(dA[s]=l,s=0;s<l.length;s++)uA.add(l[s])}var L5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fA={},hA={};function I5(s){return $a.call(hA,s)?!0:$a.call(fA,s)?!1:L5.test(s)?hA[s]=!0:(fA[s]=!0,!1)}function uf(s,l,d){if(I5(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function df(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function Zi(s,l,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+g)}}function Br(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function mA(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function z5(s,l,d){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,E=g.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return b.call(this)},set:function(O){d=""+O,E.call(this,O)}}),Object.defineProperty(s,l,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(O){d=""+O},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Cg(s){if(!s._valueTracker){var l=mA(s)?"checked":"value";s._valueTracker=z5(s,l,""+s[l])}}function pA(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return s&&(g=mA(s)?s.checked?"true":"false":s.value),s=g,s!==d?(l.setValue(s),!0):!1}function ff(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var B5=/[\n"\\]/g;function Fr(s){return s.replace(B5,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function jg(s,l,d,g,b,E,O,D){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),l!=null?O==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Br(l)):s.value!==""+Br(l)&&(s.value=""+Br(l)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),l!=null?kg(s,O,Br(l)):d!=null?kg(s,O,Br(d)):g!=null&&s.removeAttribute("value"),b==null&&E!=null&&(s.defaultChecked=!!E),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+Br(D):s.removeAttribute("name")}function gA(s,l,d,g,b,E,O,D){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),l!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){Cg(s);return}d=d!=null?""+Br(d):"",l=l!=null?""+Br(l):d,D||l===s.value||(s.value=l),s.defaultValue=l}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=D?s.checked:!!g,s.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),Cg(s)}function kg(s,l,d){l==="number"&&ff(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function Fo(s,l,d,g){if(s=s.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<s.length;d++)b=l.hasOwnProperty("$"+s[d].value),s[d].selected!==b&&(s[d].selected=b),b&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Br(d),l=null,b=0;b<s.length;b++){if(s[b].value===d){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}l!==null||s[b].disabled||(l=s[b])}l!==null&&(l.selected=!0)}}function vA(s,l,d){if(l!=null&&(l=""+Br(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Br(d):""}function yA(s,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(r(92));if(ie(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Br(l),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g),Cg(s)}function Uo(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var F5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bA(s,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,d):typeof d!="number"||d===0||F5.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function xA(s,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var b in l)g=l[b],l.hasOwnProperty(b)&&d[b]!==g&&bA(s,b,g)}else for(var E in l)l.hasOwnProperty(E)&&bA(s,E,l[E])}function Ng(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hf(s){return $5.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ji(){}var Tg=null;function Og(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $o=null,Ho=null;function wA(s){var l=Io(s);if(l&&(s=l.stateNode)){var d=s[lr]||null;e:switch(s=l.stateNode,l.type){case"input":if(jg(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Fr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==s&&g.form===s.form){var b=g[lr]||null;if(!b)throw Error(r(90));jg(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===s.form&&pA(g)}break e;case"textarea":vA(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Fo(s,!!d.multiple,l,!1)}}}var Pg=!1;function SA(s,l,d){if(Pg)return s(l,d);Pg=!0;try{var g=s(l);return g}finally{if(Pg=!1,($o!==null||Ho!==null)&&(eh(),$o&&(l=$o,s=Ho,Ho=$o=null,wA(l),s)))for(l=0;l<s.length;l++)wA(s[l])}}function _c(s,l){var d=s.stateNode;if(d===null)return null;var g=d[lr]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mg=!1;if(ea)try{var Cc={};Object.defineProperty(Cc,"passive",{get:function(){Mg=!0}}),window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{Mg=!1}var Ka=null,Dg=null,mf=null;function AA(){if(mf)return mf;var s,l=Dg,d=l.length,g,b="value"in Ka?Ka.value:Ka.textContent,E=b.length;for(s=0;s<d&&l[s]===b[s];s++);var O=d-s;for(g=1;g<=O&&l[d-g]===b[E-g];g++);return mf=b.slice(s,1<g?1-g:void 0)}function pf(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function gf(){return!0}function EA(){return!1}function cr(s){function l(d,g,b,E,O){this._reactName=d,this._targetInst=b,this.type=g,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(d=s[D],this[D]=d?d(E):E[D]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?gf:EA,this.isPropagationStopped=EA,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=gf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=gf)},persist:function(){},isPersistent:gf}),l}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=cr(Ls),jc=m({},Ls,{view:0,detail:0}),H5=cr(jc),Rg,Lg,kc,yf=m({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zg,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==kc&&(kc&&s.type==="mousemove"?(Rg=s.screenX-kc.screenX,Lg=s.screenY-kc.screenY):Lg=Rg=0,kc=s),Rg)},movementY:function(s){return"movementY"in s?s.movementY:Lg}}),_A=cr(yf),q5=m({},yf,{dataTransfer:0}),G5=cr(q5),K5=m({},jc,{relatedTarget:0}),Ig=cr(K5),V5=m({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Y5=cr(V5),W5=m({},Ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),X5=cr(W5),Q5=m({},Ls,{data:0}),CA=cr(Q5),Z5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t4(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=e4[s])?!!l[s]:!1}function zg(){return t4}var n4=m({},jc,{key:function(s){if(s.key){var l=Z5[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=pf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?J5[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zg,charCode:function(s){return s.type==="keypress"?pf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),r4=cr(n4),i4=m({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jA=cr(i4),a4=m({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zg}),s4=cr(a4),o4=m({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),l4=cr(o4),c4=m({},yf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),u4=cr(c4),d4=m({},Ls,{newState:0,oldState:0}),f4=cr(d4),h4=[9,13,27,32],Bg=ea&&"CompositionEvent"in window,Nc=null;ea&&"documentMode"in document&&(Nc=document.documentMode);var m4=ea&&"TextEvent"in window&&!Nc,kA=ea&&(!Bg||Nc&&8<Nc&&11>=Nc),NA=" ",TA=!1;function OA(s,l){switch(s){case"keyup":return h4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qo=!1;function p4(s,l){switch(s){case"compositionend":return PA(l);case"keypress":return l.which!==32?null:(TA=!0,NA);case"textInput":return s=l.data,s===NA&&TA?null:s;default:return null}}function g4(s,l){if(qo)return s==="compositionend"||!Bg&&OA(s,l)?(s=AA(),mf=Dg=Ka=null,qo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return kA&&l.locale!=="ko"?null:l.data;default:return null}}var v4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MA(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!v4[s.type]:l==="textarea"}function DA(s,l,d,g){$o?Ho?Ho.push(g):Ho=[g]:$o=g,l=oh(l,"onChange"),0<l.length&&(d=new vf("onChange","change",null,d,g),s.push({event:d,listeners:l}))}var Tc=null,Oc=null;function y4(s){g_(s,0)}function bf(s){var l=Ec(s);if(pA(l))return s}function RA(s,l){if(s==="change")return l}var LA=!1;if(ea){var Fg;if(ea){var Ug="oninput"in document;if(!Ug){var IA=document.createElement("div");IA.setAttribute("oninput","return;"),Ug=typeof IA.oninput=="function"}Fg=Ug}else Fg=!1;LA=Fg&&(!document.documentMode||9<document.documentMode)}function zA(){Tc&&(Tc.detachEvent("onpropertychange",BA),Oc=Tc=null)}function BA(s){if(s.propertyName==="value"&&bf(Oc)){var l=[];DA(l,Oc,s,Og(s)),SA(y4,l)}}function b4(s,l,d){s==="focusin"?(zA(),Tc=l,Oc=d,Tc.attachEvent("onpropertychange",BA)):s==="focusout"&&zA()}function x4(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bf(Oc)}function w4(s,l){if(s==="click")return bf(l)}function S4(s,l){if(s==="input"||s==="change")return bf(l)}function A4(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Sr=typeof Object.is=="function"?Object.is:A4;function Pc(s,l){if(Sr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var b=d[g];if(!$a.call(l,b)||!Sr(s[b],l[b]))return!1}return!0}function FA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function UA(s,l){var d=FA(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=l&&g>=l)return{node:d,offset:l-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=FA(d)}}function $A(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?$A(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function HA(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=ff(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=ff(s.document)}return l}function $g(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var E4=ea&&"documentMode"in document&&11>=document.documentMode,Go=null,Hg=null,Mc=null,qg=!1;function qA(s,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;qg||Go==null||Go!==ff(g)||(g=Go,"selectionStart"in g&&$g(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Mc&&Pc(Mc,g)||(Mc=g,g=oh(Hg,"onSelect"),0<g.length&&(l=new vf("onSelect","select",null,l,d),s.push({event:l,listeners:g}),l.target=Go)))}function Is(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Ko={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Gg={},GA={};ea&&(GA=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function zs(s){if(Gg[s])return Gg[s];if(!Ko[s])return s;var l=Ko[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in GA)return Gg[s]=l[d];return s}var KA=zs("animationend"),VA=zs("animationiteration"),YA=zs("animationstart"),_4=zs("transitionrun"),C4=zs("transitionstart"),j4=zs("transitioncancel"),WA=zs("transitionend"),XA=new Map,Kg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kg.push("scrollEnd");function hi(s,l){XA.set(s,l),Rs(l,[s])}var xf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ur=[],Vo=0,Vg=0;function wf(){for(var s=Vo,l=Vg=Vo=0;l<s;){var d=Ur[l];Ur[l++]=null;var g=Ur[l];Ur[l++]=null;var b=Ur[l];Ur[l++]=null;var E=Ur[l];if(Ur[l++]=null,g!==null&&b!==null){var O=g.pending;O===null?b.next=b:(b.next=O.next,O.next=b),g.pending=b}E!==0&&QA(d,b,E)}}function Sf(s,l,d,g){Ur[Vo++]=s,Ur[Vo++]=l,Ur[Vo++]=d,Ur[Vo++]=g,Vg|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Yg(s,l,d,g){return Sf(s,l,d,g),Af(s)}function Bs(s,l){return Sf(s,null,null,l),Af(s)}function QA(s,l,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var b=!1,E=s.return;E!==null;)E.childLanes|=d,g=E.alternate,g!==null&&(g.childLanes|=d),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(b=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,b&&l!==null&&(b=31-Me(d),s=E.hiddenUpdates,g=s[b],g===null?s[b]=[l]:g.push(l),l.lane=d|536870912),E):null}function Af(s){if(50<tu)throw tu=0,ry=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Yo={};function k4(s,l,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,l,d,g){return new k4(s,l,d,g)}function Wg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ta(s,l){var d=s.alternate;return d===null?(d=Ar(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function ZA(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Ef(s,l,d,g,b,E){var O=0;if(g=s,typeof s=="function")Wg(s)&&(O=1);else if(typeof s=="string")O=Mz(s,d,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case B:return s=Ar(31,d,l,b),s.elementType=B,s.lanes=E,s;case x:return Fs(d.children,b,E,l);case S:O=8,b|=24;break;case _:return s=Ar(12,d,l,b|2),s.elementType=_,s.lanes=E,s;case k:return s=Ar(13,d,l,b),s.elementType=k,s.lanes=E,s;case N:return s=Ar(19,d,l,b),s.elementType=N,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:O=10;break e;case C:O=9;break e;case T:O=11;break e;case P:O=14;break e;case L:O=16,g=null;break e}O=29,d=Error(r(130,s===null?"null":typeof s,"")),g=null}return l=Ar(O,d,l,b),l.elementType=s,l.type=g,l.lanes=E,l}function Fs(s,l,d,g){return s=Ar(7,s,g,l),s.lanes=d,s}function Xg(s,l,d){return s=Ar(6,s,null,l),s.lanes=d,s}function JA(s){var l=Ar(18,null,null,0);return l.stateNode=s,l}function Qg(s,l,d){return l=Ar(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var e2=new WeakMap;function $r(s,l){if(typeof s=="object"&&s!==null){var d=e2.get(s);return d!==void 0?d:(l={value:s,source:l,stack:ui(l)},e2.set(s,l),l)}return{value:s,source:l,stack:ui(l)}}var Wo=[],Xo=0,_f=null,Dc=0,Hr=[],qr=0,Va=null,ki=1,Ni="";function na(s,l){Wo[Xo++]=Dc,Wo[Xo++]=_f,_f=s,Dc=l}function t2(s,l,d){Hr[qr++]=ki,Hr[qr++]=Ni,Hr[qr++]=Va,Va=s;var g=ki;s=Ni;var b=32-Me(g)-1;g&=~(1<<b),d+=1;var E=32-Me(l)+b;if(30<E){var O=b-b%5;E=(g&(1<<O)-1).toString(32),g>>=O,b-=O,ki=1<<32-Me(l)+b|d<<b|g,Ni=E+s}else ki=1<<E|d<<b|g,Ni=s}function Zg(s){s.return!==null&&(na(s,1),t2(s,1,0))}function Jg(s){for(;s===_f;)_f=Wo[--Xo],Wo[Xo]=null,Dc=Wo[--Xo],Wo[Xo]=null;for(;s===Va;)Va=Hr[--qr],Hr[qr]=null,Ni=Hr[--qr],Hr[qr]=null,ki=Hr[--qr],Hr[qr]=null}function n2(s,l){Hr[qr++]=ki,Hr[qr++]=Ni,Hr[qr++]=Va,ki=l.id,Ni=l.overflow,Va=s}var Rn=null,Ct=null,Ve=!1,Ya=null,Gr=!1,ev=Error(r(519));function Wa(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rc($r(l,s)),ev}function r2(s){var l=s.stateNode,d=s.type,g=s.memoizedProps;switch(l[Dn]=s,l[lr]=g,d){case"dialog":qe("cancel",l),qe("close",l);break;case"iframe":case"object":case"embed":qe("load",l);break;case"video":case"audio":for(d=0;d<ru.length;d++)qe(ru[d],l);break;case"source":qe("error",l);break;case"img":case"image":case"link":qe("error",l),qe("load",l);break;case"details":qe("toggle",l);break;case"input":qe("invalid",l),gA(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":qe("invalid",l);break;case"textarea":qe("invalid",l),yA(l,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||x_(l.textContent,d)?(g.popover!=null&&(qe("beforetoggle",l),qe("toggle",l)),g.onScroll!=null&&qe("scroll",l),g.onScrollEnd!=null&&qe("scrollend",l),g.onClick!=null&&(l.onclick=Ji),l=!0):l=!1,l||Wa(s,!0)}function i2(s){for(Rn=s.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:Rn=Rn.return}}function Qo(s){if(s!==Rn)return!1;if(!Ve)return i2(s),Ve=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||yy(s.type,s.memoizedProps)),d=!d),d&&Ct&&Wa(s),i2(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ct=N_(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ct=N_(s)}else l===27?(l=Ct,cs(s.type)?(s=Ay,Ay=null,Ct=s):Ct=l):Ct=Rn?Vr(s.stateNode.nextSibling):null;return!0}function Us(){Ct=Rn=null,Ve=!1}function tv(){var s=Ya;return s!==null&&(hr===null?hr=s:hr.push.apply(hr,s),Ya=null),s}function Rc(s){Ya===null?Ya=[s]:Ya.push(s)}var nv=F(null),$s=null,ra=null;function Xa(s,l,d){ce(nv,l._currentValue),l._currentValue=d}function ia(s){s._currentValue=nv.current,V(nv)}function rv(s,l,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===d)break;s=s.return}}function iv(s,l,d,g){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var E=b.dependencies;if(E!==null){var O=b.child;E=E.firstContext;e:for(;E!==null;){var D=E;E=b;for(var U=0;U<l.length;U++)if(D.context===l[U]){E.lanes|=d,D=E.alternate,D!==null&&(D.lanes|=d),rv(E.return,d,s),g||(O=null);break e}E=D.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(r(341));O.lanes|=d,E=O.alternate,E!==null&&(E.lanes|=d),rv(O,d,s),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===s){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function Zo(s,l,d,g){s=null;for(var b=l,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var D=b.type;Sr(b.pendingProps.value,O.value)||(s!==null?s.push(D):s=[D])}}else if(b===he.current){if(O=b.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(lu):s=[lu])}b=b.return}s!==null&&iv(l,s,d,g),l.flags|=262144}function Cf(s){for(s=s.firstContext;s!==null;){if(!Sr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Hs(s){$s=s,ra=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ln(s){return a2($s,s)}function jf(s,l){return $s===null&&Hs(s),a2(s,l)}function a2(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ra===null){if(s===null)throw Error(r(308));ra=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else ra=ra.next=l;return d}var N4=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},T4=t.unstable_scheduleCallback,O4=t.unstable_NormalPriority,an={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function av(){return{controller:new N4,data:new Map,refCount:0}}function Lc(s){s.refCount--,s.refCount===0&&T4(O4,function(){s.controller.abort()})}var Ic=null,sv=0,Jo=0,el=null;function P4(s,l){if(Ic===null){var d=Ic=[];sv=0,Jo=cy(),el={status:"pending",value:void 0,then:function(g){d.push(g)}}}return sv++,l.then(s2,s2),l}function s2(){if(--sv===0&&Ic!==null){el!==null&&(el.status="fulfilled");var s=Ic;Ic=null,Jo=0,el=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function M4(s,l){var d=[],g={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(g.status="rejected",g.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),g}var o2=M.S;M.S=function(s,l){qE=Pe(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&P4(s,l),o2!==null&&o2(s,l)};var qs=F(null);function ov(){var s=qs.current;return s!==null?s:bt.pooledCache}function kf(s,l){l===null?ce(qs,qs.current):ce(qs,l.pool)}function l2(){var s=ov();return s===null?null:{parent:an._currentValue,pool:s}}var tl=Error(r(460)),lv=Error(r(474)),Nf=Error(r(542)),Tf={then:function(){}};function c2(s){return s=s.status,s==="fulfilled"||s==="rejected"}function u2(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Ji,Ji),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,f2(s),s;default:if(typeof l.status=="string")l.then(Ji,Ji);else{if(s=bt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=g}},function(g){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,f2(s),s}throw Ks=l,tl}}function Gs(s){try{var l=s._init;return l(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ks=d,tl):d}}var Ks=null;function d2(){if(Ks===null)throw Error(r(459));var s=Ks;return Ks=null,s}function f2(s){if(s===tl||s===Nf)throw Error(r(483))}var nl=null,zc=0;function Of(s){var l=zc;return zc+=1,nl===null&&(nl=[]),u2(nl,s,l)}function Bc(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Pf(s,l){throw l.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function h2(s){function l(K,q){if(s){var W=K.deletions;W===null?(K.deletions=[q],K.flags|=16):W.push(q)}}function d(K,q){if(!s)return null;for(;q!==null;)l(K,q),q=q.sibling;return null}function g(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function b(K,q){return K=ta(K,q),K.index=0,K.sibling=null,K}function E(K,q,W){return K.index=W,s?(W=K.alternate,W!==null?(W=W.index,W<q?(K.flags|=67108866,q):W):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function O(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function D(K,q,W,se){return q===null||q.tag!==6?(q=Xg(W,K.mode,se),q.return=K,q):(q=b(q,W),q.return=K,q)}function U(K,q,W,se){var _e=W.type;return _e===x?ae(K,q,W.props.children,se,W.key):q!==null&&(q.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===L&&Gs(_e)===q.type)?(q=b(q,W.props),Bc(q,W),q.return=K,q):(q=Ef(W.type,W.key,W.props,null,K.mode,se),Bc(q,W),q.return=K,q)}function X(K,q,W,se){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=Qg(W,K.mode,se),q.return=K,q):(q=b(q,W.children||[]),q.return=K,q)}function ae(K,q,W,se,_e){return q===null||q.tag!==7?(q=Fs(W,K.mode,se,_e),q.return=K,q):(q=b(q,W),q.return=K,q)}function le(K,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Xg(""+q,K.mode,W),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case y:return W=Ef(q.type,q.key,q.props,null,K.mode,W),Bc(W,q),W.return=K,W;case w:return q=Qg(q,K.mode,W),q.return=K,q;case L:return q=Gs(q),le(K,q,W)}if(ie(q)||$(q))return q=Fs(q,K.mode,W,null),q.return=K,q;if(typeof q.then=="function")return le(K,Of(q),W);if(q.$$typeof===j)return le(K,jf(K,q),W);Pf(K,q)}return null}function Z(K,q,W,se){var _e=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return _e!==null?null:D(K,q,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return W.key===_e?U(K,q,W,se):null;case w:return W.key===_e?X(K,q,W,se):null;case L:return W=Gs(W),Z(K,q,W,se)}if(ie(W)||$(W))return _e!==null?null:ae(K,q,W,se,null);if(typeof W.then=="function")return Z(K,q,Of(W),se);if(W.$$typeof===j)return Z(K,q,jf(K,W),se);Pf(K,W)}return null}function J(K,q,W,se,_e){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return K=K.get(W)||null,D(q,K,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return K=K.get(se.key===null?W:se.key)||null,U(q,K,se,_e);case w:return K=K.get(se.key===null?W:se.key)||null,X(q,K,se,_e);case L:return se=Gs(se),J(K,q,W,se,_e)}if(ie(se)||$(se))return K=K.get(W)||null,ae(q,K,se,_e,null);if(typeof se.then=="function")return J(K,q,W,Of(se),_e);if(se.$$typeof===j)return J(K,q,W,jf(q,se),_e);Pf(q,se)}return null}function be(K,q,W,se){for(var _e=null,Je=null,we=q,Fe=q=0,Ke=null;we!==null&&Fe<W.length;Fe++){we.index>Fe?(Ke=we,we=null):Ke=we.sibling;var et=Z(K,we,W[Fe],se);if(et===null){we===null&&(we=Ke);break}s&&we&&et.alternate===null&&l(K,we),q=E(et,q,Fe),Je===null?_e=et:Je.sibling=et,Je=et,we=Ke}if(Fe===W.length)return d(K,we),Ve&&na(K,Fe),_e;if(we===null){for(;Fe<W.length;Fe++)we=le(K,W[Fe],se),we!==null&&(q=E(we,q,Fe),Je===null?_e=we:Je.sibling=we,Je=we);return Ve&&na(K,Fe),_e}for(we=g(we);Fe<W.length;Fe++)Ke=J(we,K,Fe,W[Fe],se),Ke!==null&&(s&&Ke.alternate!==null&&we.delete(Ke.key===null?Fe:Ke.key),q=E(Ke,q,Fe),Je===null?_e=Ke:Je.sibling=Ke,Je=Ke);return s&&we.forEach(function(ms){return l(K,ms)}),Ve&&na(K,Fe),_e}function Ne(K,q,W,se){if(W==null)throw Error(r(151));for(var _e=null,Je=null,we=q,Fe=q=0,Ke=null,et=W.next();we!==null&&!et.done;Fe++,et=W.next()){we.index>Fe?(Ke=we,we=null):Ke=we.sibling;var ms=Z(K,we,et.value,se);if(ms===null){we===null&&(we=Ke);break}s&&we&&ms.alternate===null&&l(K,we),q=E(ms,q,Fe),Je===null?_e=ms:Je.sibling=ms,Je=ms,we=Ke}if(et.done)return d(K,we),Ve&&na(K,Fe),_e;if(we===null){for(;!et.done;Fe++,et=W.next())et=le(K,et.value,se),et!==null&&(q=E(et,q,Fe),Je===null?_e=et:Je.sibling=et,Je=et);return Ve&&na(K,Fe),_e}for(we=g(we);!et.done;Fe++,et=W.next())et=J(we,K,Fe,et.value,se),et!==null&&(s&&et.alternate!==null&&we.delete(et.key===null?Fe:et.key),q=E(et,q,Fe),Je===null?_e=et:Je.sibling=et,Je=et);return s&&we.forEach(function(qz){return l(K,qz)}),Ve&&na(K,Fe),_e}function pt(K,q,W,se){if(typeof W=="object"&&W!==null&&W.type===x&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case y:e:{for(var _e=W.key;q!==null;){if(q.key===_e){if(_e=W.type,_e===x){if(q.tag===7){d(K,q.sibling),se=b(q,W.props.children),se.return=K,K=se;break e}}else if(q.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===L&&Gs(_e)===q.type){d(K,q.sibling),se=b(q,W.props),Bc(se,W),se.return=K,K=se;break e}d(K,q);break}else l(K,q);q=q.sibling}W.type===x?(se=Fs(W.props.children,K.mode,se,W.key),se.return=K,K=se):(se=Ef(W.type,W.key,W.props,null,K.mode,se),Bc(se,W),se.return=K,K=se)}return O(K);case w:e:{for(_e=W.key;q!==null;){if(q.key===_e)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){d(K,q.sibling),se=b(q,W.children||[]),se.return=K,K=se;break e}else{d(K,q);break}else l(K,q);q=q.sibling}se=Qg(W,K.mode,se),se.return=K,K=se}return O(K);case L:return W=Gs(W),pt(K,q,W,se)}if(ie(W))return be(K,q,W,se);if($(W)){if(_e=$(W),typeof _e!="function")throw Error(r(150));return W=_e.call(W),Ne(K,q,W,se)}if(typeof W.then=="function")return pt(K,q,Of(W),se);if(W.$$typeof===j)return pt(K,q,jf(K,W),se);Pf(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(d(K,q.sibling),se=b(q,W),se.return=K,K=se):(d(K,q),se=Xg(W,K.mode,se),se.return=K,K=se),O(K)):d(K,q)}return function(K,q,W,se){try{zc=0;var _e=pt(K,q,W,se);return nl=null,_e}catch(we){if(we===tl||we===Nf)throw we;var Je=Ar(29,we,null,K.mode);return Je.lanes=se,Je.return=K,Je}}}var Vs=h2(!0),m2=h2(!1),Qa=!1;function cv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uv(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Za(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ja(s,l,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(it&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,l=Af(s),QA(s,null,d),l}return Sf(s,g,l,d),Af(s)}function Fc(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,lf(s,d)}}function dv(s,l){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var b=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var O={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?b=E=O:E=E.next=O,d=d.next}while(d!==null);E===null?b=E=l:E=E.next=l}else b=E=l;d={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var fv=!1;function Uc(){if(fv){var s=el;if(s!==null)throw s}}function $c(s,l,d,g){fv=!1;var b=s.updateQueue;Qa=!1;var E=b.firstBaseUpdate,O=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var U=D,X=U.next;U.next=null,O===null?E=X:O.next=X,O=U;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,D=ae.lastBaseUpdate,D!==O&&(D===null?ae.firstBaseUpdate=X:D.next=X,ae.lastBaseUpdate=U))}if(E!==null){var le=b.baseState;O=0,ae=X=U=null,D=E;do{var Z=D.lane&-536870913,J=Z!==D.lane;if(J?(Ge&Z)===Z:(g&Z)===Z){Z!==0&&Z===Jo&&(fv=!0),ae!==null&&(ae=ae.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var be=s,Ne=D;Z=l;var pt=d;switch(Ne.tag){case 1:if(be=Ne.payload,typeof be=="function"){le=be.call(pt,le,Z);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ne.payload,Z=typeof be=="function"?be.call(pt,le,Z):be,Z==null)break e;le=m({},le,Z);break e;case 2:Qa=!0}}Z=D.callback,Z!==null&&(s.flags|=64,J&&(s.flags|=8192),J=b.callbacks,J===null?b.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ae===null?(X=ae=J,U=le):ae=ae.next=J,O|=Z;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;J=D,D=J.next,J.next=null,b.lastBaseUpdate=J,b.shared.pending=null}}while(!0);ae===null&&(U=le),b.baseState=U,b.firstBaseUpdate=X,b.lastBaseUpdate=ae,E===null&&(b.shared.lanes=0),is|=O,s.lanes=O,s.memoizedState=le}}function p2(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function g2(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)p2(d[s],l)}var rl=F(null),Mf=F(0);function v2(s,l){s=ha,ce(Mf,s),ce(rl,l),ha=s|l.baseLanes}function hv(){ce(Mf,ha),ce(rl,rl.current)}function mv(){ha=Mf.current,V(rl),V(Mf)}var Er=F(null),Kr=null;function es(s){var l=s.alternate;ce(Zt,Zt.current&1),ce(Er,s),Kr===null&&(l===null||rl.current!==null||l.memoizedState!==null)&&(Kr=s)}function pv(s){ce(Zt,Zt.current),ce(Er,s),Kr===null&&(Kr=s)}function y2(s){s.tag===22?(ce(Zt,Zt.current),ce(Er,s),Kr===null&&(Kr=s)):ts()}function ts(){ce(Zt,Zt.current),ce(Er,Er.current)}function _r(s){V(Er),Kr===s&&(Kr=null),V(Zt)}var Zt=F(0);function Df(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||wy(d)||Sy(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var aa=0,ze=null,ht=null,sn=null,Rf=!1,il=!1,Ys=!1,Lf=0,Hc=0,al=null,D4=0;function Gt(){throw Error(r(321))}function gv(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!Sr(s[d],l[d]))return!1;return!0}function vv(s,l,d,g,b,E){return aa=E,ze=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,M.H=s===null||s.memoizedState===null?tE:Pv,Ys=!1,E=d(g,b),Ys=!1,il&&(E=x2(l,d,g,b)),b2(s),E}function b2(s){M.H=Kc;var l=ht!==null&&ht.next!==null;if(aa=0,sn=ht=ze=null,Rf=!1,Hc=0,al=null,l)throw Error(r(300));s===null||on||(s=s.dependencies,s!==null&&Cf(s)&&(on=!0))}function x2(s,l,d,g){ze=s;var b=0;do{if(il&&(al=null),Hc=0,il=!1,25<=b)throw Error(r(301));if(b+=1,sn=ht=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}M.H=nE,E=l(d,g)}while(il);return E}function R4(){var s=M.H,l=s.useState()[0];return l=typeof l.then=="function"?qc(l):l,s=s.useState()[0],(ht!==null?ht.memoizedState:null)!==s&&(ze.flags|=1024),l}function yv(){var s=Lf!==0;return Lf=0,s}function bv(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function xv(s){if(Rf){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Rf=!1}aa=0,sn=ht=ze=null,il=!1,Hc=Lf=0,al=null}function Jn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?ze.memoizedState=sn=s:sn=sn.next=s,sn}function Jt(){if(ht===null){var s=ze.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var l=sn===null?ze.memoizedState:sn.next;if(l!==null)sn=l,ht=s;else{if(s===null)throw ze.alternate===null?Error(r(467)):Error(r(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},sn===null?ze.memoizedState=sn=s:sn=sn.next=s}return sn}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qc(s){var l=Hc;return Hc+=1,al===null&&(al=[]),s=u2(al,s,l),l=ze,(sn===null?l.memoizedState:sn.next)===null&&(l=l.alternate,M.H=l===null||l.memoizedState===null?tE:Pv),s}function zf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return qc(s);if(s.$$typeof===j)return Ln(s)}throw Error(r(438,String(s)))}function wv(s){var l=null,d=ze.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=ze.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=If(),ze.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),g=0;g<s;g++)d[g]=H;return l.index++,d}function sa(s,l){return typeof l=="function"?l(s):l}function Bf(s){var l=Jt();return Sv(l,ht,s)}function Sv(s,l,d){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var b=s.baseQueue,E=g.pending;if(E!==null){if(b!==null){var O=b.next;b.next=E.next,E.next=O}l.baseQueue=b=E,g.pending=null}if(E=s.baseState,b===null)s.memoizedState=E;else{l=b.next;var D=O=null,U=null,X=l,ae=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(Ge&le)===le:(aa&le)===le){var Z=X.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Jo&&(ae=!0);else if((aa&Z)===Z){X=X.next,Z===Jo&&(ae=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(D=U=le,O=E):U=U.next=le,ze.lanes|=Z,is|=Z;le=X.action,Ys&&d(E,le),E=X.hasEagerState?X.eagerState:d(E,le)}else Z={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(D=U=Z,O=E):U=U.next=Z,ze.lanes|=le,is|=le;X=X.next}while(X!==null&&X!==l);if(U===null?O=E:U.next=D,!Sr(E,s.memoizedState)&&(on=!0,ae&&(d=el,d!==null)))throw d;s.memoizedState=E,s.baseState=O,s.baseQueue=U,g.lastRenderedState=E}return b===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Av(s){var l=Jt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var g=d.dispatch,b=d.pending,E=l.memoizedState;if(b!==null){d.pending=null;var O=b=b.next;do E=s(E,O.action),O=O.next;while(O!==b);Sr(E,l.memoizedState)||(on=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),d.lastRenderedState=E}return[E,g]}function w2(s,l,d){var g=ze,b=Jt(),E=Ve;if(E){if(d===void 0)throw Error(r(407));d=d()}else d=l();var O=!Sr((ht||b).memoizedState,d);if(O&&(b.memoizedState=d,on=!0),b=b.queue,Cv(E2.bind(null,g,b,s),[s]),b.getSnapshot!==l||O||sn!==null&&sn.memoizedState.tag&1){if(g.flags|=2048,sl(9,{destroy:void 0},A2.bind(null,g,b,d,l),null),bt===null)throw Error(r(349));E||(aa&127)!==0||S2(g,l,d)}return d}function S2(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=ze.updateQueue,l===null?(l=If(),ze.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function A2(s,l,d,g){l.value=d,l.getSnapshot=g,_2(l)&&C2(s)}function E2(s,l,d){return d(function(){_2(l)&&C2(s)})}function _2(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!Sr(s,d)}catch{return!0}}function C2(s){var l=Bs(s,2);l!==null&&mr(l,s,2)}function Ev(s){var l=Jn();if(typeof s=="function"){var d=s;if(s=d(),Ys){Qe(!0);try{d()}finally{Qe(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:s},l}function j2(s,l,d,g){return s.baseState=d,Sv(s,ht,typeof g=="function"?g:sa)}function L4(s,l,d,g,b){if($f(s))throw Error(r(485));if(s=l.action,s!==null){var E={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){E.listeners.push(O)}};M.T!==null?d(!0):E.isTransition=!1,g(E),d=l.pending,d===null?(E.next=l.pending=E,k2(l,E)):(E.next=d.next,l.pending=d.next=E)}}function k2(s,l){var d=l.action,g=l.payload,b=s.state;if(l.isTransition){var E=M.T,O={};M.T=O;try{var D=d(b,g),U=M.S;U!==null&&U(O,D),N2(s,l,D)}catch(X){_v(s,l,X)}finally{E!==null&&O.types!==null&&(E.types=O.types),M.T=E}}else try{E=d(b,g),N2(s,l,E)}catch(X){_v(s,l,X)}}function N2(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){T2(s,l,g)},function(g){return _v(s,l,g)}):T2(s,l,d)}function T2(s,l,d){l.status="fulfilled",l.value=d,O2(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,k2(s,d)))}function _v(s,l,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,O2(l),l=l.next;while(l!==g)}s.action=null}function O2(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function P2(s,l){return l}function M2(s,l){if(Ve){var d=bt.formState;if(d!==null){e:{var g=ze;if(Ve){if(Ct){t:{for(var b=Ct,E=Gr;b.nodeType!==8;){if(!E){b=null;break t}if(b=Vr(b.nextSibling),b===null){b=null;break t}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){Ct=Vr(b.nextSibling),g=b.data==="F!";break e}}Wa(g)}g=!1}g&&(l=d[0])}}return d=Jn(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P2,lastRenderedState:l},d.queue=g,d=Z2.bind(null,ze,g),g.dispatch=d,g=Ev(!1),E=Ov.bind(null,ze,!1,g.queue),g=Jn(),b={state:l,dispatch:null,action:s,pending:null},g.queue=b,d=L4.bind(null,ze,b,E,d),b.dispatch=d,g.memoizedState=s,[l,d,!1]}function D2(s){var l=Jt();return R2(l,ht,s)}function R2(s,l,d){if(l=Sv(s,l,P2)[0],s=Bf(sa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=qc(l)}catch(O){throw O===tl?Nf:O}else g=l;l=Jt();var b=l.queue,E=b.dispatch;return d!==l.memoizedState&&(ze.flags|=2048,sl(9,{destroy:void 0},I4.bind(null,b,d),null)),[g,E,s]}function I4(s,l){s.action=l}function L2(s){var l=Jt(),d=ht;if(d!==null)return R2(l,d,s);Jt(),l=l.memoizedState,d=Jt();var g=d.queue.dispatch;return d.memoizedState=s,[l,g,!1]}function sl(s,l,d,g){return s={tag:s,create:d,deps:g,inst:l,next:null},l=ze.updateQueue,l===null&&(l=If(),ze.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,l.lastEffect=s),s}function I2(){return Jt().memoizedState}function Ff(s,l,d,g){var b=Jn();ze.flags|=s,b.memoizedState=sl(1|l,{destroy:void 0},d,g===void 0?null:g)}function Uf(s,l,d,g){var b=Jt();g=g===void 0?null:g;var E=b.memoizedState.inst;ht!==null&&g!==null&&gv(g,ht.memoizedState.deps)?b.memoizedState=sl(l,E,d,g):(ze.flags|=s,b.memoizedState=sl(1|l,E,d,g))}function z2(s,l){Ff(8390656,8,s,l)}function Cv(s,l){Uf(2048,8,s,l)}function z4(s){ze.flags|=4;var l=ze.updateQueue;if(l===null)l=If(),ze.updateQueue=l,l.events=[s];else{var d=l.events;d===null?l.events=[s]:d.push(s)}}function B2(s){var l=Jt().memoizedState;return z4({ref:l,nextImpl:s}),function(){if((it&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function F2(s,l){return Uf(4,2,s,l)}function U2(s,l){return Uf(4,4,s,l)}function $2(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function H2(s,l,d){d=d!=null?d.concat([s]):null,Uf(4,4,$2.bind(null,l,s),d)}function jv(){}function q2(s,l){var d=Jt();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&gv(l,g[1])?g[0]:(d.memoizedState=[s,l],s)}function G2(s,l){var d=Jt();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&gv(l,g[1]))return g[0];if(g=s(),Ys){Qe(!0);try{s()}finally{Qe(!1)}}return d.memoizedState=[g,l],g}function kv(s,l,d){return d===void 0||(aa&1073741824)!==0&&(Ge&261930)===0?s.memoizedState=l:(s.memoizedState=d,s=KE(),ze.lanes|=s,is|=s,d)}function K2(s,l,d,g){return Sr(d,l)?d:rl.current!==null?(s=kv(s,d,g),Sr(s,l)||(on=!0),s):(aa&42)===0||(aa&1073741824)!==0&&(Ge&261930)===0?(on=!0,s.memoizedState=d):(s=KE(),ze.lanes|=s,is|=s,l)}function V2(s,l,d,g,b){var E=I.p;I.p=E!==0&&8>E?E:8;var O=M.T,D={};M.T=D,Ov(s,!1,l,d);try{var U=b(),X=M.S;if(X!==null&&X(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=M4(U,g);Gc(s,l,ae,kr(s))}else Gc(s,l,g,kr(s))}catch(le){Gc(s,l,{then:function(){},status:"rejected",reason:le},kr())}finally{I.p=E,O!==null&&D.types!==null&&(O.types=D.types),M.T=O}}function B4(){}function Nv(s,l,d,g){if(s.tag!==5)throw Error(r(476));var b=Y2(s).queue;V2(s,b,l,G,d===null?B4:function(){return W2(s),d(g)})}function Y2(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:G},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function W2(s){var l=Y2(s);l.next===null&&(l=s.alternate.memoizedState),Gc(s,l.next.queue,{},kr())}function Tv(){return Ln(lu)}function X2(){return Jt().memoizedState}function Q2(){return Jt().memoizedState}function F4(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=kr();s=Za(d);var g=Ja(l,s,d);g!==null&&(mr(g,l,d),Fc(g,l,d)),l={cache:av()},s.payload=l;return}l=l.return}}function U4(s,l,d){var g=kr();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},$f(s)?J2(l,d):(d=Yg(s,l,d,g),d!==null&&(mr(d,s,g),eE(d,l,g)))}function Z2(s,l,d){var g=kr();Gc(s,l,d,g)}function Gc(s,l,d,g){var b={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if($f(s))J2(l,b);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var O=l.lastRenderedState,D=E(O,d);if(b.hasEagerState=!0,b.eagerState=D,Sr(D,O))return Sf(s,l,b,0),bt===null&&wf(),!1}catch{}if(d=Yg(s,l,b,g),d!==null)return mr(d,s,g),eE(d,l,g),!0}return!1}function Ov(s,l,d,g){if(g={lane:2,revertLane:cy(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},$f(s)){if(l)throw Error(r(479))}else l=Yg(s,d,g,2),l!==null&&mr(l,s,2)}function $f(s){var l=s.alternate;return s===ze||l!==null&&l===ze}function J2(s,l){il=Rf=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function eE(s,l,d){if((d&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,lf(s,d)}}var Kc={readContext:Ln,use:zf,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt};Kc.useEffectEvent=Gt;var tE={readContext:Ln,use:zf,useCallback:function(s,l){return Jn().memoizedState=[s,l===void 0?null:l],s},useContext:Ln,useEffect:z2,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,Ff(4194308,4,$2.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Ff(4194308,4,s,l)},useInsertionEffect:function(s,l){Ff(4,2,s,l)},useMemo:function(s,l){var d=Jn();l=l===void 0?null:l;var g=s();if(Ys){Qe(!0);try{s()}finally{Qe(!1)}}return d.memoizedState=[g,l],g},useReducer:function(s,l,d){var g=Jn();if(d!==void 0){var b=d(l);if(Ys){Qe(!0);try{d(l)}finally{Qe(!1)}}}else b=l;return g.memoizedState=g.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},g.queue=s,s=s.dispatch=U4.bind(null,ze,s),[g.memoizedState,s]},useRef:function(s){var l=Jn();return s={current:s},l.memoizedState=s},useState:function(s){s=Ev(s);var l=s.queue,d=Z2.bind(null,ze,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:jv,useDeferredValue:function(s,l){var d=Jn();return kv(d,s,l)},useTransition:function(){var s=Ev(!1);return s=V2.bind(null,ze,s.queue,!0,!1),Jn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var g=ze,b=Jn();if(Ve){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),bt===null)throw Error(r(349));(Ge&127)!==0||S2(g,l,d)}b.memoizedState=d;var E={value:d,getSnapshot:l};return b.queue=E,z2(E2.bind(null,g,E,s),[s]),g.flags|=2048,sl(9,{destroy:void 0},A2.bind(null,g,E,d,l),null),d},useId:function(){var s=Jn(),l=bt.identifierPrefix;if(Ve){var d=Ni,g=ki;d=(g&~(1<<32-Me(g)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Lf++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=D4++,l="_"+l+"r_"+d.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Tv,useFormState:M2,useActionState:M2,useOptimistic:function(s){var l=Jn();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Ov.bind(null,ze,!0,d),d.dispatch=l,[s,l]},useMemoCache:wv,useCacheRefresh:function(){return Jn().memoizedState=F4.bind(null,ze)},useEffectEvent:function(s){var l=Jn(),d={impl:s};return l.memoizedState=d,function(){if((it&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Pv={readContext:Ln,use:zf,useCallback:q2,useContext:Ln,useEffect:Cv,useImperativeHandle:H2,useInsertionEffect:F2,useLayoutEffect:U2,useMemo:G2,useReducer:Bf,useRef:I2,useState:function(){return Bf(sa)},useDebugValue:jv,useDeferredValue:function(s,l){var d=Jt();return K2(d,ht.memoizedState,s,l)},useTransition:function(){var s=Bf(sa)[0],l=Jt().memoizedState;return[typeof s=="boolean"?s:qc(s),l]},useSyncExternalStore:w2,useId:X2,useHostTransitionStatus:Tv,useFormState:D2,useActionState:D2,useOptimistic:function(s,l){var d=Jt();return j2(d,ht,s,l)},useMemoCache:wv,useCacheRefresh:Q2};Pv.useEffectEvent=B2;var nE={readContext:Ln,use:zf,useCallback:q2,useContext:Ln,useEffect:Cv,useImperativeHandle:H2,useInsertionEffect:F2,useLayoutEffect:U2,useMemo:G2,useReducer:Av,useRef:I2,useState:function(){return Av(sa)},useDebugValue:jv,useDeferredValue:function(s,l){var d=Jt();return ht===null?kv(d,s,l):K2(d,ht.memoizedState,s,l)},useTransition:function(){var s=Av(sa)[0],l=Jt().memoizedState;return[typeof s=="boolean"?s:qc(s),l]},useSyncExternalStore:w2,useId:X2,useHostTransitionStatus:Tv,useFormState:L2,useActionState:L2,useOptimistic:function(s,l){var d=Jt();return ht!==null?j2(d,ht,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:wv,useCacheRefresh:Q2};nE.useEffectEvent=B2;function Mv(s,l,d,g){l=s.memoizedState,d=d(g,l),d=d==null?l:m({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Dv={enqueueSetState:function(s,l,d){s=s._reactInternals;var g=kr(),b=Za(g);b.payload=l,d!=null&&(b.callback=d),l=Ja(s,b,g),l!==null&&(mr(l,s,g),Fc(l,s,g))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var g=kr(),b=Za(g);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=Ja(s,b,g),l!==null&&(mr(l,s,g),Fc(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=kr(),g=Za(d);g.tag=2,l!=null&&(g.callback=l),l=Ja(s,g,d),l!==null&&(mr(l,s,d),Fc(l,s,d))}};function rE(s,l,d,g,b,E,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,O):l.prototype&&l.prototype.isPureReactComponent?!Pc(d,g)||!Pc(b,E):!0}function iE(s,l,d,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==s&&Dv.enqueueReplaceState(l,l.state,null)}function Ws(s,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(s=s.defaultProps){d===l&&(d=m({},d));for(var b in s)d[b]===void 0&&(d[b]=s[b])}return d}function aE(s){xf(s)}function sE(s){console.error(s)}function oE(s){xf(s)}function Hf(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function lE(s,l,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Rv(s,l,d){return d=Za(d),d.tag=3,d.payload={element:null},d.callback=function(){Hf(s,l)},d}function cE(s){return s=Za(s),s.tag=3,s}function uE(s,l,d,g){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var E=g.value;s.payload=function(){return b(E)},s.callback=function(){lE(l,d,g)}}var O=d.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){lE(l,d,g),typeof b!="function"&&(as===null?as=new Set([this]):as.add(this));var D=g.stack;this.componentDidCatch(g.value,{componentStack:D!==null?D:""})})}function $4(s,l,d,g,b){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Zo(l,d,b,!0),d=Er.current,d!==null){switch(d.tag){case 31:case 13:return Kr===null?th():d.alternate===null&&Kt===0&&(Kt=3),d.flags&=-257,d.flags|=65536,d.lanes=b,g===Tf?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),sy(s,g,b)),!1;case 22:return d.flags|=65536,g===Tf?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),sy(s,g,b)),!1}throw Error(r(435,d.tag))}return sy(s,g,b),th(),!1}if(Ve)return l=Er.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,g!==ev&&(s=Error(r(422),{cause:g}),Rc($r(s,d)))):(g!==ev&&(l=Error(r(423),{cause:g}),Rc($r(l,d))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,g=$r(g,d),b=Rv(s.stateNode,g,b),dv(s,b),Kt!==4&&(Kt=2)),!1;var E=Error(r(520),{cause:g});if(E=$r(E,d),eu===null?eu=[E]:eu.push(E),Kt!==4&&(Kt=2),l===null)return!0;g=$r(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=b&-b,d.lanes|=s,s=Rv(d.stateNode,g,s),dv(d,s),!1;case 1:if(l=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(as===null||!as.has(E))))return d.flags|=65536,b&=-b,d.lanes|=b,b=cE(b),uE(b,s,d,g),dv(d,b),!1}d=d.return}while(d!==null);return!1}var Lv=Error(r(461)),on=!1;function In(s,l,d,g){l.child=s===null?m2(l,null,d,g):Vs(l,s.child,d,g)}function dE(s,l,d,g,b){d=d.render;var E=l.ref;if("ref"in g){var O={};for(var D in g)D!=="ref"&&(O[D]=g[D])}else O=g;return Hs(l),g=vv(s,l,d,O,E,b),D=yv(),s!==null&&!on?(bv(s,l,b),oa(s,l,b)):(Ve&&D&&Zg(l),l.flags|=1,In(s,l,g,b),l.child)}function fE(s,l,d,g,b){if(s===null){var E=d.type;return typeof E=="function"&&!Wg(E)&&E.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=E,hE(s,l,E,g,b)):(s=Ef(d.type,null,g,l,l.mode,b),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,!qv(s,b)){var O=E.memoizedProps;if(d=d.compare,d=d!==null?d:Pc,d(O,g)&&s.ref===l.ref)return oa(s,l,b)}return l.flags|=1,s=ta(E,g),s.ref=l.ref,s.return=l,l.child=s}function hE(s,l,d,g,b){if(s!==null){var E=s.memoizedProps;if(Pc(E,g)&&s.ref===l.ref)if(on=!1,l.pendingProps=g=E,qv(s,b))(s.flags&131072)!==0&&(on=!0);else return l.lanes=s.lanes,oa(s,l,b)}return Iv(s,l,d,g,b)}function mE(s,l,d,g){var b=g.children,E=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,s!==null){for(g=l.child=s.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;g=b&~E}else g=0,l.child=null;return pE(s,l,E,d,g)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&kf(l,E!==null?E.cachePool:null),E!==null?v2(l,E):hv(),y2(l);else return g=l.lanes=536870912,pE(s,l,E!==null?E.baseLanes|d:d,d,g)}else E!==null?(kf(l,E.cachePool),v2(l,E),ts(),l.memoizedState=null):(s!==null&&kf(l,null),hv(),ts());return In(s,l,b,d),l.child}function Vc(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function pE(s,l,d,g,b){var E=ov();return E=E===null?null:{parent:an._currentValue,pool:E},l.memoizedState={baseLanes:d,cachePool:E},s!==null&&kf(l,null),hv(),y2(l),s!==null&&Zo(s,l,g,!0),l.childLanes=b,null}function qf(s,l){return l=Kf({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function gE(s,l,d){return Vs(l,s.child,null,d),s=qf(l,l.pendingProps),s.flags|=2,_r(l),l.memoizedState=null,s}function H4(s,l,d){var g=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Ve){if(g.mode==="hidden")return s=qf(l,g),l.lanes=536870912,Vc(null,s);if(pv(l),(s=Ct)?(s=k_(s,Gr),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Va!==null?{id:ki,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},d=JA(s),d.return=l,l.child=d,Rn=l,Ct=null)):s=null,s===null)throw Wa(l);return l.lanes=536870912,null}return qf(l,g)}var E=s.memoizedState;if(E!==null){var O=E.dehydrated;if(pv(l),b)if(l.flags&256)l.flags&=-257,l=gE(s,l,d);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(on||Zo(s,l,d,!1),b=(d&s.childLanes)!==0,on||b){if(g=bt,g!==null&&(O=cf(g,d),O!==0&&O!==E.retryLane))throw E.retryLane=O,Bs(s,O),mr(g,s,O),Lv;th(),l=gE(s,l,d)}else s=E.treeContext,Ct=Vr(O.nextSibling),Rn=l,Ve=!0,Ya=null,Gr=!1,s!==null&&n2(l,s),l=qf(l,g),l.flags|=4096;return l}return s=ta(s.child,{mode:g.mode,children:g.children}),s.ref=l.ref,l.child=s,s.return=l,s}function Gf(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function Iv(s,l,d,g,b){return Hs(l),d=vv(s,l,d,g,void 0,b),g=yv(),s!==null&&!on?(bv(s,l,b),oa(s,l,b)):(Ve&&g&&Zg(l),l.flags|=1,In(s,l,d,b),l.child)}function vE(s,l,d,g,b,E){return Hs(l),l.updateQueue=null,d=x2(l,g,d,b),b2(s),g=yv(),s!==null&&!on?(bv(s,l,E),oa(s,l,E)):(Ve&&g&&Zg(l),l.flags|=1,In(s,l,d,E),l.child)}function yE(s,l,d,g,b){if(Hs(l),l.stateNode===null){var E=Yo,O=d.contextType;typeof O=="object"&&O!==null&&(E=Ln(O)),E=new d(g,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Dv,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=g,E.state=l.memoizedState,E.refs={},cv(l),O=d.contextType,E.context=typeof O=="object"&&O!==null?Ln(O):Yo,E.state=l.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Mv(l,d,O,g),E.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(O=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),O!==E.state&&Dv.enqueueReplaceState(E,E.state,null),$c(l,g,E,b),Uc(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){E=l.stateNode;var D=l.memoizedProps,U=Ws(d,D);E.props=U;var X=E.context,ae=d.contextType;O=Yo,typeof ae=="object"&&ae!==null&&(O=Ln(ae));var le=d.getDerivedStateFromProps;ae=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D||X!==O)&&iE(l,E,g,O),Qa=!1;var Z=l.memoizedState;E.state=Z,$c(l,g,E,b),Uc(),X=l.memoizedState,D||Z!==X||Qa?(typeof le=="function"&&(Mv(l,d,le,g),X=l.memoizedState),(U=Qa||rE(l,d,U,g,Z,X,O))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=X),E.props=g,E.state=X,E.context=O,g=U):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,uv(s,l),O=l.memoizedProps,ae=Ws(d,O),E.props=ae,le=l.pendingProps,Z=E.context,X=d.contextType,U=Yo,typeof X=="object"&&X!==null&&(U=Ln(X)),D=d.getDerivedStateFromProps,(X=typeof D=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==le||Z!==U)&&iE(l,E,g,U),Qa=!1,Z=l.memoizedState,E.state=Z,$c(l,g,E,b),Uc();var J=l.memoizedState;O!==le||Z!==J||Qa||s!==null&&s.dependencies!==null&&Cf(s.dependencies)?(typeof D=="function"&&(Mv(l,d,D,g),J=l.memoizedState),(ae=Qa||rE(l,d,ae,g,Z,J,U)||s!==null&&s.dependencies!==null&&Cf(s.dependencies))?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,J,U),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,J,U)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===s.memoizedProps&&Z===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&Z===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=J),E.props=g,E.state=J,E.context=U,g=ae):(typeof E.componentDidUpdate!="function"||O===s.memoizedProps&&Z===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&Z===s.memoizedState||(l.flags|=1024),g=!1)}return E=g,Gf(s,l),g=(l.flags&128)!==0,E||g?(E=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,s!==null&&g?(l.child=Vs(l,s.child,null,b),l.child=Vs(l,null,d,b)):In(s,l,d,b),l.memoizedState=E.state,s=l.child):s=oa(s,l,b),s}function bE(s,l,d,g){return Us(),l.flags|=256,In(s,l,d,g),l.child}var zv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bv(s){return{baseLanes:s,cachePool:l2()}}function Fv(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=jr),s}function xE(s,l,d){var g=l.pendingProps,b=!1,E=(l.flags&128)!==0,O;if((O=E)||(O=s!==null&&s.memoizedState===null?!1:(Zt.current&2)!==0),O&&(b=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,s===null){if(Ve){if(b?es(l):ts(),(s=Ct)?(s=k_(s,Gr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Va!==null?{id:ki,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},d=JA(s),d.return=l,l.child=d,Rn=l,Ct=null)):s=null,s===null)throw Wa(l);return Sy(s)?l.lanes=32:l.lanes=536870912,null}var D=g.children;return g=g.fallback,b?(ts(),b=l.mode,D=Kf({mode:"hidden",children:D},b),g=Fs(g,b,d,null),D.return=l,g.return=l,D.sibling=g,l.child=D,g=l.child,g.memoizedState=Bv(d),g.childLanes=Fv(s,O,d),l.memoizedState=zv,Vc(null,g)):(es(l),Uv(l,D))}var U=s.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(E)l.flags&256?(es(l),l.flags&=-257,l=$v(s,l,d)):l.memoizedState!==null?(ts(),l.child=s.child,l.flags|=128,l=null):(ts(),D=g.fallback,b=l.mode,g=Kf({mode:"visible",children:g.children},b),D=Fs(D,b,d,null),D.flags|=2,g.return=l,D.return=l,g.sibling=D,l.child=g,Vs(l,s.child,null,d),g=l.child,g.memoizedState=Bv(d),g.childLanes=Fv(s,O,d),l.memoizedState=zv,l=Vc(null,g));else if(es(l),Sy(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var X=O.dgst;O=X,g=Error(r(419)),g.stack="",g.digest=O,Rc({value:g,source:null,stack:null}),l=$v(s,l,d)}else if(on||Zo(s,l,d,!1),O=(d&s.childLanes)!==0,on||O){if(O=bt,O!==null&&(g=cf(O,d),g!==0&&g!==U.retryLane))throw U.retryLane=g,Bs(s,g),mr(O,s,g),Lv;wy(D)||th(),l=$v(s,l,d)}else wy(D)?(l.flags|=192,l.child=s.child,l=null):(s=U.treeContext,Ct=Vr(D.nextSibling),Rn=l,Ve=!0,Ya=null,Gr=!1,s!==null&&n2(l,s),l=Uv(l,g.children),l.flags|=4096);return l}return b?(ts(),D=g.fallback,b=l.mode,U=s.child,X=U.sibling,g=ta(U,{mode:"hidden",children:g.children}),g.subtreeFlags=U.subtreeFlags&65011712,X!==null?D=ta(X,D):(D=Fs(D,b,d,null),D.flags|=2),D.return=l,g.return=l,g.sibling=D,l.child=g,Vc(null,g),g=l.child,D=s.child.memoizedState,D===null?D=Bv(d):(b=D.cachePool,b!==null?(U=an._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=l2(),D={baseLanes:D.baseLanes|d,cachePool:b}),g.memoizedState=D,g.childLanes=Fv(s,O,d),l.memoizedState=zv,Vc(s.child,g)):(es(l),d=s.child,s=d.sibling,d=ta(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,s!==null&&(O=l.deletions,O===null?(l.deletions=[s],l.flags|=16):O.push(s)),l.child=d,l.memoizedState=null,d)}function Uv(s,l){return l=Kf({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Kf(s,l){return s=Ar(22,s,null,l),s.lanes=0,s}function $v(s,l,d){return Vs(l,s.child,null,d),s=Uv(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function wE(s,l,d){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),rv(s.return,l,d)}function Hv(s,l,d,g,b,E){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:b,treeForkCount:E}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=d,O.tailMode=b,O.treeForkCount=E)}function SE(s,l,d){var g=l.pendingProps,b=g.revealOrder,E=g.tail;g=g.children;var O=Zt.current,D=(O&2)!==0;if(D?(O=O&1|2,l.flags|=128):O&=1,ce(Zt,O),In(s,l,g,d),g=Ve?Dc:0,!D&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wE(s,d,l);else if(s.tag===19)wE(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(d=l.child,b=null;d!==null;)s=d.alternate,s!==null&&Df(s)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),Hv(l,!1,b,d,E,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(s=b.alternate,s!==null&&Df(s)===null){l.child=b;break}s=b.sibling,b.sibling=d,d=b,b=s}Hv(l,!0,d,null,E,g);break;case"together":Hv(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function oa(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),is|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Zo(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=ta(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=ta(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function qv(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Cf(s)))}function q4(s,l,d){switch(l.tag){case 3:lt(l,l.stateNode.containerInfo),Xa(l,an,s.memoizedState.cache),Us();break;case 27:case 5:Te(l);break;case 4:lt(l,l.stateNode.containerInfo);break;case 10:Xa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,pv(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(es(l),l.flags|=128,null):(d&l.child.childLanes)!==0?xE(s,l,d):(es(l),s=oa(s,l,d),s!==null?s.sibling:null);es(l);break;case 19:var b=(s.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Zo(s,l,d,!1),g=(d&l.childLanes)!==0),b){if(g)return SE(s,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ce(Zt,Zt.current),g)break;return null;case 22:return l.lanes=0,mE(s,l,d,l.pendingProps);case 24:Xa(l,an,s.memoizedState.cache)}return oa(s,l,d)}function AE(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)on=!0;else{if(!qv(s,d)&&(l.flags&128)===0)return on=!1,q4(s,l,d);on=(s.flags&131072)!==0}else on=!1,Ve&&(l.flags&1048576)!==0&&t2(l,Dc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(s=Gs(l.elementType),l.type=s,typeof s=="function")Wg(s)?(g=Ws(s,g),l.tag=1,l=yE(null,l,s,g,d)):(l.tag=0,l=Iv(null,l,s,g,d));else{if(s!=null){var b=s.$$typeof;if(b===T){l.tag=11,l=dE(null,l,s,g,d);break e}else if(b===P){l.tag=14,l=fE(null,l,s,g,d);break e}}throw l=Q(s)||s,Error(r(306,l,""))}}return l;case 0:return Iv(s,l,l.type,l.pendingProps,d);case 1:return g=l.type,b=Ws(g,l.pendingProps),yE(s,l,g,b,d);case 3:e:{if(lt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));g=l.pendingProps;var E=l.memoizedState;b=E.element,uv(s,l),$c(l,g,null,d);var O=l.memoizedState;if(g=O.cache,Xa(l,an,g),g!==E.cache&&iv(l,[an],d,!0),Uc(),g=O.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=bE(s,l,g,d);break e}else if(g!==b){b=$r(Error(r(424)),l),Rc(b),l=bE(s,l,g,d);break e}else for(s=l.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Ct=Vr(s.firstChild),Rn=l,Ve=!0,Ya=null,Gr=!0,d=m2(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Us(),g===b){l=oa(s,l,d);break e}In(s,l,g,d)}l=l.child}return l;case 26:return Gf(s,l),s===null?(d=D_(l.type,null,l.pendingProps,null))?l.memoizedState=d:Ve||(d=l.type,s=l.pendingProps,g=lh(Ee.current).createElement(d),g[Dn]=l,g[lr]=s,zn(g,d,s),En(g),l.stateNode=g):l.memoizedState=D_(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Te(l),s===null&&Ve&&(g=l.stateNode=O_(l.type,l.pendingProps,Ee.current),Rn=l,Gr=!0,b=Ct,cs(l.type)?(Ay=b,Ct=Vr(g.firstChild)):Ct=b),In(s,l,l.pendingProps.children,d),Gf(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Ve&&((b=g=Ct)&&(g=xz(g,l.type,l.pendingProps,Gr),g!==null?(l.stateNode=g,Rn=l,Ct=Vr(g.firstChild),Gr=!1,b=!0):b=!1),b||Wa(l)),Te(l),b=l.type,E=l.pendingProps,O=s!==null?s.memoizedProps:null,g=E.children,yy(b,E)?g=null:O!==null&&yy(b,O)&&(l.flags|=32),l.memoizedState!==null&&(b=vv(s,l,R4,null,null,d),lu._currentValue=b),Gf(s,l),In(s,l,g,d),l.child;case 6:return s===null&&Ve&&((s=d=Ct)&&(d=wz(d,l.pendingProps,Gr),d!==null?(l.stateNode=d,Rn=l,Ct=null,s=!0):s=!1),s||Wa(l)),null;case 13:return xE(s,l,d);case 4:return lt(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=Vs(l,null,g,d):In(s,l,g,d),l.child;case 11:return dE(s,l,l.type,l.pendingProps,d);case 7:return In(s,l,l.pendingProps,d),l.child;case 8:return In(s,l,l.pendingProps.children,d),l.child;case 12:return In(s,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,Xa(l,l.type,g.value),In(s,l,g.children,d),l.child;case 9:return b=l.type._context,g=l.pendingProps.children,Hs(l),b=Ln(b),g=g(b),l.flags|=1,In(s,l,g,d),l.child;case 14:return fE(s,l,l.type,l.pendingProps,d);case 15:return hE(s,l,l.type,l.pendingProps,d);case 19:return SE(s,l,d);case 31:return H4(s,l,d);case 22:return mE(s,l,d,l.pendingProps);case 24:return Hs(l),g=Ln(an),s===null?(b=ov(),b===null&&(b=bt,E=av(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=d),b=E),l.memoizedState={parent:g,cache:b},cv(l),Xa(l,an,b)):((s.lanes&d)!==0&&(uv(s,l),$c(l,null,null,d),Uc()),b=s.memoizedState,E=l.memoizedState,b.parent!==g?(b={parent:g,cache:g},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Xa(l,an,g)):(g=E.cache,Xa(l,an,g),g!==b.cache&&iv(l,[an],d,!0))),In(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function la(s){s.flags|=4}function Gv(s,l,d,g,b){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(XE())s.flags|=8192;else throw Ks=Tf,lv}else s.flags&=-16777217}function EE(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!B_(l))if(XE())s.flags|=8192;else throw Ks=Tf,lv}function Vf(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Do():536870912,s.lanes|=l,ul|=l)}function Yc(s,l){if(!Ve)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function jt(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(l)for(var b=s.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=d,l}function G4(s,l,d){var g=l.pendingProps;switch(Jg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(l),null;case 1:return jt(l),null;case 3:return d=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),ia(an),te(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Qo(l)?la(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,tv())),jt(l),null;case 26:var b=l.type,E=l.memoizedState;return s===null?(la(l),E!==null?(jt(l),EE(l,E)):(jt(l),Gv(l,b,null,g,d))):E?E!==s.memoizedState?(la(l),jt(l),EE(l,E)):(jt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==g&&la(l),jt(l),Gv(l,b,s,g,d)),null;case 27:if(Oe(l),d=Ee.current,b=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&la(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return jt(l),null}s=ue.current,Qo(l)?r2(l):(s=O_(b,g,d),l.stateNode=s,la(l))}return jt(l),null;case 5:if(Oe(l),b=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&la(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return jt(l),null}if(E=ue.current,Qo(l))r2(l);else{var O=lh(Ee.current);switch(E){case 1:E=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:E=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":E=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":E=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":E=O.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?O.createElement(b,{is:g.is}):O.createElement(b)}}E[Dn]=l,E[lr]=g;e:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)E.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break e;for(;O.sibling===null;){if(O.return===null||O.return===l)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=E;e:switch(zn(E,b,g),b){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&la(l)}}return jt(l),Gv(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,d),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&la(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ee.current,Qo(l)){if(s=l.stateNode,d=l.memoizedProps,g=null,b=Rn,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}s[Dn]=l,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||x_(s.nodeValue,d)),s||Wa(l,!0)}else s=lh(s).createTextNode(g),s[Dn]=l,l.stateNode=s}return jt(l),null;case 31:if(d=l.memoizedState,s===null||s.memoizedState!==null){if(g=Qo(l),d!==null){if(s===null){if(!g)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Dn]=l}else Us(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jt(l),s=!1}else d=tv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return l.flags&256?(_r(l),l):(_r(l),null);if((l.flags&128)!==0)throw Error(r(558))}return jt(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=Qo(l),g!==null&&g.dehydrated!==null){if(s===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Dn]=l}else Us(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jt(l),b=!1}else b=tv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(_r(l),l):(_r(l),null)}return _r(l),(l.flags&128)!==0?(l.lanes=d,l):(d=g!==null,s=s!==null&&s.memoizedState!==null,d&&(g=l.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==b&&(g.flags|=2048)),d!==s&&d&&(l.child.flags|=8192),Vf(l,l.updateQueue),jt(l),null);case 4:return te(),s===null&&hy(l.stateNode.containerInfo),jt(l),null;case 10:return ia(l.type),jt(l),null;case 19:if(V(Zt),g=l.memoizedState,g===null)return jt(l),null;if(b=(l.flags&128)!==0,E=g.rendering,E===null)if(b)Yc(g,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(E=Df(s),E!==null){for(l.flags|=128,Yc(g,!1),s=E.updateQueue,l.updateQueue=s,Vf(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)ZA(d,s),d=d.sibling;return ce(Zt,Zt.current&1|2),Ve&&na(l,g.treeForkCount),l.child}s=s.sibling}g.tail!==null&&Pe()>Zf&&(l.flags|=128,b=!0,Yc(g,!1),l.lanes=4194304)}else{if(!b)if(s=Df(E),s!==null){if(l.flags|=128,b=!0,s=s.updateQueue,l.updateQueue=s,Vf(l,s),Yc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Ve)return jt(l),null}else 2*Pe()-g.renderingStartTime>Zf&&d!==536870912&&(l.flags|=128,b=!0,Yc(g,!1),l.lanes=4194304);g.isBackwards?(E.sibling=l.child,l.child=E):(s=g.last,s!==null?s.sibling=E:l.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Pe(),s.sibling=null,d=Zt.current,ce(Zt,b?d&1|2:d&1),Ve&&na(l,g.treeForkCount),s):(jt(l),null);case 22:case 23:return _r(l),mv(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(jt(l),l.subtreeFlags&6&&(l.flags|=8192)):jt(l),d=l.updateQueue,d!==null&&Vf(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),s!==null&&V(qs),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ia(an),jt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function K4(s,l){switch(Jg(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return ia(an),te(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Oe(l),null;case 31:if(l.memoizedState!==null){if(_r(l),l.alternate===null)throw Error(r(340));Us()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(_r(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Us()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return V(Zt),null;case 4:return te(),null;case 10:return ia(l.type),null;case 22:case 23:return _r(l),mv(),s!==null&&V(qs),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return ia(an),null;case 25:return null;default:return null}}function _E(s,l){switch(Jg(l),l.tag){case 3:ia(an),te();break;case 26:case 27:case 5:Oe(l);break;case 4:te();break;case 31:l.memoizedState!==null&&_r(l);break;case 13:_r(l);break;case 19:V(Zt);break;case 10:ia(l.type);break;case 22:case 23:_r(l),mv(),s!==null&&V(qs);break;case 24:ia(an)}}function Wc(s,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var b=g.next;d=b;do{if((d.tag&s)===s){g=void 0;var E=d.create,O=d.inst;g=E(),O.destroy=g}d=d.next}while(d!==b)}}catch(D){dt(l,l.return,D)}}function ns(s,l,d){try{var g=l.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var E=b.next;g=E;do{if((g.tag&s)===s){var O=g.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,b=l;var U=d,X=D;try{X()}catch(ae){dt(b,U,ae)}}}g=g.next}while(g!==E)}}catch(ae){dt(l,l.return,ae)}}function CE(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{g2(l,d)}catch(g){dt(s,s.return,g)}}}function jE(s,l,d){d.props=Ws(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){dt(s,l,g)}}function Xc(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(b){dt(s,l,b)}}function Ti(s,l){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(b){dt(s,l,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){dt(s,l,b)}else d.current=null}function kE(s){var l=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(b){dt(s,s.return,b)}}function Kv(s,l,d){try{var g=s.stateNode;mz(g,s.type,d,l),g[lr]=l}catch(b){dt(s,s.return,b)}}function NE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&cs(s.type)||s.tag===4}function Vv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||NE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&cs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yv(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ji));else if(g!==4&&(g===27&&cs(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(Yv(s,l,d),s=s.sibling;s!==null;)Yv(s,l,d),s=s.sibling}function Yf(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(g!==4&&(g===27&&cs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Yf(s,l,d),s=s.sibling;s!==null;)Yf(s,l,d),s=s.sibling}function TE(s){var l=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);zn(l,g,d),l[Dn]=s,l[lr]=d}catch(E){dt(s,s.return,E)}}var ca=!1,ln=!1,Wv=!1,OE=typeof WeakSet=="function"?WeakSet:Set,_n=null;function V4(s,l){if(s=s.containerInfo,gy=ph,s=HA(s),$g(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var b=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var O=0,D=-1,U=-1,X=0,ae=0,le=s,Z=null;t:for(;;){for(var J;le!==d||b!==0&&le.nodeType!==3||(D=O+b),le!==E||g!==0&&le.nodeType!==3||(U=O+g),le.nodeType===3&&(O+=le.nodeValue.length),(J=le.firstChild)!==null;)Z=le,le=J;for(;;){if(le===s)break t;if(Z===d&&++X===b&&(D=O),Z===E&&++ae===g&&(U=O),(J=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=J}d=D===-1||U===-1?null:{start:D,end:U}}else d=null}d=d||{start:0,end:0}}else d=null;for(vy={focusedElem:s,selectionRange:d},ph=!1,_n=l;_n!==null;)if(l=_n,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,_n=s;else for(;_n!==null;){switch(l=_n,E=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)b=s[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,d=l,b=E.memoizedProps,E=E.memoizedState,g=d.stateNode;try{var be=Ws(d.type,b);s=g.getSnapshotBeforeUpdate(be,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){dt(d,d.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)xy(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":xy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,_n=s;break}_n=l.return}}function PE(s,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:da(s,d),g&4&&Wc(5,d);break;case 1:if(da(s,d),g&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(O){dt(d,d.return,O)}else{var b=Ws(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(b,l,s.__reactInternalSnapshotBeforeUpdate)}catch(O){dt(d,d.return,O)}}g&64&&CE(d),g&512&&Xc(d,d.return);break;case 3:if(da(s,d),g&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{g2(s,l)}catch(O){dt(d,d.return,O)}}break;case 27:l===null&&g&4&&TE(d);case 26:case 5:da(s,d),l===null&&g&4&&kE(d),g&512&&Xc(d,d.return);break;case 12:da(s,d);break;case 31:da(s,d),g&4&&RE(s,d);break;case 13:da(s,d),g&4&&LE(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=nz.bind(null,d),Sz(s,d))));break;case 22:if(g=d.memoizedState!==null||ca,!g){l=l!==null&&l.memoizedState!==null||ln,b=ca;var E=ln;ca=g,(ln=l)&&!E?fa(s,d,(d.subtreeFlags&8772)!==0):da(s,d),ca=b,ln=E}break;case 30:break;default:da(s,d)}}function ME(s){var l=s.alternate;l!==null&&(s.alternate=null,ME(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&_g(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Tt=null,ur=!1;function ua(s,l,d){for(d=d.child;d!==null;)DE(s,l,d),d=d.sibling}function DE(s,l,d){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(xe,d)}catch{}switch(d.tag){case 26:ln||Ti(d,l),ua(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ln||Ti(d,l);var g=Tt,b=ur;cs(d.type)&&(Tt=d.stateNode,ur=!1),ua(s,l,d),au(d.stateNode),Tt=g,ur=b;break;case 5:ln||Ti(d,l);case 6:if(g=Tt,b=ur,Tt=null,ua(s,l,d),Tt=g,ur=b,Tt!==null)if(ur)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(d.stateNode)}catch(E){dt(d,l,E)}else try{Tt.removeChild(d.stateNode)}catch(E){dt(d,l,E)}break;case 18:Tt!==null&&(ur?(s=Tt,C_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),yl(s)):C_(Tt,d.stateNode));break;case 4:g=Tt,b=ur,Tt=d.stateNode.containerInfo,ur=!0,ua(s,l,d),Tt=g,ur=b;break;case 0:case 11:case 14:case 15:ns(2,d,l),ln||ns(4,d,l),ua(s,l,d);break;case 1:ln||(Ti(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&jE(d,l,g)),ua(s,l,d);break;case 21:ua(s,l,d);break;case 22:ln=(g=ln)||d.memoizedState!==null,ua(s,l,d),ln=g;break;default:ua(s,l,d)}}function RE(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{yl(s)}catch(d){dt(l,l.return,d)}}}function LE(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yl(s)}catch(d){dt(l,l.return,d)}}function Y4(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new OE),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new OE),l;default:throw Error(r(435,s.tag))}}function Wf(s,l){var d=Y4(s);l.forEach(function(g){if(!d.has(g)){d.add(g);var b=rz.bind(null,s,g);g.then(b,b)}})}function dr(s,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var b=d[g],E=s,O=l,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(cs(D.type)){Tt=D.stateNode,ur=!1;break e}break;case 5:Tt=D.stateNode,ur=!1;break e;case 3:case 4:Tt=D.stateNode.containerInfo,ur=!0;break e}D=D.return}if(Tt===null)throw Error(r(160));DE(E,O,b),Tt=null,ur=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)IE(l,s),l=l.sibling}var mi=null;function IE(s,l){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:dr(l,s),fr(s),g&4&&(ns(3,s,s.return),Wc(3,s),ns(5,s,s.return));break;case 1:dr(l,s),fr(s),g&512&&(ln||d===null||Ti(d,d.return)),g&64&&ca&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var b=mi;if(dr(l,s),fr(s),g&512&&(ln||d===null||Ti(d,d.return)),g&4){var E=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":E=b.getElementsByTagName("title")[0],(!E||E[Ac]||E[Dn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(g),b.head.insertBefore(E,b.querySelector("head > title"))),zn(E,g,d),E[Dn]=s,En(E),g=E;break e;case"link":var O=I_("link","href",b).get(g+(d.href||""));if(O){for(var D=0;D<O.length;D++)if(E=O[D],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){O.splice(D,1);break t}}E=b.createElement(g),zn(E,g,d),b.head.appendChild(E);break;case"meta":if(O=I_("meta","content",b).get(g+(d.content||""))){for(D=0;D<O.length;D++)if(E=O[D],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){O.splice(D,1);break t}}E=b.createElement(g),zn(E,g,d),b.head.appendChild(E);break;default:throw Error(r(468,g))}E[Dn]=s,En(E),g=E}s.stateNode=g}else z_(b,s.type,s.stateNode);else s.stateNode=L_(b,g,s.memoizedProps);else E!==g?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,g===null?z_(b,s.type,s.stateNode):L_(b,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Kv(s,s.memoizedProps,d.memoizedProps)}break;case 27:dr(l,s),fr(s),g&512&&(ln||d===null||Ti(d,d.return)),d!==null&&g&4&&Kv(s,s.memoizedProps,d.memoizedProps);break;case 5:if(dr(l,s),fr(s),g&512&&(ln||d===null||Ti(d,d.return)),s.flags&32){b=s.stateNode;try{Uo(b,"")}catch(be){dt(s,s.return,be)}}g&4&&s.stateNode!=null&&(b=s.memoizedProps,Kv(s,b,d!==null?d.memoizedProps:b)),g&1024&&(Wv=!0);break;case 6:if(dr(l,s),fr(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(be){dt(s,s.return,be)}}break;case 3:if(dh=null,b=mi,mi=ch(l.containerInfo),dr(l,s),mi=b,fr(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{yl(l.containerInfo)}catch(be){dt(s,s.return,be)}Wv&&(Wv=!1,zE(s));break;case 4:g=mi,mi=ch(s.stateNode.containerInfo),dr(l,s),fr(s),mi=g;break;case 12:dr(l,s),fr(s);break;case 31:dr(l,s),fr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Wf(s,g)));break;case 13:dr(l,s),fr(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Qf=Pe()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Wf(s,g)));break;case 22:b=s.memoizedState!==null;var U=d!==null&&d.memoizedState!==null,X=ca,ae=ln;if(ca=X||b,ln=ae||U,dr(l,s),ln=ae,ca=X,fr(s),g&8192)e:for(l=s.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||U||ca||ln||Xs(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){U=d=l;try{if(E=U.stateNode,b)O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=U.stateNode;var le=U.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;D.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(be){dt(U,U.return,be)}}}else if(l.tag===6){if(d===null){U=l;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(be){dt(U,U.return,be)}}}else if(l.tag===18){if(d===null){U=l;try{var J=U.stateNode;b?j_(J,!0):j_(U.stateNode,!1)}catch(be){dt(U,U.return,be)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Wf(s,d))));break;case 19:dr(l,s),fr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Wf(s,g)));break;case 30:break;case 21:break;default:dr(l,s),fr(s)}}function fr(s){var l=s.flags;if(l&2){try{for(var d,g=s.return;g!==null;){if(NE(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,E=Vv(s);Yf(s,E,b);break;case 5:var O=d.stateNode;d.flags&32&&(Uo(O,""),d.flags&=-33);var D=Vv(s);Yf(s,D,O);break;case 3:case 4:var U=d.stateNode.containerInfo,X=Vv(s);Yv(s,X,U);break;default:throw Error(r(161))}}catch(ae){dt(s,s.return,ae)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function zE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;zE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function da(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)PE(s,l.alternate,l),l=l.sibling}function Xs(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:ns(4,l,l.return),Xs(l);break;case 1:Ti(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&jE(l,l.return,d),Xs(l);break;case 27:au(l.stateNode);case 26:case 5:Ti(l,l.return),Xs(l);break;case 22:l.memoizedState===null&&Xs(l);break;case 30:Xs(l);break;default:Xs(l)}s=s.sibling}}function fa(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,b=s,E=l,O=E.flags;switch(E.tag){case 0:case 11:case 15:fa(b,E,d),Wc(4,E);break;case 1:if(fa(b,E,d),g=E,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(X){dt(g,g.return,X)}if(g=E,b=g.updateQueue,b!==null){var D=g.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)p2(U[b],D)}catch(X){dt(g,g.return,X)}}d&&O&64&&CE(E),Xc(E,E.return);break;case 27:TE(E);case 26:case 5:fa(b,E,d),d&&g===null&&O&4&&kE(E),Xc(E,E.return);break;case 12:fa(b,E,d);break;case 31:fa(b,E,d),d&&O&4&&RE(b,E);break;case 13:fa(b,E,d),d&&O&4&&LE(b,E);break;case 22:E.memoizedState===null&&fa(b,E,d),Xc(E,E.return);break;case 30:break;default:fa(b,E,d)}l=l.sibling}}function Xv(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Lc(d))}function Qv(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Lc(s))}function pi(s,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)BE(s,l,d,g),l=l.sibling}function BE(s,l,d,g){var b=l.flags;switch(l.tag){case 0:case 11:case 15:pi(s,l,d,g),b&2048&&Wc(9,l);break;case 1:pi(s,l,d,g);break;case 3:pi(s,l,d,g),b&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Lc(s)));break;case 12:if(b&2048){pi(s,l,d,g),s=l.stateNode;try{var E=l.memoizedProps,O=E.id,D=E.onPostCommit;typeof D=="function"&&D(O,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){dt(l,l.return,U)}}else pi(s,l,d,g);break;case 31:pi(s,l,d,g);break;case 13:pi(s,l,d,g);break;case 23:break;case 22:E=l.stateNode,O=l.alternate,l.memoizedState!==null?E._visibility&2?pi(s,l,d,g):Qc(s,l):E._visibility&2?pi(s,l,d,g):(E._visibility|=2,ol(s,l,d,g,(l.subtreeFlags&10256)!==0||!1)),b&2048&&Xv(O,l);break;case 24:pi(s,l,d,g),b&2048&&Qv(l.alternate,l);break;default:pi(s,l,d,g)}}function ol(s,l,d,g,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=s,O=l,D=d,U=g,X=O.flags;switch(O.tag){case 0:case 11:case 15:ol(E,O,D,U,b),Wc(8,O);break;case 23:break;case 22:var ae=O.stateNode;O.memoizedState!==null?ae._visibility&2?ol(E,O,D,U,b):Qc(E,O):(ae._visibility|=2,ol(E,O,D,U,b)),b&&X&2048&&Xv(O.alternate,O);break;case 24:ol(E,O,D,U,b),b&&X&2048&&Qv(O.alternate,O);break;default:ol(E,O,D,U,b)}l=l.sibling}}function Qc(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,g=l,b=g.flags;switch(g.tag){case 22:Qc(d,g),b&2048&&Xv(g.alternate,g);break;case 24:Qc(d,g),b&2048&&Qv(g.alternate,g);break;default:Qc(d,g)}l=l.sibling}}var Zc=8192;function ll(s,l,d){if(s.subtreeFlags&Zc)for(s=s.child;s!==null;)FE(s,l,d),s=s.sibling}function FE(s,l,d){switch(s.tag){case 26:ll(s,l,d),s.flags&Zc&&s.memoizedState!==null&&Dz(d,mi,s.memoizedState,s.memoizedProps);break;case 5:ll(s,l,d);break;case 3:case 4:var g=mi;mi=ch(s.stateNode.containerInfo),ll(s,l,d),mi=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Zc,Zc=16777216,ll(s,l,d),Zc=g):ll(s,l,d));break;default:ll(s,l,d)}}function UE(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Jc(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];_n=g,HE(g,s)}UE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$E(s),s=s.sibling}function $E(s){switch(s.tag){case 0:case 11:case 15:Jc(s),s.flags&2048&&ns(9,s,s.return);break;case 3:Jc(s);break;case 12:Jc(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Xf(s)):Jc(s);break;default:Jc(s)}}function Xf(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];_n=g,HE(g,s)}UE(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:ns(8,l,l.return),Xf(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Xf(l));break;default:Xf(l)}s=s.sibling}}function HE(s,l){for(;_n!==null;){var d=_n;switch(d.tag){case 0:case 11:case 15:ns(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Lc(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,_n=g;else e:for(d=s;_n!==null;){g=_n;var b=g.sibling,E=g.return;if(ME(g),g===d){_n=null;break e}if(b!==null){b.return=E,_n=b;break e}_n=E}}}var W4={getCacheForType:function(s){var l=Ln(an),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d},cacheSignal:function(){return Ln(an).controller.signal}},X4=typeof WeakMap=="function"?WeakMap:Map,it=0,bt=null,He=null,Ge=0,ut=0,Cr=null,rs=!1,cl=!1,Zv=!1,ha=0,Kt=0,is=0,Qs=0,Jv=0,jr=0,ul=0,eu=null,hr=null,ey=!1,Qf=0,qE=0,Zf=1/0,Jf=null,as=null,gn=0,ss=null,dl=null,ma=0,ty=0,ny=null,GE=null,tu=0,ry=null;function kr(){return(it&2)!==0&&Ge!==0?Ge&-Ge:M.T!==null?cy():oA()}function KE(){if(jr===0)if((Ge&536870912)===0||Ve){var s=Qt;Qt<<=1,(Qt&3932160)===0&&(Qt=262144),jr=s}else jr=536870912;return s=Er.current,s!==null&&(s.flags|=32),jr}function mr(s,l,d){(s===bt&&(ut===2||ut===9)||s.cancelPendingCommit!==null)&&(fl(s,0),os(s,Ge,jr,!1)),qa(s,d),((it&2)===0||s!==bt)&&(s===bt&&((it&2)===0&&(Qs|=d),Kt===4&&os(s,Ge,jr,!1)),Oi(s))}function VE(s,l,d){if((it&6)!==0)throw Error(r(327));var g=!d&&(l&127)===0&&(l&s.expiredLanes)===0||Hn(s,l),b=g?J4(s,l):ay(s,l,!0),E=g;do{if(b===0){cl&&!g&&os(s,l,0,!1);break}else{if(d=s.current.alternate,E&&!Q4(d)){b=ay(s,l,!1),E=!1;continue}if(b===2){if(E=l,s.errorRecoveryDisabledLanes&E)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var D=s;b=eu;var U=D.current.memoizedState.isDehydrated;if(U&&(fl(D,O).flags|=256),O=ay(D,O,!1),O!==2){if(Zv&&!U){D.errorRecoveryDisabledLanes|=E,Qs|=E,b=4;break e}E=hr,hr=b,E!==null&&(hr===null?hr=E:hr.push.apply(hr,E))}b=O}if(E=!1,b!==2)continue}}if(b===1){fl(s,0),os(s,l,0,!0);break}e:{switch(g=s,E=b,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:os(g,l,jr,!rs);break e;case 2:hr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Qf+300-Pe(),10<b)){if(os(g,l,jr,!rs),zr(g,0,!0)!==0)break e;ma=l,g.timeoutHandle=E_(YE.bind(null,g,d,hr,Jf,ey,l,jr,Qs,ul,rs,E,"Throttled",-0,0),b);break e}YE(g,d,hr,Jf,ey,l,jr,Qs,ul,rs,E,null,-0,0)}}break}while(!0);Oi(s)}function YE(s,l,d,g,b,E,O,D,U,X,ae,le,Z,J){if(s.timeoutHandle=-1,le=l.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ji},FE(l,E,le);var be=(E&62914560)===E?Qf-Pe():(E&4194048)===E?qE-Pe():0;if(be=Rz(le,be),be!==null){ma=E,s.cancelPendingCommit=be(n_.bind(null,s,l,E,d,g,b,O,D,U,ae,le,null,Z,J)),os(s,E,O,!X);return}}n_(s,l,E,d,g,b,O,D,U)}function Q4(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var b=d[g],E=b.getSnapshot;b=b.value;try{if(!Sr(E(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function os(s,l,d,g){l&=~Jv,l&=~Qs,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var b=l;0<b;){var E=31-Me(b),O=1<<E;g[E]=-1,b&=~O}d!==0&&fi(s,d,l)}function eh(){return(it&6)===0?(nu(0),!1):!0}function iy(){if(He!==null){if(ut===0)var s=He.return;else s=He,ra=$s=null,xv(s),nl=null,zc=0,s=He;for(;s!==null;)_E(s.alternate,s),s=s.return;He=null}}function fl(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,vz(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),ma=0,iy(),bt=s,He=d=ta(s.current,null),Ge=l,ut=0,Cr=null,rs=!1,cl=Hn(s,l),Zv=!1,ul=jr=Jv=Qs=is=Kt=0,hr=eu=null,ey=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var b=31-Me(g),E=1<<b;l|=s[b],g&=~E}return ha=l,wf(),d}function WE(s,l){ze=null,M.H=Kc,l===tl||l===Nf?(l=d2(),ut=3):l===lv?(l=d2(),ut=4):ut=l===Lv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Cr=l,He===null&&(Kt=1,Hf(s,$r(l,s.current)))}function XE(){var s=Er.current;return s===null?!0:(Ge&4194048)===Ge?Kr===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?s===Kr:!1}function QE(){var s=M.H;return M.H=Kc,s===null?Kc:s}function ZE(){var s=M.A;return M.A=W4,s}function th(){Kt=4,rs||(Ge&4194048)!==Ge&&Er.current!==null||(cl=!0),(is&134217727)===0&&(Qs&134217727)===0||bt===null||os(bt,Ge,jr,!1)}function ay(s,l,d){var g=it;it|=2;var b=QE(),E=ZE();(bt!==s||Ge!==l)&&(Jf=null,fl(s,l)),l=!1;var O=Kt;e:do try{if(ut!==0&&He!==null){var D=He,U=Cr;switch(ut){case 8:iy(),O=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(l=!0);var X=ut;if(ut=0,Cr=null,hl(s,D,U,X),d&&cl){O=0;break e}break;default:X=ut,ut=0,Cr=null,hl(s,D,U,X)}}Z4(),O=Kt;break}catch(ae){WE(s,ae)}while(!0);return l&&s.shellSuspendCounter++,ra=$s=null,it=g,M.H=b,M.A=E,He===null&&(bt=null,Ge=0,wf()),O}function Z4(){for(;He!==null;)JE(He)}function J4(s,l){var d=it;it|=2;var g=QE(),b=ZE();bt!==s||Ge!==l?(Jf=null,Zf=Pe()+500,fl(s,l)):cl=Hn(s,l);e:do try{if(ut!==0&&He!==null){l=He;var E=Cr;t:switch(ut){case 1:ut=0,Cr=null,hl(s,l,E,1);break;case 2:case 9:if(c2(E)){ut=0,Cr=null,e_(l);break}l=function(){ut!==2&&ut!==9||bt!==s||(ut=7),Oi(s)},E.then(l,l);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:c2(E)?(ut=0,Cr=null,e_(l)):(ut=0,Cr=null,hl(s,l,E,7));break;case 5:var O=null;switch(He.tag){case 26:O=He.memoizedState;case 5:case 27:var D=He;if(O?B_(O):D.stateNode.complete){ut=0,Cr=null;var U=D.sibling;if(U!==null)He=U;else{var X=D.return;X!==null?(He=X,nh(X)):He=null}break t}}ut=0,Cr=null,hl(s,l,E,5);break;case 6:ut=0,Cr=null,hl(s,l,E,6);break;case 8:iy(),Kt=6;break e;default:throw Error(r(462))}}ez();break}catch(ae){WE(s,ae)}while(!0);return ra=$s=null,M.H=g,M.A=b,it=d,He!==null?0:(bt=null,Ge=0,wf(),Kt)}function ez(){for(;He!==null&&!ee();)JE(He)}function JE(s){var l=AE(s.alternate,s,ha);s.memoizedProps=s.pendingProps,l===null?nh(s):He=l}function e_(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=vE(d,l,l.pendingProps,l.type,void 0,Ge);break;case 11:l=vE(d,l,l.pendingProps,l.type.render,l.ref,Ge);break;case 5:xv(l);default:_E(d,l),l=He=ZA(l,ha),l=AE(d,l,ha)}s.memoizedProps=s.pendingProps,l===null?nh(s):He=l}function hl(s,l,d,g){ra=$s=null,xv(l),nl=null,zc=0;var b=l.return;try{if($4(s,b,l,d,Ge)){Kt=1,Hf(s,$r(d,s.current)),He=null;return}}catch(E){if(b!==null)throw He=b,E;Kt=1,Hf(s,$r(d,s.current)),He=null;return}l.flags&32768?(Ve||g===1?s=!0:cl||(Ge&536870912)!==0?s=!1:(rs=s=!0,(g===2||g===9||g===3||g===6)&&(g=Er.current,g!==null&&g.tag===13&&(g.flags|=16384))),t_(l,s)):nh(l)}function nh(s){var l=s;do{if((l.flags&32768)!==0){t_(l,rs);return}s=l.return;var d=G4(l.alternate,l,ha);if(d!==null){He=d;return}if(l=l.sibling,l!==null){He=l;return}He=l=s}while(l!==null);Kt===0&&(Kt=5)}function t_(s,l){do{var d=K4(s.alternate,s);if(d!==null){d.flags&=32767,He=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){He=s;return}He=s=d}while(s!==null);Kt=6,He=null}function n_(s,l,d,g,b,E,O,D,U){s.cancelPendingCommit=null;do rh();while(gn!==0);if((it&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=Vg,Et(s,d,E,O,D,U),s===bt&&(He=bt=null,Ge=0),dl=l,ss=s,ma=d,ty=E,ny=b,GE=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,iz(Ci,function(){return o_(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=M.T,M.T=null,b=I.p,I.p=2,O=it,it|=4;try{V4(s,l,d)}finally{it=O,I.p=b,M.T=g}}gn=1,r_(),i_(),a_()}}function r_(){if(gn===1){gn=0;var s=ss,l=dl,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=M.T,M.T=null;var g=I.p;I.p=2;var b=it;it|=4;try{IE(l,s);var E=vy,O=HA(s.containerInfo),D=E.focusedElem,U=E.selectionRange;if(O!==D&&D&&D.ownerDocument&&$A(D.ownerDocument.documentElement,D)){if(U!==null&&$g(D)){var X=U.start,ae=U.end;if(ae===void 0&&(ae=X),"selectionStart"in D)D.selectionStart=X,D.selectionEnd=Math.min(ae,D.value.length);else{var le=D.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),be=D.textContent.length,Ne=Math.min(U.start,be),pt=U.end===void 0?Ne:Math.min(U.end,be);!J.extend&&Ne>pt&&(O=pt,pt=Ne,Ne=O);var K=UA(D,Ne),q=UA(D,pt);if(K&&q&&(J.rangeCount!==1||J.anchorNode!==K.node||J.anchorOffset!==K.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var W=le.createRange();W.setStart(K.node,K.offset),J.removeAllRanges(),Ne>pt?(J.addRange(W),J.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),J.addRange(W))}}}}for(le=[],J=D;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<le.length;D++){var se=le[D];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}ph=!!gy,vy=gy=null}finally{it=b,I.p=g,M.T=d}}s.current=l,gn=2}}function i_(){if(gn===2){gn=0;var s=ss,l=dl,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=M.T,M.T=null;var g=I.p;I.p=2;var b=it;it|=4;try{PE(s,l.alternate,l)}finally{it=b,I.p=g,M.T=d}}gn=3}}function a_(){if(gn===4||gn===3){gn=0,Ae();var s=ss,l=dl,d=ma,g=GE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?gn=5:(gn=0,dl=ss=null,s_(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(as=null),Ag(d),l=l.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(xe,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=M.T,b=I.p,I.p=2,M.T=null;try{for(var E=s.onRecoverableError,O=0;O<g.length;O++){var D=g[O];E(D.value,{componentStack:D.stack})}}finally{M.T=l,I.p=b}}(ma&3)!==0&&rh(),Oi(s),b=s.pendingLanes,(d&261930)!==0&&(b&42)!==0?s===ry?tu++:(tu=0,ry=s):tu=0,nu(0)}}function s_(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Lc(l)))}function rh(){return r_(),i_(),a_(),o_()}function o_(){if(gn!==5)return!1;var s=ss,l=ty;ty=0;var d=Ag(ma),g=M.T,b=I.p;try{I.p=32>d?32:d,M.T=null,d=ny,ny=null;var E=ss,O=ma;if(gn=0,dl=ss=null,ma=0,(it&6)!==0)throw Error(r(331));var D=it;if(it|=4,$E(E.current),BE(E,E.current,O,d),it=D,nu(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(xe,E)}catch{}return!0}finally{I.p=b,M.T=g,s_(s,l)}}function l_(s,l,d){l=$r(d,l),l=Rv(s.stateNode,l,2),s=Ja(s,l,2),s!==null&&(qa(s,2),Oi(s))}function dt(s,l,d){if(s.tag===3)l_(s,s,d);else for(;l!==null;){if(l.tag===3){l_(l,s,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(as===null||!as.has(g))){s=$r(d,s),d=cE(2),g=Ja(l,d,2),g!==null&&(uE(d,g,l,s),qa(g,2),Oi(g));break}}l=l.return}}function sy(s,l,d){var g=s.pingCache;if(g===null){g=s.pingCache=new X4;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(d)||(Zv=!0,b.add(d),s=tz.bind(null,s,l,d),l.then(s,s))}function tz(s,l,d){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,bt===s&&(Ge&d)===d&&(Kt===4||Kt===3&&(Ge&62914560)===Ge&&300>Pe()-Qf?(it&2)===0&&fl(s,0):Jv|=d,ul===Ge&&(ul=0)),Oi(s)}function c_(s,l){l===0&&(l=Do()),s=Bs(s,l),s!==null&&(qa(s,l),Oi(s))}function nz(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),c_(s,d)}function rz(s,l){var d=0;switch(s.tag){case 31:case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(d=b.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),c_(s,d)}function iz(s,l){return Ms(s,l)}var ih=null,ml=null,oy=!1,ah=!1,ly=!1,ls=0;function Oi(s){s!==ml&&s.next===null&&(ml===null?ih=ml=s:ml=ml.next=s),ah=!0,oy||(oy=!0,sz())}function nu(s,l){if(!ly&&ah){ly=!0;do for(var d=!1,g=ih;g!==null;){if(s!==0){var b=g.pendingLanes;if(b===0)var E=0;else{var O=g.suspendedLanes,D=g.pingedLanes;E=(1<<31-Me(42|s)+1)-1,E&=b&~(O&~D),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,h_(g,E))}else E=Ge,E=zr(g,g===bt?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||Hn(g,E)||(d=!0,h_(g,E));g=g.next}while(d);ly=!1}}function az(){u_()}function u_(){ah=oy=!1;var s=0;ls!==0&&gz()&&(s=ls);for(var l=Pe(),d=null,g=ih;g!==null;){var b=g.next,E=d_(g,l);E===0?(g.next=null,d===null?ih=b:d.next=b,b===null&&(ml=d)):(d=g,(s!==0||(E&3)!==0)&&(ah=!0)),g=b}gn!==0&&gn!==5||nu(s),ls!==0&&(ls=0)}function d_(s,l){for(var d=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var O=31-Me(E),D=1<<O,U=b[O];U===-1?((D&d)===0||(D&g)!==0)&&(b[O]=Ds(D,l)):U<=l&&(s.expiredLanes|=D),E&=~D}if(l=bt,d=Ge,d=zr(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===l&&(ut===2||ut===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Ha(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Hn(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(g!==null&&Ha(g),Ag(d)){case 2:case 8:d=_i;break;case 32:d=Ci;break;case 268435456:d=Qi;break;default:d=Ci}return g=f_.bind(null,s),d=Ms(d,g),s.callbackPriority=l,s.callbackNode=d,l}return g!==null&&g!==null&&Ha(g),s.callbackPriority=2,s.callbackNode=null,2}function f_(s,l){if(gn!==0&&gn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(rh()&&s.callbackNode!==d)return null;var g=Ge;return g=zr(s,s===bt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(VE(s,g,l),d_(s,Pe()),s.callbackNode!=null&&s.callbackNode===d?f_.bind(null,s):null)}function h_(s,l){if(rh())return null;VE(s,l,!0)}function sz(){yz(function(){(it&6)!==0?Ms(Xn,az):u_()})}function cy(){if(ls===0){var s=Jo;s===0&&(s=It,It<<=1,(It&261888)===0&&(It=256)),ls=s}return ls}function m_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hf(""+s)}function p_(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function oz(s,l,d,g,b){if(l==="submit"&&d&&d.stateNode===b){var E=m_((b[lr]||null).action),O=g.submitter;O&&(l=(l=O[lr]||null)?m_(l.formAction):O.getAttribute("formAction"),l!==null&&(E=l,O=null));var D=new vf("action","action",null,g,b);s.push({event:D,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ls!==0){var U=O?p_(b,O):new FormData(b);Nv(d,{pending:!0,data:U,method:b.method,action:E},null,U)}}else typeof E=="function"&&(D.preventDefault(),U=O?p_(b,O):new FormData(b),Nv(d,{pending:!0,data:U,method:b.method,action:E},E,U))},currentTarget:b}]})}}for(var uy=0;uy<Kg.length;uy++){var dy=Kg[uy],lz=dy.toLowerCase(),cz=dy[0].toUpperCase()+dy.slice(1);hi(lz,"on"+cz)}hi(KA,"onAnimationEnd"),hi(VA,"onAnimationIteration"),hi(YA,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(_4,"onTransitionRun"),hi(C4,"onTransitionStart"),hi(j4,"onTransitionCancel"),hi(WA,"onTransitionEnd"),Bo("onMouseEnter",["mouseout","mouseover"]),Bo("onMouseLeave",["mouseout","mouseover"]),Bo("onPointerEnter",["pointerout","pointerover"]),Bo("onPointerLeave",["pointerout","pointerover"]),Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function g_(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],b=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var O=g.length-1;0<=O;O--){var D=g[O],U=D.instance,X=D.currentTarget;if(D=D.listener,U!==E&&b.isPropagationStopped())break e;E=D,b.currentTarget=X;try{E(b)}catch(ae){xf(ae)}b.currentTarget=null,E=U}else for(O=0;O<g.length;O++){if(D=g[O],U=D.instance,X=D.currentTarget,D=D.listener,U!==E&&b.isPropagationStopped())break e;E=D,b.currentTarget=X;try{E(b)}catch(ae){xf(ae)}b.currentTarget=null,E=U}}}}function qe(s,l){var d=l[Eg];d===void 0&&(d=l[Eg]=new Set);var g=s+"__bubble";d.has(g)||(v_(l,s,2,!1),d.add(g))}function fy(s,l,d){var g=0;l&&(g|=4),v_(d,s,g,l)}var sh="_reactListening"+Math.random().toString(36).slice(2);function hy(s){if(!s[sh]){s[sh]=!0,uA.forEach(function(d){d!=="selectionchange"&&(uz.has(d)||fy(d,!1,s),fy(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[sh]||(l[sh]=!0,fy("selectionchange",!1,l))}}function v_(s,l,d,g){switch(K_(l)){case 2:var b=zz;break;case 8:b=Bz;break;default:b=ky}d=b.bind(null,l,d,s),b=void 0,!Mg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(l,d,{capture:!0,passive:b}):s.addEventListener(l,d,!0):b!==void 0?s.addEventListener(l,d,{passive:b}):s.addEventListener(l,d,!1)}function my(s,l,d,g,b){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var D=g.stateNode.containerInfo;if(D===b)break;if(O===4)for(O=g.return;O!==null;){var U=O.tag;if((U===3||U===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;D!==null;){if(O=Lo(D),O===null)return;if(U=O.tag,U===5||U===6||U===26||U===27){g=E=O;continue e}D=D.parentNode}}g=g.return}SA(function(){var X=E,ae=Og(d),le=[];e:{var Z=XA.get(s);if(Z!==void 0){var J=vf,be=s;switch(s){case"keypress":if(pf(d)===0)break e;case"keydown":case"keyup":J=r4;break;case"focusin":be="focus",J=Ig;break;case"focusout":be="blur",J=Ig;break;case"beforeblur":case"afterblur":J=Ig;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=_A;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=G5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=s4;break;case KA:case VA:case YA:J=Y5;break;case WA:J=l4;break;case"scroll":case"scrollend":J=H5;break;case"wheel":J=u4;break;case"copy":case"cut":case"paste":J=X5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=jA;break;case"toggle":case"beforetoggle":J=f4}var Ne=(l&4)!==0,pt=!Ne&&(s==="scroll"||s==="scrollend"),K=Ne?Z!==null?Z+"Capture":null:Z;Ne=[];for(var q=X,W;q!==null;){var se=q;if(W=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||W===null||K===null||(se=_c(q,K),se!=null&&Ne.push(iu(q,se,W))),pt)break;q=q.return}0<Ne.length&&(Z=new J(Z,be,null,d,ae),le.push({event:Z,listeners:Ne}))}}if((l&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",Z&&d!==Tg&&(be=d.relatedTarget||d.fromElement)&&(Lo(be)||be[Ro]))break e;if((J||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(be=d.relatedTarget||d.toElement,J=X,be=be?Lo(be):null,be!==null&&(pt=a(be),Ne=be.tag,be!==pt||Ne!==5&&Ne!==27&&Ne!==6)&&(be=null)):(J=null,be=X),J!==be)){if(Ne=_A,se="onMouseLeave",K="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=jA,se="onPointerLeave",K="onPointerEnter",q="pointer"),pt=J==null?Z:Ec(J),W=be==null?Z:Ec(be),Z=new Ne(se,q+"leave",J,d,ae),Z.target=pt,Z.relatedTarget=W,se=null,Lo(ae)===X&&(Ne=new Ne(K,q+"enter",be,d,ae),Ne.target=W,Ne.relatedTarget=pt,se=Ne),pt=se,J&&be)t:{for(Ne=dz,K=J,q=be,W=0,se=K;se;se=Ne(se))W++;se=0;for(var _e=q;_e;_e=Ne(_e))se++;for(;0<W-se;)K=Ne(K),W--;for(;0<se-W;)q=Ne(q),se--;for(;W--;){if(K===q||q!==null&&K===q.alternate){Ne=K;break t}K=Ne(K),q=Ne(q)}Ne=null}else Ne=null;J!==null&&y_(le,Z,J,Ne,!1),be!==null&&pt!==null&&y_(le,pt,be,Ne,!0)}}e:{if(Z=X?Ec(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var Je=RA;else if(MA(Z))if(LA)Je=S4;else{Je=x4;var we=b4}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Ng(X.elementType)&&(Je=RA):Je=w4;if(Je&&(Je=Je(s,X))){DA(le,Je,d,ae);break e}we&&we(s,Z,X),s==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&kg(Z,"number",Z.value)}switch(we=X?Ec(X):window,s){case"focusin":(MA(we)||we.contentEditable==="true")&&(Go=we,Hg=X,Mc=null);break;case"focusout":Mc=Hg=Go=null;break;case"mousedown":qg=!0;break;case"contextmenu":case"mouseup":case"dragend":qg=!1,qA(le,d,ae);break;case"selectionchange":if(E4)break;case"keydown":case"keyup":qA(le,d,ae)}var Fe;if(Bg)e:{switch(s){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else qo?OA(s,d)&&(Ke="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ke="onCompositionStart");Ke&&(kA&&d.locale!=="ko"&&(qo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&qo&&(Fe=AA()):(Ka=ae,Dg="value"in Ka?Ka.value:Ka.textContent,qo=!0)),we=oh(X,Ke),0<we.length&&(Ke=new CA(Ke,s,null,d,ae),le.push({event:Ke,listeners:we}),Fe?Ke.data=Fe:(Fe=PA(d),Fe!==null&&(Ke.data=Fe)))),(Fe=m4?p4(s,d):g4(s,d))&&(Ke=oh(X,"onBeforeInput"),0<Ke.length&&(we=new CA("onBeforeInput","beforeinput",null,d,ae),le.push({event:we,listeners:Ke}),we.data=Fe)),oz(le,s,X,d,ae)}g_(le,l)})}function iu(s,l,d){return{instance:s,listener:l,currentTarget:d}}function oh(s,l){for(var d=l+"Capture",g=[];s!==null;){var b=s,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=_c(s,d),b!=null&&g.unshift(iu(s,b,E)),b=_c(s,l),b!=null&&g.push(iu(s,b,E))),s.tag===3)return g;s=s.return}return[]}function dz(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function y_(s,l,d,g,b){for(var E=l._reactName,O=[];d!==null&&d!==g;){var D=d,U=D.alternate,X=D.stateNode;if(D=D.tag,U!==null&&U===g)break;D!==5&&D!==26&&D!==27||X===null||(U=X,b?(X=_c(d,E),X!=null&&O.unshift(iu(d,X,U))):b||(X=_c(d,E),X!=null&&O.push(iu(d,X,U)))),d=d.return}O.length!==0&&s.push({event:l,listeners:O})}var fz=/\r\n?/g,hz=/\u0000|\uFFFD/g;function b_(s){return(typeof s=="string"?s:""+s).replace(fz,`
`).replace(hz,"")}function x_(s,l){return l=b_(l),b_(s)===l}function mt(s,l,d,g,b,E){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Uo(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Uo(s,""+g);break;case"className":df(s,"class",g);break;case"tabIndex":df(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":df(s,d,g);break;case"style":xA(s,g,E);break;case"data":if(l!=="object"){df(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=hf(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(l!=="input"&&mt(s,l,"name",b.name,b,null),mt(s,l,"formEncType",b.formEncType,b,null),mt(s,l,"formMethod",b.formMethod,b,null),mt(s,l,"formTarget",b.formTarget,b,null)):(mt(s,l,"encType",b.encType,b,null),mt(s,l,"method",b.method,b,null),mt(s,l,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=hf(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=Ji);break;case"onScroll":g!=null&&qe("scroll",s);break;case"onScrollEnd":g!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=hf(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":qe("beforetoggle",s),qe("toggle",s),uf(s,"popover",g);break;case"xlinkActuate":Zi(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Zi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Zi(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Zi(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Zi(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Zi(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Zi(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Zi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Zi(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":uf(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=U5.get(d)||d,uf(s,d,g))}}function py(s,l,d,g,b,E){switch(d){case"style":xA(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof g=="string"?Uo(s,g):(typeof g=="number"||typeof g=="bigint")&&Uo(s,""+g);break;case"onScroll":g!=null&&qe("scroll",s);break;case"onScrollEnd":g!=null&&qe("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Ji);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dA.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),E=s[lr]||null,E=E!=null?E[d]:null,typeof E=="function"&&s.removeEventListener(l,E,b),typeof g=="function")){typeof E!="function"&&E!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,g,b);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):uf(s,d,g)}}}function zn(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var g=!1,b=!1,E;for(E in d)if(d.hasOwnProperty(E)){var O=d[E];if(O!=null)switch(E){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:mt(s,l,E,O,d,null)}}b&&mt(s,l,"srcSet",d.srcSet,d,null),g&&mt(s,l,"src",d.src,d,null);return;case"input":qe("invalid",s);var D=E=O=b=null,U=null,X=null;for(g in d)if(d.hasOwnProperty(g)){var ae=d[g];if(ae!=null)switch(g){case"name":b=ae;break;case"type":O=ae;break;case"checked":U=ae;break;case"defaultChecked":X=ae;break;case"value":E=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:mt(s,l,g,ae,d,null)}}gA(s,E,D,U,X,O,b,!1);return;case"select":qe("invalid",s),g=O=E=null;for(b in d)if(d.hasOwnProperty(b)&&(D=d[b],D!=null))switch(b){case"value":E=D;break;case"defaultValue":O=D;break;case"multiple":g=D;default:mt(s,l,b,D,d,null)}l=E,d=O,s.multiple=!!g,l!=null?Fo(s,!!g,l,!1):d!=null&&Fo(s,!!g,d,!0);return;case"textarea":qe("invalid",s),E=b=g=null;for(O in d)if(d.hasOwnProperty(O)&&(D=d[O],D!=null))switch(O){case"value":g=D;break;case"defaultValue":b=D;break;case"children":E=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:mt(s,l,O,D,d,null)}yA(s,g,b,E);return;case"option":for(U in d)d.hasOwnProperty(U)&&(g=d[U],g!=null)&&(U==="selected"?s.selected=g&&typeof g!="function"&&typeof g!="symbol":mt(s,l,U,g,d,null));return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(g=0;g<ru.length;g++)qe(ru[g],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in d)if(d.hasOwnProperty(X)&&(g=d[X],g!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:mt(s,l,X,g,d,null)}return;default:if(Ng(l)){for(ae in d)d.hasOwnProperty(ae)&&(g=d[ae],g!==void 0&&py(s,l,ae,g,d,void 0));return}}for(D in d)d.hasOwnProperty(D)&&(g=d[D],g!=null&&mt(s,l,D,g,d,null))}function mz(s,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,O=null,D=null,U=null,X=null,ae=null;for(J in d){var le=d[J];if(d.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":U=le;default:g.hasOwnProperty(J)||mt(s,l,J,null,g,le)}}for(var Z in g){var J=g[Z];if(le=d[Z],g.hasOwnProperty(Z)&&(J!=null||le!=null))switch(Z){case"type":E=J;break;case"name":b=J;break;case"checked":X=J;break;case"defaultChecked":ae=J;break;case"value":O=J;break;case"defaultValue":D=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,l));break;default:J!==le&&mt(s,l,Z,J,g,le)}}jg(s,O,D,U,X,ae,E,b);return;case"select":J=O=D=Z=null;for(E in d)if(U=d[E],d.hasOwnProperty(E)&&U!=null)switch(E){case"value":break;case"multiple":J=U;default:g.hasOwnProperty(E)||mt(s,l,E,null,g,U)}for(b in g)if(E=g[b],U=d[b],g.hasOwnProperty(b)&&(E!=null||U!=null))switch(b){case"value":Z=E;break;case"defaultValue":D=E;break;case"multiple":O=E;default:E!==U&&mt(s,l,b,E,g,U)}l=D,d=O,g=J,Z!=null?Fo(s,!!d,Z,!1):!!g!=!!d&&(l!=null?Fo(s,!!d,l,!0):Fo(s,!!d,d?[]:"",!1));return;case"textarea":J=Z=null;for(D in d)if(b=d[D],d.hasOwnProperty(D)&&b!=null&&!g.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:mt(s,l,D,null,g,b)}for(O in g)if(b=g[O],E=d[O],g.hasOwnProperty(O)&&(b!=null||E!=null))switch(O){case"value":Z=b;break;case"defaultValue":J=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==E&&mt(s,l,O,b,g,E)}vA(s,Z,J);return;case"option":for(var be in d)Z=d[be],d.hasOwnProperty(be)&&Z!=null&&!g.hasOwnProperty(be)&&(be==="selected"?s.selected=!1:mt(s,l,be,null,g,Z));for(U in g)Z=g[U],J=d[U],g.hasOwnProperty(U)&&Z!==J&&(Z!=null||J!=null)&&(U==="selected"?s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":mt(s,l,U,Z,g,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in d)Z=d[Ne],d.hasOwnProperty(Ne)&&Z!=null&&!g.hasOwnProperty(Ne)&&mt(s,l,Ne,null,g,Z);for(X in g)if(Z=g[X],J=d[X],g.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,l));break;default:mt(s,l,X,Z,g,J)}return;default:if(Ng(l)){for(var pt in d)Z=d[pt],d.hasOwnProperty(pt)&&Z!==void 0&&!g.hasOwnProperty(pt)&&py(s,l,pt,void 0,g,Z);for(ae in g)Z=g[ae],J=d[ae],!g.hasOwnProperty(ae)||Z===J||Z===void 0&&J===void 0||py(s,l,ae,Z,g,J);return}}for(var K in d)Z=d[K],d.hasOwnProperty(K)&&Z!=null&&!g.hasOwnProperty(K)&&mt(s,l,K,null,g,Z);for(le in g)Z=g[le],J=d[le],!g.hasOwnProperty(le)||Z===J||Z==null&&J==null||mt(s,l,le,Z,g,J)}function w_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pz(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var b=d[g],E=b.transferSize,O=b.initiatorType,D=b.duration;if(E&&D&&w_(O)){for(O=0,D=b.responseEnd,g+=1;g<d.length;g++){var U=d[g],X=U.startTime;if(X>D)break;var ae=U.transferSize,le=U.initiatorType;ae&&w_(le)&&(U=U.responseEnd,O+=ae*(U<D?1:(D-X)/(U-X)))}if(--g,l+=8*(E+O)/(b.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var gy=null,vy=null;function lh(s){return s.nodeType===9?s:s.ownerDocument}function S_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function yy(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var by=null;function gz(){var s=window.event;return s&&s.type==="popstate"?s===by?!1:(by=s,!0):(by=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,vz=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,yz=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(s){return __.resolve(null).then(s).catch(bz)}:E_;function bz(s){setTimeout(function(){throw s})}function cs(s){return s==="head"}function C_(s,l){var d=l,g=0;do{var b=d.nextSibling;if(s.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(g===0){s.removeChild(b),yl(l);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")au(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,au(d);for(var E=d.firstChild;E;){var O=E.nextSibling,D=E.nodeName;E[Ac]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=O}}else d==="body"&&au(s.ownerDocument.body);d=b}while(d);yl(l)}function j_(s,l){var d=s;s=0;do{var g=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=g}while(d)}function xy(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":xy(d),_g(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function xz(s,l,d,g){for(;s.nodeType===1;){var b=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Ac])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Vr(s.nextSibling),s===null)break}return null}function wz(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Vr(s.nextSibling),s===null))return null;return s}function k_(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Vr(s.nextSibling),s===null))return null;return s}function wy(s){return s.data==="$?"||s.data==="$~"}function Sy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Sz(s,l){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||d.readyState!=="loading")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Vr(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Ay=null;function N_(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(l===0)return Vr(s.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}s=s.nextSibling}return null}function T_(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return s;l--}else d!=="/$"&&d!=="/&"||l++}s=s.previousSibling}return null}function O_(s,l,d){switch(l=lh(d),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function au(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);_g(s)}var Yr=new Map,P_=new Set;function ch(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var pa=I.d;I.d={f:Az,r:Ez,D:_z,C:Cz,L:jz,m:kz,X:Tz,S:Nz,M:Oz};function Az(){var s=pa.f(),l=eh();return s||l}function Ez(s){var l=Io(s);l!==null&&l.tag===5&&l.type==="form"?W2(l):pa.r(s)}var pl=typeof document>"u"?null:document;function M_(s,l,d){var g=pl;if(g&&typeof l=="string"&&l){var b=Fr(l);b='link[rel="'+s+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),P_.has(b)||(P_.add(b),s={rel:s,crossOrigin:d,href:l},g.querySelector(b)===null&&(l=g.createElement("link"),zn(l,"link",s),En(l),g.head.appendChild(l)))}}function _z(s){pa.D(s),M_("dns-prefetch",s,null)}function Cz(s,l){pa.C(s,l),M_("preconnect",s,l)}function jz(s,l,d){pa.L(s,l,d);var g=pl;if(g&&s&&l){var b='link[rel="preload"][as="'+Fr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Fr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Fr(d.imageSizes)+'"]')):b+='[href="'+Fr(s)+'"]';var E=b;switch(l){case"style":E=gl(s);break;case"script":E=vl(s)}Yr.has(E)||(s=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),Yr.set(E,s),g.querySelector(b)!==null||l==="style"&&g.querySelector(su(E))||l==="script"&&g.querySelector(ou(E))||(l=g.createElement("link"),zn(l,"link",s),En(l),g.head.appendChild(l)))}}function kz(s,l){pa.m(s,l);var d=pl;if(d&&s){var g=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Fr(g)+'"][href="'+Fr(s)+'"]',E=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=vl(s)}if(!Yr.has(E)&&(s=m({rel:"modulepreload",href:s},l),Yr.set(E,s),d.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ou(E)))return}g=d.createElement("link"),zn(g,"link",s),En(g),d.head.appendChild(g)}}}function Nz(s,l,d){pa.S(s,l,d);var g=pl;if(g&&s){var b=zo(g).hoistableStyles,E=gl(s);l=l||"default";var O=b.get(E);if(!O){var D={loading:0,preload:null};if(O=g.querySelector(su(E)))D.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},d),(d=Yr.get(E))&&Ey(s,d);var U=O=g.createElement("link");En(U),zn(U,"link",s),U._p=new Promise(function(X,ae){U.onload=X,U.onerror=ae}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,uh(O,l,g)}O={type:"stylesheet",instance:O,count:1,state:D},b.set(E,O)}}}function Tz(s,l){pa.X(s,l);var d=pl;if(d&&s){var g=zo(d).hoistableScripts,b=vl(s),E=g.get(b);E||(E=d.querySelector(ou(b)),E||(s=m({src:s,async:!0},l),(l=Yr.get(b))&&_y(s,l),E=d.createElement("script"),En(E),zn(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(b,E))}}function Oz(s,l){pa.M(s,l);var d=pl;if(d&&s){var g=zo(d).hoistableScripts,b=vl(s),E=g.get(b);E||(E=d.querySelector(ou(b)),E||(s=m({src:s,async:!0,type:"module"},l),(l=Yr.get(b))&&_y(s,l),E=d.createElement("script"),En(E),zn(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(b,E))}}function D_(s,l,d,g){var b=(b=Ee.current)?ch(b):null;if(!b)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=gl(d.href),d=zo(b).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=gl(d.href);var E=zo(b).hoistableStyles,O=E.get(s);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,O),(E=b.querySelector(su(s)))&&!E._p&&(O.instance=E,O.state.loading=5),Yr.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Yr.set(s,d),E||Pz(b,s,d,O.state))),l&&g===null)throw Error(r(528,""));return O}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=vl(d),d=zo(b).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function gl(s){return'href="'+Fr(s)+'"'}function su(s){return'link[rel="stylesheet"]['+s+"]"}function R_(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function Pz(s,l,d,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),zn(l,"link",d),En(l),s.head.appendChild(l))}function vl(s){return'[src="'+Fr(s)+'"]'}function ou(s){return"script[async]"+s}function L_(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Fr(d.href)+'"]');if(g)return l.instance=g,En(g),g;var b=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),En(g),zn(g,"style",b),uh(g,d.precedence,s),l.instance=g;case"stylesheet":b=gl(d.href);var E=s.querySelector(su(b));if(E)return l.state.loading|=4,l.instance=E,En(E),E;g=R_(d),(b=Yr.get(b))&&Ey(g,b),E=(s.ownerDocument||s).createElement("link"),En(E);var O=E;return O._p=new Promise(function(D,U){O.onload=D,O.onerror=U}),zn(E,"link",g),l.state.loading|=4,uh(E,d.precedence,s),l.instance=E;case"script":return E=vl(d.src),(b=s.querySelector(ou(E)))?(l.instance=b,En(b),b):(g=d,(b=Yr.get(E))&&(g=m({},d),_y(g,b)),s=s.ownerDocument||s,b=s.createElement("script"),En(b),zn(b,"link",g),s.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,uh(g,d.precedence,s));return l.instance}function uh(s,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,E=b,O=0;O<g.length;O++){var D=g[O];if(D.dataset.precedence===l)E=D;else if(E!==b)break}E?E.parentNode.insertBefore(s,E.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function Ey(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function _y(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var dh=null;function I_(s,l,d){if(dh===null){var g=new Map,b=dh=new Map;b.set(d,g)}else b=dh,g=b.get(d),g||(g=new Map,b.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),b=0;b<d.length;b++){var E=d[b];if(!(E[Ac]||E[Dn]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var O=E.getAttribute(l)||"";O=s+O;var D=g.get(O);D?D.push(E):g.set(O,[E])}}return g}function z_(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function Mz(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(s=l.disabled,typeof l.precedence=="string"&&s==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function B_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Dz(s,l,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=gl(g.href),E=l.querySelector(su(b));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=fh.bind(s),l.then(s,s)),d.state.loading|=4,d.instance=E,En(E);return}E=l.ownerDocument||l,g=R_(g),(b=Yr.get(b))&&Ey(g,b),E=E.createElement("link"),En(E);var O=E;O._p=new Promise(function(D,U){O.onload=D,O.onerror=U}),zn(E,"link",g),d.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=fh.bind(s),l.addEventListener("load",d),l.addEventListener("error",d))}}var Cy=0;function Rz(s,l){return s.stylesheets&&s.count===0&&mh(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var g=setTimeout(function(){if(s.stylesheets&&mh(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+l);0<s.imgBytes&&Cy===0&&(Cy=62500*pz());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&mh(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>Cy?50:800)+l);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(b)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hh=null;function mh(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hh=new Map,l.forEach(Lz,s),hh=null,fh.call(s))}function Lz(s,l){if(!(l.state.loading&4)){var d=hh.get(s);if(d)var g=d.get(null);else{d=new Map,hh.set(s,d);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var O=b[E];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(d.set(O.dataset.precedence,O),g=O)}g&&d.set(null,g)}b=l.instance,O=b.getAttribute("data-precedence"),E=d.get(O)||g,E===g&&d.set(null,b),d.set(O,b),this.count++,g=fh.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),E?E.parentNode.insertBefore(b,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),l.state.loading|=4}}var lu={$$typeof:j,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function Iz(s,l,d,g,b,E,O,D,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function F_(s,l,d,g,b,E,O,D,U,X,ae,le){return s=new Iz(s,l,d,O,U,X,ae,le,D),l=1,E===!0&&(l|=24),E=Ar(3,null,null,l),s.current=E,E.stateNode=s,l=av(),l.refCount++,s.pooledCache=l,l.refCount++,E.memoizedState={element:g,isDehydrated:d,cache:l},cv(E),s}function U_(s){return s?(s=Yo,s):Yo}function $_(s,l,d,g,b,E){b=U_(b),g.context===null?g.context=b:g.pendingContext=b,g=Za(l),g.payload={element:d},E=E===void 0?null:E,E!==null&&(g.callback=E),d=Ja(s,g,l),d!==null&&(mr(d,s,l),Fc(d,s,l))}function H_(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function jy(s,l){H_(s,l),(s=s.alternate)&&H_(s,l)}function q_(s){if(s.tag===13||s.tag===31){var l=Bs(s,67108864);l!==null&&mr(l,s,67108864),jy(s,67108864)}}function G_(s){if(s.tag===13||s.tag===31){var l=kr();l=Sg(l);var d=Bs(s,l);d!==null&&mr(d,s,l),jy(s,l)}}var ph=!0;function zz(s,l,d,g){var b=M.T;M.T=null;var E=I.p;try{I.p=2,ky(s,l,d,g)}finally{I.p=E,M.T=b}}function Bz(s,l,d,g){var b=M.T;M.T=null;var E=I.p;try{I.p=8,ky(s,l,d,g)}finally{I.p=E,M.T=b}}function ky(s,l,d,g){if(ph){var b=Ny(g);if(b===null)my(s,l,g,gh,d),V_(s,g);else if(Uz(b,s,l,d,g))g.stopPropagation();else if(V_(s,g),l&4&&-1<Fz.indexOf(s)){for(;b!==null;){var E=Io(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var O=Zn(E.pendingLanes);if(O!==0){var D=E;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var U=1<<31-Me(O);D.entanglements[1]|=U,O&=~U}Oi(E),(it&6)===0&&(Zf=Pe()+500,nu(0))}}break;case 31:case 13:D=Bs(E,2),D!==null&&mr(D,E,2),eh(),jy(E,2)}if(E=Ny(g),E===null&&my(s,l,g,gh,d),E===b)break;b=E}b!==null&&g.stopPropagation()}else my(s,l,g,null,d)}}function Ny(s){return s=Og(s),Ty(s)}var gh=null;function Ty(s){if(gh=null,s=Lo(s),s!==null){var l=a(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=o(l),s!==null)return s;s=null}else if(d===31){if(s=c(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return gh=s,null}function K_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lt()){case Xn:return 2;case _i:return 8;case Ci:case ji:return 32;case Qi:return 268435456;default:return 32}default:return 32}}var Oy=!1,us=null,ds=null,fs=null,cu=new Map,uu=new Map,hs=[],Fz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(s,l){switch(s){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":cu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(l.pointerId)}}function du(s,l,d,g,b,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:E,targetContainers:[b]},l!==null&&(l=Io(l),l!==null&&q_(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),s)}function Uz(s,l,d,g,b){switch(l){case"focusin":return us=du(us,s,l,d,g,b),!0;case"dragenter":return ds=du(ds,s,l,d,g,b),!0;case"mouseover":return fs=du(fs,s,l,d,g,b),!0;case"pointerover":var E=b.pointerId;return cu.set(E,du(cu.get(E)||null,s,l,d,g,b)),!0;case"gotpointercapture":return E=b.pointerId,uu.set(E,du(uu.get(E)||null,s,l,d,g,b)),!0}return!1}function Y_(s){var l=Lo(s.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){s.blockedOn=l,lA(s.priority,function(){G_(d)});return}}else if(l===31){if(l=c(d),l!==null){s.blockedOn=l,lA(s.priority,function(){G_(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vh(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=Ny(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);Tg=g,d.target.dispatchEvent(g),Tg=null}else return l=Io(d),l!==null&&q_(l),s.blockedOn=d,!1;l.shift()}return!0}function W_(s,l,d){vh(s)&&d.delete(l)}function $z(){Oy=!1,us!==null&&vh(us)&&(us=null),ds!==null&&vh(ds)&&(ds=null),fs!==null&&vh(fs)&&(fs=null),cu.forEach(W_),uu.forEach(W_)}function yh(s,l){s.blockedOn===l&&(s.blockedOn=null,Oy||(Oy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$z)))}var bh=null;function X_(s){bh!==s&&(bh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bh===s&&(bh=null);for(var l=0;l<s.length;l+=3){var d=s[l],g=s[l+1],b=s[l+2];if(typeof g!="function"){if(Ty(g||d)===null)continue;break}var E=Io(d);E!==null&&(s.splice(l,3),l-=3,Nv(E,{pending:!0,data:b,method:d.method,action:g},g,b))}}))}function yl(s){function l(U){return yh(U,s)}us!==null&&yh(us,s),ds!==null&&yh(ds,s),fs!==null&&yh(fs,s),cu.forEach(l),uu.forEach(l);for(var d=0;d<hs.length;d++){var g=hs[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<hs.length&&(d=hs[0],d.blockedOn===null);)Y_(d),d.blockedOn===null&&hs.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var b=d[g],E=d[g+1],O=b[lr]||null;if(typeof E=="function")O||X_(d);else if(O){var D=null;if(E&&E.hasAttribute("formAction")){if(b=E,O=E[lr]||null)D=O.formAction;else if(Ty(b)!==null)continue}else D=O.action;typeof D=="function"?d[g+1]=D:(d.splice(g,3),g-=3),X_(d)}}}function Q_(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function Py(s){this._internalRoot=s}xh.prototype.render=Py.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,g=kr();$_(d,g,s,l,null,null)},xh.prototype.unmount=Py.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;$_(s.current,2,null,s,null,null),eh(),l[Ro]=null}};function xh(s){this._internalRoot=s}xh.prototype.unstable_scheduleHydration=function(s){if(s){var l=oA();s={blockedOn:null,target:s,priority:l};for(var d=0;d<hs.length&&l!==0&&l<hs[d].priority;d++);hs.splice(d,0,s),d===0&&Y_(s)}};var Z_=e.version;if(Z_!=="19.2.3")throw Error(r(527,Z_,"19.2.3"));I.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var Hz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{xe=wh.inject(Hz),je=wh}catch{}}return hu.createRoot=function(s,l){if(!i(s))throw Error(r(299));var d=!1,g="",b=aE,E=sE,O=oE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),l=F_(s,1,!1,null,null,d,g,null,b,E,O,Q_),s[Ro]=l.current,hy(s),new Py(l)},hu.hydrateRoot=function(s,l,d){if(!i(s))throw Error(r(299));var g=!1,b="",E=aE,O=sE,D=oE,U=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(D=d.onRecoverableError),d.formState!==void 0&&(U=d.formState)),l=F_(s,1,!0,l,d??null,g,b,U,E,O,D,Q_),l.context=U_(null),d=l.current,g=kr(),g=Sg(g),b=Za(g),b.callback=null,Ja(d,b,g),d=g,l.current.lanes=d,qa(l,d),Oi(l),s[Ro]=l.current,hy(s),new xh(l)},hu.version="19.2.3",hu}var uC;function eB(){if(uC)return Ly.exports;uC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ly.exports=Jz(),Ly.exports}var tB=eB();const nB=li(tB);var dC="popstate";function rB(t={}){function e(r,i){let{pathname:a,search:o,hash:c}=r.location;return Kb("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fu(i)}return aB(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ii(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iB(){return Math.random().toString(36).substring(2,10)}function fC(t,e){return{usr:t.state,key:t.key,idx:e}}function Kb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ac(e):e,state:n,key:e&&e.key||r||iB()}}function Fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ac(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function aB(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function m(){c="POP";let S=h(),_=S==null?null:S-f;f=S,u&&u({action:c,location:x.location,delta:_})}function v(S,_){c="PUSH";let C=Kb(x.location,S,_);f=h()+1;let j=fC(C,f),T=x.createHref(C);try{o.pushState(j,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(T)}a&&u&&u({action:c,location:x.location,delta:1})}function y(S,_){c="REPLACE";let C=Kb(x.location,S,_);f=h();let j=fC(C,f),T=x.createHref(C);o.replaceState(j,"",T),a&&u&&u({action:c,location:x.location,delta:0})}function w(S){return sB(S)}let x={get action(){return c},get location(){return t(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(dC,m),u=S,()=>{i.removeEventListener(dC,m),u=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let _=w(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:y,go(S){return o.go(S)}};return x}function sB(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zP(t,e,n="/"){return oB(t,e,n,!1)}function oB(t,e,n,r){let i=typeof e=="string"?ac(e):e,a=ja(i.pathname||"/",n);if(a==null)return null;let o=BP(t);lB(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=bB(a);c=vB(o[u],f,r)}return c}function BP(t,e=[],n=[],r="",i=!1){let a=(o,c,u=i,f)=>{let h={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;Rt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Ea([r,h.relativePath]),v=n.concat(h);o.children&&o.children.length>0&&(Rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),BP(o.children,e,v,m,u)),!(o.path==null&&!o.index)&&e.push({path:m,score:pB(m,o.index),routesMeta:v})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let u of FP(o.path))a(o,c,!0,u)}),e}function FP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=FP(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function lB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cB=/^:[\w-]+$/,uB=3,dB=2,fB=1,hB=10,mB=-2,hC=t=>t==="*";function pB(t,e){let n=t.split("/"),r=n.length;return n.some(hC)&&(r+=mB),e&&(r+=dB),n.filter(i=>!hC(i)).reduce((i,a)=>i+(cB.test(a)?uB:a===""?fB:hB),r)}function gB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vB(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=fm({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),v=u.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=fm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Ea([a,m.pathname]),pathnameBase:AB(Ea([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=Ea([a,m.pathnameBase]))}return o}function fm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:m},v)=>{if(h==="*"){let w=c[v]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[v];return m&&!y?f[h]=void 0:f[h]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:t}}function yB(t,e=!1,n=!0){ii(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ja(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var UP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xB=t=>UP.test(t);function wB(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ac(t):t,a;if(n)if(xB(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=mC(n.substring(1),"/"):a=mC(n,e)}else a=e;return{pathname:a,search:EB(r),hash:_B(i)}}function mC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function E1(t){let e=SB(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _1(t,e,n,r=!1){let i;typeof t=="string"?i=ac(t):(i={...t},Rt(!i.pathname||!i.pathname.includes("?"),Fy("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),Fy("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),Fy("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let u=wB(i,c),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var Ea=t=>t.join("/").replace(/\/\/+/g,"/"),AB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_B=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,CB=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function kB(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function HP(t,e){let n=t;if(typeof n!="string"||!UP.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if($P)try{let a=new URL(window.location.href),o=n.startsWith("//")?new URL(a.protocol+n):new URL(n),c=ja(o.pathname,e);o.origin===a.origin&&c!=null?n=c+o.search+o.hash:i=!0}catch{ii(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qP=["POST","PUT","PATCH","DELETE"];new Set(qP);var NB=["GET",...qP];new Set(NB);var sc=A.createContext(null);sc.displayName="DataRouter";var bp=A.createContext(null);bp.displayName="DataRouterState";var TB=A.createContext(!1),GP=A.createContext({isTransitioning:!1});GP.displayName="ViewTransition";var OB=A.createContext(new Map);OB.displayName="Fetchers";var PB=A.createContext(null);PB.displayName="Await";var Ir=A.createContext(null);Ir.displayName="Navigation";var Cd=A.createContext(null);Cd.displayName="Location";var Ai=A.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var C1=A.createContext(null);C1.displayName="RouteError";var KP="REACT_ROUTER_ERROR",MB="REDIRECT",DB="ROUTE_ERROR_RESPONSE";function RB(t){if(t.startsWith(`${KP}:${MB}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function LB(t){if(t.startsWith(`${KP}:${DB}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new CB(e.status,e.statusText,e.data)}catch{}}function IB(t,{relative:e}={}){Rt(oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Ir),{hash:i,pathname:a,search:o}=jd(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Ea([n,a])),r.createHref({pathname:c,search:o,hash:i})}function oc(){return A.useContext(Cd)!=null}function Da(){return Rt(oc(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Cd).location}var VP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YP(t){A.useContext(Ir).static||A.useLayoutEffect(t)}function j1(){let{isDataRoute:t}=A.useContext(Ai);return t?ZB():zB()}function zB(){Rt(oc(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(sc),{basename:e,navigator:n}=A.useContext(Ir),{matches:r}=A.useContext(Ai),{pathname:i}=Da(),a=JSON.stringify(E1(r)),o=A.useRef(!1);return YP(()=>{o.current=!0}),A.useCallback((u,f={})=>{if(ii(o.current,VP),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=_1(u,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ea([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,i,t])}var BB=A.createContext(null);function FB(t){let e=A.useContext(Ai).outlet;return A.useMemo(()=>e&&A.createElement(BB.Provider,{value:t},e),[e,t])}function jd(t,{relative:e}={}){let{matches:n}=A.useContext(Ai),{pathname:r}=Da(),i=JSON.stringify(E1(n));return A.useMemo(()=>_1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function UB(t,e){return WP(t,e)}function WP(t,e,n,r,i){Rt(oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(Ir),{matches:o}=A.useContext(Ai),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",h=c?c.pathnameBase:"/",m=c&&c.route;{let C=m&&m.path||"";QP(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Da(),y;if(e){let C=typeof e=="string"?ac(e):e;Rt(h==="/"||C.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=v;let w=y.pathname||"/",x=w;if(h!=="/"){let C=h.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=zP(t,{pathname:x});ii(m||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ii(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=KB(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Ea([h,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Ea([h,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,n,r,i);return e&&_?A.createElement(Cd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function $B(){let t=QB(),e=jB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,o)}var HB=A.createElement($B,null),XP=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=LB(t.digest);n&&(t=n)}let e=t!==void 0?A.createElement(Ai.Provider,{value:this.props.routeContext},A.createElement(C1.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?A.createElement(qB,{error:t},e):e}};XP.contextType=TB;var Uy=new WeakMap;function qB({children:t,error:e}){let{basename:n}=A.useContext(Ir);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=RB(e.digest);if(r){let i=Uy.get(e);if(i)throw i;let a=HP(r.location,n);if($P&&!Uy.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Uy.set(e,o),o}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function GB({routeContext:t,match:e,children:n}){let r=A.useContext(sc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Ai.Provider,{value:t},n)}function KB(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n?.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);Rt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:v,errors:y}=n,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(h,m)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:kB(n.matches),errorInfo:m})}:void 0;return a.reduceRight((h,m,v)=>{let y,w=!1,x=null,S=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,x=m.route.errorElement||HB,c&&(u<0&&v===0?(QP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):u===v&&(w=!0,S=m.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,v+1)),C=()=>{let j;return y?j=x:w?j=S:m.route.Component?j=A.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=h,A.createElement(GB,{match:m,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?A.createElement(XP,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:f}):C()},null)}function k1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VB(t){let e=A.useContext(sc);return Rt(e,k1(t)),e}function YB(t){let e=A.useContext(bp);return Rt(e,k1(t)),e}function WB(t){let e=A.useContext(Ai);return Rt(e,k1(t)),e}function N1(t){let e=WB(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XB(){return N1("useRouteId")}function QB(){let t=A.useContext(C1),e=YB("useRouteError"),n=N1("useRouteError");return t!==void 0?t:e.errors?.[n]}function ZB(){let{router:t}=VB("useNavigate"),e=N1("useNavigate"),n=A.useRef(!1);return YP(()=>{n.current=!0}),A.useCallback(async(i,a={})=>{ii(n.current,VP),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var pC={};function QP(t,e,n){!e&&!pC[t]&&(pC[t]=!0,ii(!1,n))}A.memo(JB);function JB({routes:t,future:e,state:n,onError:r}){return WP(t,void 0,n,r,e)}function eF({to:t,replace:e,state:n,relative:r}){Rt(oc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Ir);ii(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=A.useContext(Ai),{pathname:o}=Da(),c=j1(),u=_1(t,E1(a),o,r==="path"),f=JSON.stringify(u);return A.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function tF(t){return FB(t.context)}function Vt(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){Rt(!oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[c,i,a,o]);typeof n=="string"&&(n=ac(n));let{pathname:f="/",search:h="",hash:m="",state:v=null,key:y="default"}=n,w=A.useMemo(()=>{let x=ja(f,c);return x==null?null:{location:{pathname:x,search:h,hash:m,state:v,key:y},navigationType:r}},[c,f,h,m,v,y,r]);return ii(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:A.createElement(Ir.Provider,{value:u},A.createElement(Cd.Provider,{children:e,value:w}))}function rF({children:t,location:e}){return UB(Vb(t),e)}function Vb(t,e=[]){let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let a=[...e,i];if(r.type===A.Fragment){n.push.apply(n,Vb(r.props.children,a));return}Rt(r.type===Vt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vb(r.props.children,a)),n.push(o)}),n}var Qh="get",Zh="application/x-www-form-urlencoded";function xp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function iF(t){return xp(t)&&t.tagName.toLowerCase()==="button"}function aF(t){return xp(t)&&t.tagName.toLowerCase()==="form"}function sF(t){return xp(t)&&t.tagName.toLowerCase()==="input"}function oF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lF(t,e){return t.button===0&&(!e||e==="_self")&&!oF(t)}var Sh=null;function cF(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var uF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $y(t){return t!=null&&!uF.has(t)?(ii(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zh}"`),null):t}function dF(t,e){let n,r,i,a,o;if(aF(t)){let c=t.getAttribute("action");r=c?ja(c,e):null,n=t.getAttribute("method")||Qh,i=$y(t.getAttribute("enctype"))||Zh,a=new FormData(t)}else if(iF(t)||sF(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?ja(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Qh,i=$y(t.getAttribute("formenctype"))||$y(c.getAttribute("enctype"))||Zh,a=new FormData(c,t),!cF()){let{name:f,type:h,value:m}=t;if(h==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,m)}}else{if(xp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qh,r=null,i=Zh,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function T1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fF(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&ja(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function hF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pF(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await hF(a,n);return o.links?o.links():[]}return[]}));return bF(r.flat(1).filter(mF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gC(t,e,n,r,i,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?e.filter((u,f)=>o(u,f)||c(u,f)):a==="data"?e.filter((u,f)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function gF(t,e,{includeHydrateFallback:n}={}){return vF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function vF(t){return[...new Set(t)]}function yF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function bF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(yF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function ZP(){let t=A.useContext(sc);return T1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xF(){let t=A.useContext(bp);return T1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var O1=A.createContext(void 0);O1.displayName="FrameworkContext";function JP(){let t=A.useContext(O1);return T1(t,"You must render this element inside a <HydratedRouter> element"),t}function wF(t,e){let n=A.useContext(O1),[r,i]=A.useState(!1),[a,o]=A.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=e,v=A.useRef(null);A.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=_=>{_.forEach(C=>{o(C.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:mu(c,y),onBlur:mu(u,w),onMouseEnter:mu(f,y),onMouseLeave:mu(h,w),onTouchStart:mu(m,y)}]:[!1,v,{}]}function mu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function SF({page:t,...e}){let{router:n}=ZP(),r=A.useMemo(()=>zP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(EF,{page:t,matches:r,...e}):null}function AF(t){let{manifest:e,routeModules:n}=JP(),[r,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return pF(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function EF({page:t,matches:e,...n}){let r=Da(),{future:i,manifest:a,routeModules:o}=JP(),{basename:c}=ZP(),{loaderData:u,matches:f}=xF(),h=A.useMemo(()=>gC(t,e,f,a,r,"data"),[t,e,f,a,r]),m=A.useMemo(()=>gC(t,e,f,a,r,"assets"),[t,e,f,a,r]),v=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,S=!1;if(e.forEach(C=>{let j=a.routes[C.route.id];!j||!j.hasLoader||(!h.some(T=>T.route.id===C.route.id)&&C.route.id in u&&o[C.route.id]?.shouldRevalidate||j.hasClientLoader?S=!0:x.add(C.route.id))}),x.size===0)return[];let _=fF(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return S&&x.size>0&&_.searchParams.set("_routes",e.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[c,i.unstable_trailingSlashAwareDataRequests,u,r,a,h,e,t,o]),y=A.useMemo(()=>gF(m,a),[m,a]),w=AF(m);return A.createElement(A.Fragment,null,v.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:S})=>A.createElement("link",{key:x,nonce:n.nonce,...S})))}function _F(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CF&&(window.__reactRouterVersion="7.12.0")}catch{}function jF({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=A.useRef();i.current==null&&(i.current=rB({window:r,v5Compat:!0}));let a=i.current,[o,c]=A.useState({action:a.action,location:a.location}),u=A.useCallback(f=>{n===!1?c(f):A.startTransition(()=>c(f))},[n]);return A.useLayoutEffect(()=>a.listen(u),[a,u]),A.createElement(nF,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}var eM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tM=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:v,...y},w){let{basename:x,unstable_useTransitions:S}=A.useContext(Ir),_=typeof f=="string"&&eM.test(f),C=HP(f,x);f=C.to;let j=IB(f,{relative:i}),[T,k,N]=wF(r,y),P=TF(f,{replace:o,state:c,target:u,preventScrollReset:h,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S});function L(H){e&&e(H),H.defaultPrevented||P(H)}let B=A.createElement("a",{...y,...N,href:C.absoluteURL||j,onClick:C.isExternal||a?e:L,ref:_F(w,k),target:u,"data-discover":!_&&n==="render"?"true":void 0});return T&&!_?A.createElement(A.Fragment,null,B,A.createElement(SF,{page:j})):B});tM.displayName="Link";var nM=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...f},h){let m=jd(o,{relative:f.relative}),v=Da(),y=A.useContext(bp),{navigator:w,basename:x}=A.useContext(Ir),S=y!=null&&RF(m)&&c===!0,_=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,C=v.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(C=C.toLowerCase(),j=j?j.toLowerCase():null,_=_.toLowerCase()),j&&x&&(j=ja(j,x)||j);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let k=C===_||!i&&C.startsWith(_)&&C.charAt(T)==="/",N=j!=null&&(j===_||!i&&j.startsWith(_)&&j.charAt(_.length)==="/"),P={isActive:k,isPending:N,isTransitioning:S},L=k?e:void 0,B;typeof r=="function"?B=r(P):B=[r,k?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(P):a;return A.createElement(tM,{...f,"aria-current":L,className:B,ref:h,style:H,to:o,viewTransition:c},typeof u=="function"?u(P):u)});nM.displayName="NavLink";var kF=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Qh,action:c,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:v,...y},w)=>{let{unstable_useTransitions:x}=A.useContext(Ir),S=MF(),_=DF(c,{relative:f}),C=o.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&eM.test(c),T=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,P=N?.getAttribute("formmethod")||o,L=()=>S(N||k.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:v});x&&n!==!1?A.startTransition(()=>L()):L()};return A.createElement("form",{ref:w,method:C,action:_,onSubmit:r?u:T,...y,"data-discover":!j&&t==="render"?"true":void 0})});kF.displayName="Form";function NF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rM(t){let e=A.useContext(sc);return Rt(e,NF(t)),e}function TF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let f=j1(),h=Da(),m=jd(t,{relative:a});return A.useCallback(v=>{if(lF(v,e)){v.preventDefault();let y=n!==void 0?n:Fu(h)===Fu(m),w=()=>f(t,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:c});u?A.startTransition(()=>w()):w()}},[h,f,m,n,r,e,t,i,a,o,c,u])}var OF=0,PF=()=>`__${String(++OF)}__`;function MF(){let{router:t}=rM("useSubmit"),{basename:e}=A.useContext(Ir),n=XB(),r=t.fetch,i=t.navigate;return A.useCallback(async(a,o={})=>{let{action:c,method:u,encType:f,formData:h,body:m}=dF(a,e);if(o.navigate===!1){let v=o.fetcherKey||PF();await r(v,n,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function DF(t,{relative:e}={}){let{basename:n}=A.useContext(Ir),r=A.useContext(Ai);Rt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...jd(t||".",{relative:e})},o=Da();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let h=c.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ea([n,a.pathname])),Fu(a)}function RF(t,{relative:e}={}){let n=A.useContext(GP);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rM("useViewTransitionState"),i=jd(t,{relative:e});if(!n.isTransitioning)return!1;let a=ja(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ja(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fm(i.pathname,o)!=null||fm(i.pathname,a)!=null}var P1=IP();const LF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),vC=t=>{const e=IF(t);return e.charAt(0).toUpperCase()+e.slice(1)},iM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),zF=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var BF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FF=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},u)=>A.createElement("svg",{ref:u,...BF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iM("lucide",i),...!a&&!zF(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,h])=>A.createElement(f,h)),...Array.isArray(a)?a:[a]]));const fe=(t,e)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(FF,{ref:a,iconNode:e,className:iM(`lucide-${LF(vC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=vC(t),n};const UF=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],aM=fe("activity",UF);const $F=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yC=fe("arrow-right",$F);const HF=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],qF=fe("award",HF);const GF=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Kl=fe("book-open",GF);const KF=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],$i=fe("brain",KF);const VF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],YF=fe("briefcase",VF);const WF=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],sM=fe("building-2",WF);const XF=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],QF=fe("calendar-clock",XF);const ZF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Uu=fe("calendar",ZF);const JF=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],e6=fe("camera",JF);const t6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bC=fe("chart-column",t6);const n6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],oM=fe("check",n6);const r6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yb=fe("chevron-down",r6);const i6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lM=fe("chevron-left",i6);const a6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M1=fe("chevron-right",a6);const s6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xC=fe("chevron-up",s6);const o6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cM=fe("circle-alert",o6);const l6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wb=fe("circle-check-big",l6);const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hm=fe("circle-check",c6);const u6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wC=fe("circle-x",u6);const d6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xb=fe("clock",d6);const f6=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],SC=fe("coffee",f6);const h6=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],m6=fe("coins",h6);const p6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],g6=fe("download",p6);const v6=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Qb=fe("droplets",v6);const y6=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],$u=fe("dumbbell",y6);const b6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uM=fe("external-link",b6);const x6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w6=fe("eye",x6);const S6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],dM=fe("file-braces",S6);const A6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],co=fe("file-text",A6);const E6=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],D1=fe("flame",E6);const _6=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],AC=fe("folder-input",_6);const C6=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],mm=fe("folder-plus",C6);const j6=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Zb=fe("folder",j6);const k6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fM=fe("funnel",k6);const N6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Jb=fe("house",N6);const T6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],O6=fe("image",T6);const P6=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],M6=fe("landmark",P6);const D6=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],R6=fe("layers",D6);const L6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],I6=fe("layout-dashboard",L6);const z6=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],B6=fe("library",z6);const F6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],U6=fe("loader-circle",F6);const $6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],EC=fe("lock",$6);const H6=[["path",{d:"M5 12h14",key:"1ays0h"}]],q6=fe("minus",H6);const G6=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Jh=fe("music",G6);const K6=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],V6=fe("notebook-pen",K6);const Y6=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],W6=fe("pause",Y6);const X6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Hu=fe("pen",X6);const Q6=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],R1=fe("pill",Q6);const Z6=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],hM=fe("play",Z6);const J6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ir=fe("plus",J6);const e8=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],mM=fe("quote",e8);const t8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Il=fe("refresh-cw",t8);const n8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],r8=fe("rotate-ccw",n8);const i8=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],a8=fe("rotate-cw",i8);const s8=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],o8=fe("rss",s8);const l8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pM=fe("save",l8);const c8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pm=fe("search",c8);const u8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_C=fe("settings",u8);const d8=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Du=fe("shuffle",d8);const f8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],uo=fe("sparkles",f8);const h8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],m8=fe("square-check-big",h8);const p8=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zl=fe("star",p8);const g8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ex=fe("target",g8);const v8=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],L1=fe("timer",v8);const y8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],On=fe("trash-2",y8);const b8=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],em=fe("trending-down",b8);const x8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ni=fe("trending-up",x8);const w8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],S8=fe("triangle-alert",w8);const A8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],tm=fe("trophy",A8);const E8=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wp=fe("upload",E8);const _8=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],C8=fe("user-cog",_8);const j8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],CC=fe("user",j8);const k8=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],gm=fe("utensils",k8);const N8=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],vm=fe("video",N8);const T8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],O8=fe("volume-2",T8);const P8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],M8=fe("volume-x",P8);const D8=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],tx=fe("wallet",D8);const R8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bn=fe("x",R8),jC=[{id:"dus",title:"DUS Hazrlk",icon:Kl,color:"#3b82f6",borderColor:"border-l-blue-500",items:[{icon:I6,label:"Panel",path:"/"},{icon:B6,label:"Ktphane",path:"/library"},{icon:Kl,label:"Mfredat & Konular",path:"/curriculum"},{icon:L1,label:"Pomodoro",path:"/pomodoro"},{icon:$i,label:"Soru Bankas",path:"/questions"},{icon:dM,label:"Hap Bilgiler",path:"/pearls"},{icon:ni,label:"Deneme Analizi",path:"/analytics"}]},{id:"fitness",title:"Fitness & Yaam",icon:$u,color:"#10b981",borderColor:"border-l-emerald-500",items:[{icon:$u,label:"Antrenman Program",path:"/fitness/schedule"},{icon:R1,label:"Supplementler",path:"/fitness/supplements"},{icon:gm,label:"Beslenme & Makro",path:"/fitness/nutrition"},{icon:aM,label:"Geliim Takibi",path:"/fitness/progress"}]},{id:"finance",title:"Finansal Ynetim",icon:tx,color:"#f59e0b",borderColor:"border-l-yellow-500",items:[{icon:tx,label:"Portfym",path:"/finance/portfolio"},{icon:uo,label:"Analiz & Stdyo",path:"/finance/studio"}]},{id:"system",title:"Sistem",icon:_C,color:"#6b7280",borderColor:"border-l-gray-500",items:[{icon:_C,label:"Genel Ayarlar & Yedekleme",path:"/settings"}]}];function L8(){const t=Da(),[e,n]=A.useState(["dus"]),r=i=>{n(a=>a.includes(i)?a.filter(o=>o!==i):[...a,i])};return A1.useEffect(()=>{const i=t.pathname;jC.forEach(a=>{a.items.some(c=>c.path==="/"?i==="/":i.startsWith(c.path))&&!e.includes(a.id)&&n(c=>[...c,a.id])})},[t.pathname]),p.jsxs("aside",{className:"w-64 h-screen bg-card border-r border-border flex flex-col fixed left-0 top-0 z-50 transition-colors duration-300",children:[p.jsxs("div",{className:"p-6 flex-shrink-0 border-b border-border",children:[p.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-emerald-400 to-yellow-400",children:"LIFE-OS"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your Integrated System"})]}),p.jsx("nav",{className:"flex-1 px-3 py-4 space-y-2 overflow-y-auto",children:jC.map(i=>{const a=e.includes(i.id),o=i.icon,c=a?Yb:M1,u=i.items.some(f=>f.path==="/"?t.pathname==="/":t.pathname.startsWith(f.path));return p.jsxs("div",{className:"space-y-1",children:[p.jsxs("button",{onClick:()=>r(i.id),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all group hover:bg-muted ${u?"bg-muted/50":""} border-l-4 ${i.borderColor}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(o,{size:20,style:{color:i.color}}),p.jsx("span",{className:"font-semibold text-sm",children:i.title})]}),p.jsx(c,{size:18,className:"text-muted-foreground transition-transform duration-200"})]}),a&&p.jsx("div",{className:"ml-4 space-y-1 animate-in slide-in-from-top-2 fade-in duration-200",children:i.items.map(f=>{const h=f.icon;return p.jsxs(nM,{to:f.path,className:({isActive:m})=>`flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all text-sm ${m?"bg-primary/10 text-primary font-medium shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[p.jsx(h,{size:18}),p.jsx("span",{children:f.label})]},f.path)})})]},i.id)})}),p.jsx("div",{className:"p-4 border-t border-border flex-shrink-0",children:p.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 via-emerald-500/10 to-yellow-500/10 rounded-lg p-3 border border-primary/20",children:p.jsx("p",{className:"text-xs text-muted-foreground text-center font-medium",children:" Your journey to excellence"})})})]})}function I8(){return p.jsxs("div",{className:"min-h-screen bg-background text-foreground flex",children:[p.jsx(L8,{}),p.jsx("main",{className:"flex-1 ml-64 p-8 overflow-y-auto",children:p.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:p.jsx(tF,{})})})]})}const Tl={"not-started":{label:"Balanmad",color:"bg-slate-700 text-slate-300",next:"studying"},studying:{label:"allyor",color:"bg-blue-600 text-white",next:"finished"},finished:{label:"Bitirildi",color:"bg-emerald-600 text-white",next:"review1"},review1:{label:"Tekrar 1",color:"bg-yellow-600 text-white",next:"review2"},review2:{label:"Tekrar 2",color:"bg-orange-600 text-white",next:"questions"},questions:{label:"Sorular zld",color:"bg-purple-600 text-white",next:"not-started"}},Hy=[{id:"clinical-sci",title:"Klinik Bilimler",subjects:[{id:"prosthetics",title:"Protetik Di Tedavisi",topics:[{id:"p_1",title:"Di Anatomisi ve Oklzyon",status:"not-started",questionCount:0},{id:"p_2",title:"Sabit Protezler: Prensipler ve Preparasyon",status:"not-started",questionCount:0},{id:"p_3",title:"Sabit Protezler: l ve Materyaller",status:"not-started",questionCount:0},{id:"p_4",title:"Sabit Protezler: Estetik ve Simantasyon",status:"not-started",questionCount:0},{id:"p_5",title:"Hareketli Blml Protezler",status:"not-started",questionCount:0},{id:"p_6",title:"Tam Protezler",status:"not-started",questionCount:0},{id:"p_7",title:"mplantst Protezler",status:"not-started",questionCount:0},{id:"p_8",title:"TME Rahatszlklar",status:"not-started",questionCount:0},{id:"p_9",title:"ene Yz Protezleri",status:"not-started",questionCount:0},{id:"p_10",title:"Dental Materyaller",status:"not-started",questionCount:0}]},{id:"restorative",title:"Restoratif Di Tedavisi",topics:[{id:"res_1",title:"Karyoloji ve rk Etiyolojisi",status:"not-started",questionCount:0},{id:"res_2",title:"Kavite Preparasyonu",status:"not-started",questionCount:0},{id:"res_3",title:"Adezyon ve Bonding",status:"not-started",questionCount:0},{id:"res_4",title:"Kompozit Rezinler",status:"not-started",questionCount:0},{id:"res_5",title:"Amalgam Restorasyonlar",status:"not-started",questionCount:0},{id:"res_6",title:"Ik Cihazlar",status:"not-started",questionCount:0}]},{id:"surgery",title:"Az, Di ve ene Cerrahisi",topics:[{id:"s_1",title:"Lokal ve Genel Anestezi",status:"not-started",questionCount:0},{id:"s_2",title:"Di ekimi ve Komplikasyonlar",status:"not-started",questionCount:0},{id:"s_3",title:"Gml Diler",status:"not-started",questionCount:0},{id:"s_4",title:"Odontojenik Enfeksiyonlar",status:"not-started",questionCount:0},{id:"s_5",title:"Kistler ve Tmrler",status:"not-started",questionCount:0},{id:"s_6",title:"Maksillofasiyal Travmalar",status:"not-started",questionCount:0},{id:"s_7",title:"Ortognatik Cerrahi",status:"not-started",questionCount:0},{id:"s_8",title:"TME Hastalklar",status:"not-started",questionCount:0},{id:"s_9",title:"mplant Cerrahisi",status:"not-started",questionCount:0}]},{id:"radio",title:"Az, Di ve ene Radyolojisi",topics:[{id:"rad_1",title:"Radyasyon Fizii",status:"not-started",questionCount:0},{id:"rad_2",title:"Projeksiyon Teknikleri",status:"not-started",questionCount:0},{id:"rad_3",title:"Radyografik Yorumlama",status:"not-started",questionCount:0},{id:"rad_4",title:"Radyografik Hatalar",status:"not-started",questionCount:0},{id:"rad_5",title:"leri Grntleme (CBCT, MRI)",status:"not-started",questionCount:0}]},{id:"perio",title:"Periodontoloji",topics:[{id:"per_1",title:"Periodontal Anatomi",status:"not-started",questionCount:0},{id:"per_2",title:"Dieti Hastalklar",status:"not-started",questionCount:0},{id:"per_3",title:"Periodontitis",status:"not-started",questionCount:0},{id:"per_4",title:"Periodontal Tedavi (Faz 1)",status:"not-started",questionCount:0},{id:"per_5",title:"Periodontal Cerrahi (Faz 2)",status:"not-started",questionCount:0},{id:"per_6",title:"Mukogingival Cerrahi",status:"not-started",questionCount:0},{id:"per_7",title:"mplantoloji",status:"not-started",questionCount:0}]},{id:"ortho",title:"Ortodonti",topics:[{id:"ort_1",title:"Byme ve Geliim",status:"not-started",questionCount:0},{id:"ort_2",title:"Sefalometri",status:"not-started",questionCount:0},{id:"ort_3",title:"Anomaliler ve Etiyoloji",status:"not-started",questionCount:0},{id:"ort_4",title:"Ortodontik Tedavi Yntemleri",status:"not-started",questionCount:0},{id:"ort_5",title:"Ortognatik Cerrahi",status:"not-started",questionCount:0}]},{id:"endo",title:"Endodonti",topics:[{id:"end_1",title:"Pulpa Histolojisi ve Fizyolojisi",status:"not-started",questionCount:0},{id:"end_2",title:"Kk Kanal Anatomisi",status:"not-started",questionCount:0},{id:"end_3",title:"Endodontik Mikrobiyoloji",status:"not-started",questionCount:0},{id:"end_4",title:"Tehis ve Tedavi Plan",status:"not-started",questionCount:0},{id:"end_5",title:"Kanal Preparasyonu",status:"not-started",questionCount:0},{id:"end_6",title:"Kanal Dolumu",status:"not-started",questionCount:0},{id:"end_7",title:"Travmatik Yaralanmalar",status:"not-started",questionCount:0}]},{id:"pedodonti",title:"ocuk Di Hekimlii (Pedodonti)",topics:[{id:"ped_1",title:"ocukta Muayene ve Davran Ynlendirmesi",status:"not-started",questionCount:0},{id:"ped_2",title:"St Dii Tedavileri",status:"not-started",questionCount:0},{id:"ped_3",title:"Gen Daimi Di Tedavileri (Apexogenezis/Apexifikasyon)",status:"not-started",questionCount:0},{id:"ped_4",title:"Yer Tutucular",status:"not-started",questionCount:0},{id:"ped_5",title:"Koruyucu Uygulamalar",status:"not-started",questionCount:0}]}]},{id:"basic-sci",title:"Temel Bilimler",subjects:[{id:"anatomy",title:"Anatomi",topics:[{id:"ana_1",title:"Kemikler (Osteology)",status:"not-started",questionCount:0},{id:"ana_2",title:"Eklemler (Arthrology)",status:"not-started",questionCount:0},{id:"ana_3",title:"Kaslar (Myology)",status:"not-started",questionCount:0},{id:"ana_4",title:"Sinir Sistemi (Neuroanatomy)",status:"not-started",questionCount:0},{id:"ana_5",title:"Dolam Sistemi",status:"not-started",questionCount:0},{id:"ana_6",title:" Organlar",status:"not-started",questionCount:0}]},{id:"physiology",title:"Fizyoloji",topics:[{id:"fiz_1",title:"Hcre Fizyolojisi",status:"not-started",questionCount:0},{id:"fiz_2",title:"Kan ve Baklk",status:"not-started",questionCount:0},{id:"fiz_3",title:"Kas ve skelet Sistemi",status:"not-started",questionCount:0},{id:"fiz_4",title:"Dolam ve Solunum",status:"not-started",questionCount:0},{id:"fiz_5",title:"Sindirim ve Boaltm",status:"not-started",questionCount:0},{id:"fiz_6",title:"Sinir ve Duyu Fizyolojisi",status:"not-started",questionCount:0},{id:"fiz_7",title:"Endokrin Sistem",status:"not-started",questionCount:0}]},{id:"biochemistry",title:"Tbbi Biyokimya",topics:[{id:"bio_1",title:"Karbonhidratlar",status:"not-started",questionCount:0},{id:"bio_2",title:"Lipidler",status:"not-started",questionCount:0},{id:"bio_3",title:"Proteinler ve Aminoasitler",status:"not-started",questionCount:0},{id:"bio_4",title:"Enzimler",status:"not-started",questionCount:0},{id:"bio_5",title:"Vitaminler ve Koenzimler",status:"not-started",questionCount:0},{id:"bio_6",title:"Nkleotidler ve Nkleik Asitler",status:"not-started",questionCount:0},{id:"bio_7",title:"Hormonlar",status:"not-started",questionCount:0}]},{id:"microbiology",title:"Tbbi Mikrobiyoloji",topics:[{id:"mik_1",title:"Genel Bakteriyoloji",status:"not-started",questionCount:0},{id:"mik_2",title:"mmnoloji",status:"not-started",questionCount:0},{id:"mik_3",title:"Viroloji",status:"not-started",questionCount:0},{id:"mik_4",title:"Mikoloji",status:"not-started",questionCount:0},{id:"mik_5",title:"Parazitoloji",status:"not-started",questionCount:0},{id:"mik_6",title:"Antimikrobiyaller",status:"not-started",questionCount:0}]},{id:"pathology",title:"Tbbi Patoloji",topics:[{id:"pat_1",title:"Hcre Hasar ve Adaptasyon",status:"not-started",questionCount:0},{id:"pat_2",title:"nflamasyon ve Onarm",status:"not-started",questionCount:0},{id:"pat_3",title:"Neoplazi",status:"not-started",questionCount:0},{id:"pat_4",title:"Hemodinamik Bozukluklar",status:"not-started",questionCount:0},{id:"pat_5",title:"Oral Patoloji (Tmr/Kist)",status:"not-started",questionCount:0}]},{id:"pharmacology",title:"Tbbi Farmakoloji",topics:[{id:"far_1",title:"Genel Farmakoloji",status:"not-started",questionCount:0},{id:"far_2",title:"Otonom Sinir Sistemi",status:"not-started",questionCount:0},{id:"far_3",title:"Santral Sinir Sistemi",status:"not-started",questionCount:0},{id:"far_4",title:"Kardiyovaskler Sistem",status:"not-started",questionCount:0},{id:"far_5",title:"Endokrin Farmakolojisi",status:"not-started",questionCount:0},{id:"far_6",title:"Kemoteraptikler",status:"not-started",questionCount:0}]},{id:"biology",title:"Tbbi Biyoloji ve Genetik",topics:[{id:"biy_1",title:"Hcre Biyolojisi ve Organeller",status:"not-started",questionCount:0},{id:"biy_2",title:"Hcre Dngs ve Blnme",status:"not-started",questionCount:0},{id:"biy_3",title:"Molekler Genetik (DNA/RNA)",status:"not-started",questionCount:0},{id:"biy_4",title:"Kaltm Modelleri (Mendel/Mendel D)",status:"not-started",questionCount:0},{id:"biy_5",title:"Sitogenetik ve Kromozom Anomalileri",status:"not-started",questionCount:0},{id:"biy_6",title:"Tbbi Teknolojiler (PCR, Klonlama)",status:"not-started",questionCount:0}]}]}],nx=(t,e)=>e.some(n=>t instanceof n);let kC,NC;function z8(){return kC||(kC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B8(){return NC||(NC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rx=new WeakMap,qy=new WeakMap,Sp=new WeakMap;function F8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(fo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return Sp.set(e,t),e}function U8(t){if(rx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});rx.set(t,e)}let ix={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gM(t){ix=t(ix)}function $8(t){return B8().includes(t)?function(...e){return t.apply(ax(this),e),fo(this.request)}:function(...e){return fo(t.apply(ax(this),e))}}function H8(t){return typeof t=="function"?$8(t):(t instanceof IDBTransaction&&U8(t),nx(t,z8())?new Proxy(t,ix):t)}function fo(t){if(t instanceof IDBRequest)return F8(t);if(qy.has(t))return qy.get(t);const e=H8(t);return e!==t&&(qy.set(t,e),Sp.set(e,t)),e}const ax=t=>Sp.get(t);function q8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=fo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fo(o.result),u.oldVersion,u.newVersion,fo(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const G8=["get","getKey","getAll","getAllKeys","count"],K8=["put","add","delete","clear"],Gy=new Map;function TC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gy.get(e))return Gy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G8.includes(n)))return;const a=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&u.done]))[0]};return Gy.set(e,a),a}gM(t=>({...t,get:(e,n,r)=>TC(e,n)||t.get(e,n,r),has:(e,n)=>!!TC(e,n)||t.has(e,n)}));const V8=["continue","continuePrimaryKey","advance"],OC={},sx=new WeakMap,vM=new WeakMap,Y8={get(t,e){if(!V8.includes(e))return t[e];let n=OC[e];return n||(n=OC[e]=function(...r){sx.set(this,vM.get(this)[e](...r))}),n}};async function*W8(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,Y8);for(vM.set(n,e),Sp.set(n,ax(e));e;)yield n,e=await(sx.get(n)||e.continue()),sx.delete(n)}function PC(t,e){return e===Symbol.asyncIterator&&nx(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&nx(t,[IDBIndex,IDBObjectStore])}gM(t=>({...t,get(e,n,r){return PC(e,n)?W8:t.get(e,n,r)},has(e,n){return PC(e,n)||t.has(e,n)}}));const yM="DUS_Antigravity_ULTIMATE_v1",X8=3,Gi="topics",qu="articles",Gu="folders",vo="pearls",Ku="pearl_folders",Vu="questions",Yu="exams",Wu="mistakes",Vl="activities",ox="study_sessions",ym="fitness_workouts",Xu="fitness_logs",Qu="supplements",Yl="supplement_logs",Zu="nutrition_logs",Ju="assets";let Ky=null;const ke=async()=>(Ky||(Ky=q8(yM,X8,{upgrade(t,e,n,r){console.log(`DB Upgrade: ${e} -> ${n}`),t.objectStoreNames.contains(Gi)||t.createObjectStore(Gi,{keyPath:"id"}),t.objectStoreNames.contains(qu)||t.createObjectStore(qu,{keyPath:"id"}),t.objectStoreNames.contains(Gu)||t.createObjectStore(Gu,{keyPath:"id"}),t.objectStoreNames.contains(vo)||t.createObjectStore(vo,{keyPath:"id"}),t.objectStoreNames.contains(Ku)||t.createObjectStore(Ku,{keyPath:"id"}),t.objectStoreNames.contains(Vu)||t.createObjectStore(Vu,{keyPath:"id"}),t.objectStoreNames.contains(Yu)||t.createObjectStore(Yu,{keyPath:"id"}),t.objectStoreNames.contains(Wu)||t.createObjectStore(Wu,{keyPath:"id"}),t.objectStoreNames.contains(Vl)||t.createObjectStore(Vl,{keyPath:"id"}),t.objectStoreNames.contains(ox)||t.createObjectStore(ox,{keyPath:"id"}),t.objectStoreNames.contains(ym)||t.createObjectStore(ym,{keyPath:"id"}),t.objectStoreNames.contains(Xu)||t.createObjectStore(Xu,{keyPath:"id"}),t.objectStoreNames.contains(Qu)||t.createObjectStore(Qu,{keyPath:"id"}),t.objectStoreNames.contains(Yl)||t.createObjectStore(Yl,{keyPath:"id"}),t.objectStoreNames.contains(Zu)||t.createObjectStore(Zu,{keyPath:"id"}),t.objectStoreNames.contains(Ju)||t.createObjectStore(Ju,{keyPath:"id"})},blocked(){alert("Veritaban balatlamad! Ltfen dier sekmeleri kapatn.")}})),Ky),Ah=async()=>(await ke()).getAll(Gi),Vy=async t=>(await ke()).put(Gi,t),Q8=async(t,e,n)=>{try{const r=await ke(),i=await r.get(Gi,t)||{id:t,status:"not-started",note:"",images:[]};i.images||(i.images=[]);const a=await new Promise((c,u)=>{const f=new FileReader;f.onload=()=>c(f.result),f.onerror=()=>u(f.error),f.readAsDataURL(e)}),o={id:Date.now().toString(),dataUrl:a,caption:n||"",createdAt:new Date().toISOString()};return i.images.push(o),await r.put(Gi,i),i}catch(r){throw console.error("Error saving image:",r),r}},Z8=async(t,e)=>{try{const n=await ke(),r=await n.get(Gi,t);if(r&&r.images)return r.images=r.images.filter(i=>i.id!==e),await n.put(Gi,r),r}catch(n){throw console.error("Error deleting image:",n),n}},I1=async()=>(await ke()).getAll(qu),nm=async t=>(await ke()).put(qu,t),bM=async t=>(await ke()).delete(qu,t),J8=async t=>{const e=await ke(),n={id:Date.now().toString(),name:t,createdAt:new Date().toISOString()};return await e.put(Gu,n),n},xM=async()=>(await ke()).getAll(Gu),eU=async t=>(await ke()).delete(Gu,t),Ru=async t=>(await ke()).put(vo,t),bm=async()=>(await ke()).getAll(vo),wM=async t=>{const e=await ke(),n=await e.get(vo,t);return n&&(n.isFavorite=!n.isFavorite,await e.put(vo,n)),n},SM=async t=>(await ke()).delete(vo,t),tU=async t=>(await ke()).put(Ku,t),nU=async()=>(await ke()).getAll(Ku),rU=async t=>(await ke()).delete(Ku,t),AM=async t=>(await ke()).put(Vu,t),EM=async()=>(await ke()).getAll(Vu),_M=async t=>(await ke()).delete(Vu,t),iU=async t=>(await ke()).put(Yu,t),CM=async()=>(await ke()).getAll(Yu),aU=async t=>(await ke()).delete(Yu,t),sU=async t=>(await ke()).put(Wu,t),jM=async()=>(await ke()).getAll(Wu),oU=async t=>(await ke()).delete(Wu,t),lU=async t=>(await ke()).put(Vl,t),cU=async()=>(await ke()).getAll(Vl),uU=async t=>{const n=await(await ke()).getAll(Vl),r=new Date(t).toISOString().split("T")[0];return n.filter(i=>new Date(i.startTime).toISOString().split("T")[0]===r)},dU=async t=>(await ke()).delete(Vl,t),fU=async t=>(await ke()).put(ox,t),Ap=async()=>(await ke()).getAll(ym),MC=async t=>(await ke()).put(ym,t),z1=async()=>(await ke()).getAll(Xu),kM=async t=>(await ke()).put(Xu,t),hU=async t=>{const n=(await ke()).transaction(Xu,"readwrite");await n.store.delete(t),await n.done},lx=async()=>(await ke()).getAll(Qu),DC=async t=>(await ke()).put(Qu,t),mU=async t=>(await ke()).delete(Qu,t),pU=async()=>(await ke()).getAll(Yl),gU=async t=>(await(await ke()).getAll(Yl)).filter(r=>r.date===t),vU=async t=>(await ke()).put(Yl,t),yU=async t=>(await ke()).delete(Yl,t),NM=async()=>(await ke()).getAll(Zu),Yy=async t=>(await ke()).put(Zu,t),bU=async t=>{const n=(await ke()).transaction(Zu,"readwrite");await n.store.delete(t),await n.done},xU=async()=>new Promise((t,e)=>{const n=window.indexedDB.deleteDatabase(yM);n.onsuccess=()=>{window.location.reload(),t()},n.onerror=r=>e(r),n.onblocked=()=>alert("Sfrlama engellendi! Dier sekmeleri kapatn.")}),wU=async t=>{const e=await ke();if(await e.count(Gi)===0&&t&&t.length>0){console.log("Migrating data from LocalStorage to IndexedDB...");const r=e.transaction(Gi,"readwrite");for(const i of t)for(const a of i.subjects)for(const o of a.topics)if(o.status!=="not-started"||o.note||o.questionCount>0)try{await r.store.put({id:o.id,title:o.title,status:o.status||"not-started",note:o.note||"",questionCount:o.questionCount||0,images:[]})}catch{console.warn("Topic migration skipped:",o.id)}return await r.done,!0}return!1},SU=async()=>(await ke()).getAll(Ju),bl=async t=>(await ke()).put(Ju,t),AU=async t=>(await ke()).delete(Ju,t),Wy="dus-antigravity-data";function B1(){const[t,e]=A.useState(Hy),[n,r]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const v=localStorage.getItem(Wy);if(v)try{const S=JSON.parse(v);await wU(S),localStorage.setItem(Wy+"_migrated",v),localStorage.removeItem(Wy)}catch(S){console.error("Migration error:",S)}let y=await Ah();if(y.length===0){console.log(" Database empty! Seeding Initial Curriculum topics...");const S=[];Hy.forEach(_=>{_.subjects.forEach(C=>{C.topics.forEach(j=>{S.push({...j,subjectId:C.id,groupId:_.id,lastUpdated:new Date().toISOString()})})})}),await Promise.all(S.map(_=>Vy(_))),console.log(` Seeding Complete: ${S.length} topics inserted.`),y=await Ah()}const w=new Map(y.map(S=>[S.id,S])),x=Hy.map(S=>({...S,subjects:S.subjects.map(_=>({..._,topics:_.topics.map(C=>{const j=w.get(C.id);return j?{...C,status:j.status||C.status,note:j.note||C.note,images:j.images||[],questionCount:j.questionCount||C.questionCount}:{...C,images:[]}})}))}));e(x)}catch(v){console.error("Failed to initialize:",v)}finally{r(!1)}})()},[]);const i=async(m,v)=>{e(w=>w.map(x=>({...x,subjects:x.subjects.map(S=>({...S,topics:S.topics.map(_=>_.id===m?{..._,status:v}:_)}))})));const y=await u(m);y&&await Vy({...y,status:v})},a=async(m,v)=>{e(w=>w.map(x=>({...x,subjects:x.subjects.map(S=>({...S,topics:S.topics.map(_=>_.id===m?{..._,note:v}:_)}))})));const y=await u(m);y&&await Vy({...y,note:v})},o=async(m,v,y)=>{await Q8(m,v,y),window.location.reload()},c=async(m,v)=>{await Z8(m,v),window.location.reload()},u=async m=>(await Ah()).find(y=>y.id===m)||{id:m,status:"not-started",note:"",images:[]};return{data:t,isLoading:n,updateTopicStatus:i,updateTopicNote:a,addImage:o,removeImage:c,exportData:async()=>{try{console.log("Starting Full Export...");const[m,v,y,w,x,S,_,C,j,T,k,N,P]=await Promise.all([Ah(),I1(),xM(),bm(),EM(),CM(),jM(),cU(),Ap(),z1(),lx(),pU(),NM()]),L={metadata:{version:"2.0",appName:"DUS-Antigravity",exportedAt:new Date().toISOString()},data:{topics:m,articles:v,folders:y,pearls:w,questions:x,exams:S,mistakes:_,activities:C,workouts:j,fitnessLogs:T,supplements:k,supplementLogs:N,nutritionLogs:P}},B=JSON.stringify(L,null,2),H=new Blob([B],{type:"application/json"}),z=URL.createObjectURL(H),$=document.createElement("a");return $.href=z,$.download=`DUS_LifeOS_Backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(z),console.log("Export Complete."),!0}catch(m){throw console.error("Export Failed:",m),alert("Da aktarma baarsz: "+m.message),m}},importData:m=>new Promise((v,y)=>{const w=new FileReader;w.onload=async x=>{try{const S=JSON.parse(x.target.result);let _={};if(Array.isArray(S))console.log("Legacy Backup Detected"),_={topics:S};else if(S.data)console.log("v2 Backup Detected"),_=S.data;else throw new Error("Unknown backup format");const C=await ke(),j={topics:"topics",articles:"articles",folders:"folders",pearls:"pearls",questions:"questions",exams:"exams",mistakes:"mistakes",activities:"activities",workouts:"fitness_workouts",fitnessLogs:"fitness_logs",supplements:"supplements",supplementLogs:"supplement_logs",nutritionLogs:"nutrition_logs"};for(const[T,k]of Object.entries(j))if(_[T]&&Array.isArray(_[T])){const N=C.transaction(k,"readwrite");for(const P of _[T])await N.store.put(P);await N.done,console.log(`Restored ${T}: ${_[T].length} items`)}window.location.reload(),v(!0)}catch(S){console.error("Import failed:",S),alert("e aktarma hatas: "+S.message),y(S)}},w.readAsText(m)})}}function EU({topic:t,onStatusChange:e,onNoteUpdate:n,onAddImage:r,onRemoveImage:i}){const a=Tl[t.status]||Tl["not-started"],[o,c]=A.useState(!1),[u,f]=A.useState(t.note||""),[h,m]=A.useState(null),[v,y]=A.useState(!1);A.useEffect(()=>{f(t.note||"")},[t.note]);const[w,x]=A.useState(null),[S,_]=A.useState(!1),[C,j]=A.useState("all"),T=()=>{const B=a.next;e(t.id,B)},k=()=>{n(t.id,u),c(!1)},N=B=>{const H=B.target.files[0];if(H){if(H.type==="image/heic"||H.name.toLowerCase().endsWith(".heic")){alert(` HEIC format desteklenmiyor!

Ltfen JPG veya PNG formatnda bir resim sein.

iPhone kullanyorsanz:
Ayarlar  Kamera  Formatlar  "En Uyumlu" sein.`),B.target.value=null;return}x(H),_(!0),B.target.value=null}},P=B=>{w&&r(t.id,w,B),_(!1),x(null)},L=B=>{m(B),y(!0)};return p.jsxs("div",{className:"bg-card border border-border rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow relative group flex flex-col h-full",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsx("h3",{className:"font-semibold text-lg text-foreground/90 leading-tight",children:t.title}),p.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>document.getElementById(`upload-${t.id}`).click(),className:"p-2 rounded-full text-muted-foreground hover:bg-muted hover:text-blue-400 transition-colors",title:"Fotoraf Ekle",children:p.jsx(e6,{size:18})}),p.jsx("input",{type:"file",id:`upload-${t.id}`,className:"hidden",accept:"image/*",onChange:N}),p.jsx("button",{onClick:()=>c(!0),className:`p-2 rounded-full transition-colors ${t.note?"text-accent hover:bg-accent/10 opacity-100":"text-muted-foreground hover:bg-muted"}`,title:"Not Ekle",children:p.jsx(V6,{size:18})})]})]}),p.jsxs("div",{className:"flex-1",children:[t.images&&t.images.length>0&&p.jsx("div",{className:"mb-2",children:p.jsxs("div",{className:"flex gap-1 text-[10px] font-medium",children:[p.jsxs("button",{onClick:()=>j("all"),className:`px-2 py-1 rounded transition-colors ${C==="all"?"bg-primary/20 text-primary":"bg-secondary/50 text-muted-foreground hover:bg-secondary"}`,children:["Tm (",t.images.length,")"]}),p.jsxs("button",{onClick:()=>j("soru"),className:`px-2 py-1 rounded transition-colors ${C==="soru"?"bg-red-500/20 text-red-500":"bg-secondary/50 text-muted-foreground hover:bg-secondary"}`,children:[" Sorular (",t.images.filter(B=>B.caption==="Soru").length,")"]}),p.jsxs("button",{onClick:()=>j("bilgi"),className:`px-2 py-1 rounded transition-colors ${C==="bilgi"?"bg-blue-500/20 text-blue-500":"bg-secondary/50 text-muted-foreground hover:bg-secondary"}`,children:[" Bilgi (",t.images.filter(B=>B.caption==="Bilgi Sayfas").length,")"]})]})}),t.images&&t.images.length>0&&p.jsx("div",{className:"flex gap-2 mb-3 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-border",children:t.images.filter(B=>C==="all"?!0:C==="soru"?B.caption==="Soru":C==="bilgi"?B.caption==="Bilgi Sayfas":!0).map(B=>p.jsxs("div",{className:"relative flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden border border-border cursor-pointer hover:ring-2 ring-primary transition-all group/img",onClick:()=>L(B),children:[p.jsx("img",{src:B.dataUrl||(B.blob?URL.createObjectURL(B.blob):""),alt:"thumbnail",className:"w-full h-full object-cover",onError:H=>console.error("Image load error:",H)}),B.caption&&p.jsx("div",{className:`absolute bottom-0 left-0 right-0 text-[8px] font-bold text-center py-0.5 ${B.caption==="Soru"?"bg-red-500/90 text-white":"bg-blue-500/90 text-white"}`,children:B.caption==="Soru"?"S":"B"})]},B.id))})]}),p.jsxs("div",{className:"flex items-center justify-between mt-auto pt-2",children:[p.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.color} transition-colors duration-300`,children:a.label}),p.jsx("button",{onClick:T,className:"p-2 rounded-full hover:bg-primary/20 text-primary transition-colors",title:"Durumu Deitir",children:p.jsx(a8,{size:20,className:"hover:rotate-180 transition-transform duration-500"})})]}),o&&p.jsxs("div",{className:"absolute inset-0 bg-card/95 backdrop-blur-sm z-10 rounded-xl p-4 flex flex-col animate-in fade-in duration-200",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Konu Notlar"}),p.jsx("button",{onClick:()=>c(!1),className:"text-muted-foreground hover:text-destructive",children:p.jsx(bn,{size:18})})]}),p.jsx("textarea",{className:"flex-1 w-full bg-input/50 rounded-lg p-2 text-sm resize-none focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"nemli detaylar buraya not al...",value:u,onChange:B=>f(B.target.value)}),p.jsxs("button",{onClick:k,className:"mt-2 w-full py-1.5 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90 flex items-center justify-center gap-2",children:[p.jsx(pM,{size:14}),"Kaydet"]})]}),S&&p.jsxs("div",{className:"absolute inset-0 bg-card/95 backdrop-blur-sm z-10 rounded-xl p-4 flex flex-col animate-in fade-in duration-200",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Bu resim ne tr?"}),p.jsx("button",{onClick:()=>{_(!1),x(null)},className:"text-muted-foreground hover:text-destructive",children:p.jsx(bn,{size:18})})]}),p.jsxs("div",{className:"flex-1 flex flex-col gap-2 justify-center",children:[p.jsx("button",{onClick:()=>P("Soru"),className:"w-full py-3 bg-red-500/10 hover:bg-red-500/20 border border-red-500/30 text-red-500 rounded-lg text-sm font-bold transition-colors",children:" SORU"}),p.jsx("button",{onClick:()=>P("Bilgi Sayfas"),className:"w-full py-3 bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/30 text-blue-500 rounded-lg text-sm font-bold transition-colors",children:" BLG SAYFASI"})]})]}),v&&h&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:B=>{B.target===B.currentTarget&&y(!1)},onKeyDown:B=>{if(B.key==="Escape"&&y(!1),B.key==="ArrowLeft"){const H=t.images.findIndex(z=>z.id===h.id);H>0&&m(t.images[H-1])}if(B.key==="ArrowRight"){const H=t.images.findIndex(z=>z.id===h.id);H<t.images.length-1&&m(t.images[H+1])}},tabIndex:0,children:p.jsxs("div",{className:"bg-card rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-2xl border border-border relative",onClick:B=>B.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border",children:[p.jsx("h4",{className:"font-medium",children:"Grsel nizleme"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:B=>{B.stopPropagation(),i(t.id,h.id),y(!1)},className:"p-2 text-destructive hover:bg-destructive/10 rounded-lg transition-colors",title:"Sil",children:p.jsx(On,{size:20})}),p.jsx("button",{onClick:B=>{B.stopPropagation(),y(!1)},className:"p-2 text-muted-foreground hover:bg-muted rounded-lg transition-colors",children:p.jsx(bn,{size:20})})]})]}),p.jsxs("div",{className:"flex-1 overflow-auto bg-black/50 flex items-center justify-center p-4 relative",children:[t.images.findIndex(B=>B.id===h.id)>0&&p.jsx("button",{onClick:()=>{const B=t.images.findIndex(H=>H.id===h.id);m(t.images[B-1])},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-black/50 hover:bg-black/70 text-white rounded-full transition-colors z-10",title:"nceki ()",children:p.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M15 18l-6-6 6-6"})})}),p.jsx("img",{src:h.dataUrl||(h.blob?URL.createObjectURL(h.blob):""),alt:"Full view",className:"max-w-full max-h-full object-contain rounded-md shadow-lg",onError:B=>console.error("Lightbox image error:",B)}),t.images.findIndex(B=>B.id===h.id)<t.images.length-1&&p.jsx("button",{onClick:()=>{const B=t.images.findIndex(H=>H.id===h.id);m(t.images[B+1])},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-black/50 hover:bg-black/70 text-white rounded-full transition-colors z-10",title:"Sonraki ()",children:p.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M9 18l6-6-6-6"})})})]}),p.jsx("div",{className:"p-4 border-t border-border bg-card",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(h.createdAt).toLocaleDateString("tr-TR")," tarihinde eklendi"]}),h.caption&&p.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${h.caption==="Soru"?"bg-red-500/20 text-red-500 border border-red-500/30":"bg-blue-500/20 text-blue-500 border border-blue-500/30"}`,children:h.caption})]})})]})})]})}function _U(){const{data:t,updateTopicStatus:e,updateTopicNote:n,addImage:r,removeImage:i}=B1(),[a,o]=A.useState({}),[c,u]=A.useState(""),f=v=>c?v.filter(y=>y.title.toLowerCase().includes(c.toLowerCase())):v,h=v=>{o(y=>({...y,[v]:!y[v]}))},m=v=>`${v.filter(w=>w.status==="finished"||w.status==="questions").length}/${v.length}`;return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-400",children:"Mfredat"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Tm konularn ilerleme durumunu takip edin."})]}),p.jsxs("div",{className:"relative",children:[p.jsx(pm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),p.jsx("input",{type:"text",placeholder:"Konu ara...",value:c,onChange:v=>u(v.target.value),className:"pl-9 pr-4 py-2 rounded-xl bg-card border border-border focus:ring-1 focus:ring-primary focus:outline-none w-64 text-sm"})]})]}),p.jsx("div",{className:"space-y-8",children:t.map(v=>p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-xl font-semibold text-primary/80 border-b border-border pb-2",children:v.title}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:v.subjects.map(y=>{const w=a[y.id]||c.length>0,x=f(y.topics);return p.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden transition-all duration-300",children:[p.jsxs("button",{onClick:()=>h(y.id),className:"w-full p-4 flex items-center justify-between hover:bg-accent/5 transition-colors text-left",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`h-2 w-2 rounded-full ${w?"bg-primary":"bg-muted-foreground"}`}),p.jsx("h4",{className:"text-lg font-medium",children:y.title})]}),p.jsxs("div",{className:"text-sm text-muted-foreground bg-secondary/50 px-3 py-1 rounded-full",children:[m(y.topics)," Tamamland"]})]}),(w||c)&&p.jsxs("div",{className:"p-4 pt-0 border-t border-border/50 bg-card/50",children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:x.map(S=>p.jsx(EU,{topic:S,onStatusChange:e,onNoteUpdate:n,onAddImage:r,onRemoveImage:i},S.id))}),x.length===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic mt-2",children:"Bu aramaya uygun konu bulunamad."})]})]},y.id)})})]},v.id))})]})}function TM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=TM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=TM(t))&&(r&&(r+=" "),r+=e);return r}var CU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function F1(t){if(typeof t!="string")return!1;var e=CU;return e.includes(t)}var jU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kU=new Set(jU);function OM(t){return typeof t!="string"?!1:kU.has(t)}function PM(t){return typeof t=="string"&&t.startsWith("data-")}function Ut(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(OM(n)||PM(n))&&(e[n]=t[n]);return e}function Es(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ut(e)}return typeof t=="object"&&!Array.isArray(t)?Ut(t):null}function hn(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(OM(n)||PM(n)||F1(n))&&(e[n]=t[n]);return e}function NU(t){return t==null?null:A.isValidElement(t)?hn(t.props):typeof t=="object"&&!Array.isArray(t)?hn(t):null}var TU=["children","width","height","viewBox","className","style","title","desc"];function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(null,arguments)}function OU(t,e){if(t==null)return{};var n,r,i=PU(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U1=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:c,title:u,desc:f}=t,h=OU(t,TU),m=a||{width:r,height:i,x:0,y:0},v=$e("recharts-surface",o);return A.createElement("svg",cx({},hn(h),{className:v,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),A.createElement("title",null,u),A.createElement("desc",null,f),n)}),MU=["children","className"];function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(null,arguments)}function DU(t,e){if(t==null)return{};var n,r,i=RU(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xt=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=DU(t,MU),a=$e("recharts-layer",r);return A.createElement("g",ux({className:a},hn(i),{ref:e}),n)}),MM=A.createContext(null),LU=()=>A.useContext(MM);function _t(t){return function(){return t}}const DM=Math.cos,xm=Math.sin,Ei=Math.sqrt,wm=Math.PI,Ep=2*wm,dx=Math.PI,fx=2*dx,Zs=1e-6,IU=fx-Zs;function RM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function zU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return RM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class BU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?RM:zU(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,u=r-e,f=i-n,h=o-e,m=c-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Zs)if(!(Math.abs(m*u-f*h)>Zs)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,w=i-c,x=u*u+f*f,S=y*y+w*w,_=Math.sqrt(x),C=Math.sqrt(v),j=a*Math.tan((dx-Math.acos((x+v-S)/(2*_*C)))/2),T=j/C,k=j/_;Math.abs(T-1)>Zs&&this._append`L${e+T*h},${n+T*m}`,this._append`A${a},${a},0,0,${+(m*y>h*w)},${this._x1=e+k*u},${this._y1=n+k*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),f=e+c,h=n+u,m=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Zs||Math.abs(this._y1-h)>Zs)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%fx+fx),v>IU?this._append`A${r},${r},0,1,${m},${e-c},${n-u}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:v>Zs&&this._append`A${r},${r},0,${+(v>=dx)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new BU(e)}function H1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function LM(t){this._context=t}LM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _p(t){return new LM(t)}function IM(t){return t[0]}function zM(t){return t[1]}function BM(t,e){var n=_t(!0),r=null,i=_p,a=null,o=$1(c);t=typeof t=="function"?t:t===void 0?IM:_t(t),e=typeof e=="function"?e:e===void 0?zM:_t(e);function c(u){var f,h=(u=H1(u)).length,m,v=!1,y;for(r==null&&(a=i(y=o())),f=0;f<=h;++f)!(f<h&&n(m=u[f],f,u))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(m,f,u),+e(m,f,u));if(y)return a=null,y+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:_t(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:_t(+u),c):e},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:_t(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),c):r},c}function Eh(t,e,n){var r=null,i=_t(!0),a=null,o=_p,c=null,u=$1(f);t=typeof t=="function"?t:t===void 0?IM:_t(+t),e=typeof e=="function"?e:_t(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?zM:_t(+n);function f(m){var v,y,w,x=(m=H1(m)).length,S,_=!1,C,j=new Array(x),T=new Array(x);for(a==null&&(c=o(C=u())),v=0;v<=x;++v){if(!(v<x&&i(S=m[v],v,m))===_)if(_=!_)y=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=v-1;w>=y;--w)c.point(j[w],T[w]);c.lineEnd(),c.areaEnd()}_&&(j[v]=+t(S,v,m),T[v]=+e(S,v,m),c.point(r?+r(S,v,m):j[v],n?+n(S,v,m):T[v]))}if(C)return c=null,C+""||null}function h(){return BM().defined(i).curve(o).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:_t(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:_t(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:_t(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:_t(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:_t(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:_t(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:_t(!!m),f):i},f.curve=function(m){return arguments.length?(o=m,a!=null&&(c=o(a)),f):o},f.context=function(m){return arguments.length?(m==null?a=c=null:c=o(a=m),f):a},f}class FM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function FU(t){return new FM(t,!0)}function UU(t){return new FM(t,!1)}const q1={draw(t,e){const n=Ei(e/wm);t.moveTo(n,0),t.arc(0,0,n,0,Ep)}},$U={draw(t,e){const n=Ei(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},UM=Ei(1/3),HU=UM*2,qU={draw(t,e){const n=Ei(e/HU),r=n*UM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},GU={draw(t,e){const n=Ei(e),r=-n/2;t.rect(r,r,n,n)}},KU=.8908130915292852,$M=xm(wm/10)/xm(7*wm/10),VU=xm(Ep/10)*$M,YU=-DM(Ep/10)*$M,WU={draw(t,e){const n=Ei(e*KU),r=VU*n,i=YU*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Ep*a/5,c=DM(o),u=xm(o);t.lineTo(u*n,-c*n),t.lineTo(c*r-u*i,u*r+c*i)}t.closePath()}},Xy=Ei(3),XU={draw(t,e){const n=-Ei(e/(Xy*3));t.moveTo(0,n*2),t.lineTo(-Xy*n,-n),t.lineTo(Xy*n,-n),t.closePath()}},Wr=-.5,Xr=Ei(3)/2,hx=1/Ei(12),QU=(hx/2+1)*3,ZU={draw(t,e){const n=Ei(e/QU),r=n/2,i=n*hx,a=r,o=n*hx+n,c=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(c,u),t.lineTo(Wr*r-Xr*i,Xr*r+Wr*i),t.lineTo(Wr*a-Xr*o,Xr*a+Wr*o),t.lineTo(Wr*c-Xr*u,Xr*c+Wr*u),t.lineTo(Wr*r+Xr*i,Wr*i-Xr*r),t.lineTo(Wr*a+Xr*o,Wr*o-Xr*a),t.lineTo(Wr*c+Xr*u,Wr*u-Xr*c),t.closePath()}};function JU(t,e){let n=null,r=$1(i);t=typeof t=="function"?t:_t(t||q1),e=typeof e=="function"?e:_t(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:_t(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:_t(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Sm(){}function Am(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function HM(t){this._context=t}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Am(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Am(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e$(t){return new HM(t)}function qM(t){this._context=t}qM.prototype={areaStart:Sm,areaEnd:Sm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Am(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t$(t){return new qM(t)}function GM(t){this._context=t}GM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Am(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n$(t){return new GM(t)}function KM(t){this._context=t}KM.prototype={areaStart:Sm,areaEnd:Sm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function r$(t){return new KM(t)}function RC(t){return t<0?-1:1}function LC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(RC(a)+RC(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function IC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Qy(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,o-c*n,a,o)}function Em(t){this._context=t}Em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qy(this,this._t0,IC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qy(this,IC(this,n=LC(this,t,e)),n);break;default:Qy(this,this._t0,n=LC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function VM(t){this._context=new YM(t)}(VM.prototype=Object.create(Em.prototype)).point=function(t,e){Em.prototype.point.call(this,e,t)};function YM(t){this._context=t}YM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function i$(t){return new Em(t)}function a$(t){return new VM(t)}function WM(t){this._context=t}WM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zC(t),i=zC(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zC(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function s$(t){return new WM(t)}function Cp(t,e){this._context=t,this._t=e}Cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function o$(t){return new Cp(t,.5)}function l$(t){return new Cp(t,0)}function c$(t){return new Cp(t,1)}function yo(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,c=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function u$(t,e){return t[e]}function d$(t){const e=[];return e.key=t,e}function f$(){var t=_t([]),e=mx,n=yo,r=u$;function i(a){var o=Array.from(t.apply(this,arguments),d$),c,u=o.length,f=-1,h;for(const m of a)for(c=0,++f;c<u;++c)(o[c][f]=[0,+r(m,o[c].key,f,a)]).data=m;for(c=0,h=H1(e(o));c<u;++c)o[h[c]].index=c;return n(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:_t(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:_t(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?mx:typeof a=="function"?a:_t(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??yo,i):n},i}function h$(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}yo(t,e)}}function m$(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=t[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}yo(t,e)}}function p$(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,u=0,f=0;c<o;++c){for(var h=t[e[c]],m=h[r][1]||0,v=h[r-1][1]||0,y=(m-v)/2,w=0;w<c;++w){var x=t[e[w]],S=x[r][1]||0,_=x[r-1][1]||0;y+=S-_}u+=m,f+=y*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,yo(t,e)}}var Zy={},Jy={},BC;function g$(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Jy)),Jy}var e0={},FC;function XM(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(e0)),e0}var t0={},UC;function G1(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(t0)),t0}var n0={},r0={},$C;function v$(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(r0)),r0}var HC;function K1(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v$(),n=G1();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let c=0,u="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const m=i[c];f?m==="\\"&&c+1<o?(c++,u+=i[c]):m===f?f="":u+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,a.push(u),u=""):u+=m:m==="["?(h=!0,u&&(a.push(u),u="")):m==="."?u&&(a.push(u),u=""):u+=m,c++}return u&&a.push(u),a}t.toPath=r})(n0)),n0}var qC;function V1(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g$(),n=XM(),r=G1(),i=K1();function a(c,u,f){if(c==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const h=c[u];return h===void 0?n.isDeepKey(u)?a(c,i.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=c[u];return h===void 0?f:h}default:{if(Array.isArray(u))return o(c,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const h=c[u];return h===void 0?f:h}}}function o(c,u,f){if(u.length===0)return f;let h=c;for(let m=0;m<u.length;m++){if(h==null||e.isUnsafeProperty(u[m]))return f;h=h[u[m]]}return h===void 0?f:h}t.get=a})(Zy)),Zy}var i0,GC;function y$(){return GC||(GC=1,i0=V1().get),i0}var b$=y$();const bo=li(b$);var x$=4;function ws(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x$,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Bt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,o)=>{var c=n[o-1];return typeof c=="string"?i+c+a:c!==void 0?i+ws(c)+a:i+a},"")}var Yn=t=>t===0?0:t>0?1:-1,Ki=t=>typeof t=="number"&&t!=+t,ka=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Se=t=>(typeof t=="number"||t instanceof Number)&&!Ki(t),Vi=t=>Se(t)||typeof t=="string",w$=0,ed=t=>{var e=++w$;return"".concat(t||"").concat(e)},Dr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(e)&&typeof e!="string")return r;var a;if(ka(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Ki(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},QM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function fn(t,e,n){return Se(t)&&Se(e)?ws(t+n*(e-t)):e}function ZM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):bo(r,e))===n)}var rn=t=>t===null||typeof t>"u",kd=t=>rn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function S$(t){return t!=null}function Nd(){}var A$=["type","size","sizeType"];function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(null,arguments)}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){E$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E$(t,e,n){return(e=_$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _$(t){var e=C$(t,"string");return typeof e=="symbol"?e:e+""}function C$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j$(t,e){if(t==null)return{};var n,r,i=k$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JM={symbolCircle:q1,symbolCross:$U,symbolDiamond:qU,symbolSquare:GU,symbolStar:WU,symbolTriangle:XU,symbolWye:ZU},N$=Math.PI/180,T$=t=>{var e="symbol".concat(kd(t));return JM[e]||q1},O$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*N$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},P$=(t,e)=>{JM["symbol".concat(kd(t))]=e},Y1=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=j$(t,A$),a=VC(VC({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var c=()=>{var v=T$(o),y=JU().type(v).size(O$(n,r,o)),w=y();if(w!==null)return w},{className:u,cx:f,cy:h}=a,m=hn(a);return Se(f)&&Se(h)&&Se(n)?A.createElement("path",px({},m,{className:$e("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:c()})):null};Y1.registerSymbol=P$;var eD=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,W1=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{F1(i)&&(r[i]=(a=>n[i](n,a)))}),r},M$=(t,e,n)=>r=>(t(e,n,r),null),Td=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];F1(i)&&typeof a=="function"&&(r||(r={}),r[i]=M$(a,e,n))}),r};function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){R$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R$(t,e,n){return(e=L$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=I$(t,"string");return typeof e=="symbol"?e:e+""}function I$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $t(t,e){var n=D$({},t),r=e,i=Object.keys(e),a=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return a}function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(null,arguments)}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){B$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B$(t,e,n){return(e=F$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F$(t){var e=U$(t,"string");return typeof e=="symbol"?e:e+""}function U$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ei=32,$$={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function H$(t){var{data:e,iconType:n,inactiveColor:r}=t,i=ei/2,a=ei/6,o=ei/3,c=e.inactive?r:e.color,u=n??e.type;if(u==="none")return null;if(u==="plainline"){var f;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:ei,y2:i,className:"recharts-legend-icon"})}if(u==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ei,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return A.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ei/8,"h").concat(ei,"v").concat(ei*3/4,"h").concat(-ei,"z"),className:"recharts-legend-icon"});if(A.isValidElement(e.legendIcon)){var h=z$({},e);return delete h.legendIcon,A.cloneElement(e.legendIcon,h)}return A.createElement(Y1,{fill:c,cx:i,cy:i,size:ei,sizeType:"diameter",type:u})}function q$(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=t,c={x:0,y:0,width:ei,height:ei},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,m)=>{var v=h.formatter||i,y=$e({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var w=h.inactive?a:h.color,x=v?v(h.value,h,m):h.value;return A.createElement("li",_m({className:y,style:u,key:"legend-item-".concat(m)},Td(t,h,m)),A.createElement(U1,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(x," legend icon")},A.createElement(H$,{data:h,iconType:o,inactiveColor:a})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x))})}var G$=t=>{var e=$t(t,$$),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},A.createElement(q$,_m({},e,{payload:n})))},a0={},s0={},XC;function K$(){return XC||(XC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}t.uniqBy=e})(s0)),s0}var o0={},QC;function jp(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(o0)),o0}var l0={},c0={},u0={},ZC;function V$(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(u0)),u0}var JC;function X1(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V$();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(c0)),c0}var d0={},ej;function Y$(){return ej||(ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(d0)),d0}var tj;function W$(){return tj||(tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X1(),n=Y$();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(l0)),l0}var f0={},h0={},nj;function X$(){return nj||(nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V1();function n(r){return function(i){return e.get(i,r)}}t.property=n})(h0)),h0}var m0={},p0={},g0={},v0={},rj;function tD(){return rj||(rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(v0)),v0}var y0={},ij;function nD(){return ij||(ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(y0)),y0}var b0={},aj;function rD(){return aj||(aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(b0)),b0}var sj;function Q$(){return sj||(sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tD(),n=nD(),r=rD();function i(h,m,v){return typeof v!="function"?i(h,m,()=>{}):a(h,m,function y(w,x,S,_,C,j){const T=v(w,x,S,_,C,j);return T!==void 0?!!T:a(w,x,y,j)},new Map)}function a(h,m,v,y){if(m===h)return!0;switch(typeof m){case"object":return o(h,m,v,y);case"function":return Object.keys(m).length>0?a(h,{...m},v,y):r.eq(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function o(h,m,v,y){if(m==null)return!0;if(Array.isArray(m))return u(h,m,v,y);if(m instanceof Map)return c(h,m,v,y);if(m instanceof Set)return f(h,m,v,y);const w=Object.keys(m);if(h==null||n.isPrimitive(h))return w.length===0;if(w.length===0)return!0;if(y?.has(m))return y.get(m)===h;y?.set(m,h);try{for(let x=0;x<w.length;x++){const S=w[x];if(!n.isPrimitive(h)&&!(S in h)||m[S]===void 0&&h[S]!==void 0||m[S]===null&&h[S]!==null||!v(h[S],m[S],S,h,m,y))return!1}return!0}finally{y?.delete(m)}}function c(h,m,v,y){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,x]of m.entries()){const S=h.get(w);if(v(S,x,w,h,m,y)===!1)return!1}return!0}function u(h,m,v,y){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let x=0;x<m.length;x++){const S=m[x];let _=!1;for(let C=0;C<h.length;C++){if(w.has(C))continue;const j=h[C];let T=!1;if(v(j,S,x,h,m,y)&&(T=!0),T){w.add(C),_=!0;break}}if(!_)return!1}return!0}function f(h,m,v,y){return m.size===0?!0:h instanceof Set?u([...h],[...m],v,y):!1}t.isMatchWith=i,t.isSetMatch=f})(g0)),g0}var oj;function iD(){return oj||(oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q$();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(p0)),p0}var x0={},w0={},S0={},lj;function Z$(){return lj||(lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(S0)),S0}var A0={},cj;function aD(){return cj||(cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(A0)),A0}var E0={},uj;function sD(){return uj||(uj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",v="[object ArrayBuffer]",y="[object Object]",w="[object Error]",x="[object DataView]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",C="[object Uint16Array]",j="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",L="[object BigInt64Array]",B="[object Float32Array]",H="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=L,t.bigUint64ArrayTag=T,t.booleanTag=i,t.dataViewTag=x,t.dateTag=c,t.errorTag=w,t.float32ArrayTag=B,t.float64ArrayTag=H,t.functionTag=m,t.int16ArrayTag=N,t.int32ArrayTag=P,t.int8ArrayTag=k,t.mapTag=u,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=C,t.uint32ArrayTag=j,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=_})(E0)),E0}var _0={},dj;function J$(){return dj||(dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(_0)),_0}var fj;function oD(){return fj||(fj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z$(),n=aD(),r=sD(),i=nD(),a=J$();function o(h,m){return c(h,void 0,h,new Map,m)}function c(h,m,v,y=new Map,w=void 0){const x=w?.(h,m,v,y);if(x!==void 0)return x;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let _=0;_<h.length;_++)S[_]=c(h[_],_,v,y,w);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[_,C]of h)S.set(_,c(C,_,v,y,w));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const _ of h)S.add(c(_,void 0,v,y,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let _=0;_<h.length;_++)S[_]=c(h[_],_,v,y,w);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),u(S,h,v,y,w),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),u(S,h,v,y,w),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),u(S,h,v,y,w),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,u(S,h,v,y,w),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return y.set(h,S),u(S,h,v,y,w),S}if(h instanceof Number){const S=new Number(h.valueOf());return y.set(h,S),u(S,h,v,y,w),S}if(h instanceof String){const S=new String(h.valueOf());return y.set(h,S),u(S,h,v,y,w),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),u(S,h,v,y,w),S}return h}function u(h,m,v=h,y,w){const x=[...Object.keys(m),...e.getSymbols(m)];for(let S=0;S<x.length;S++){const _=x[S],C=Object.getOwnPropertyDescriptor(h,_);(C==null||C.writable)&&(h[_]=c(m[_],_,v,y,w))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=c,t.copyProperties=u})(w0)),w0}var hj;function eH(){return hj||(hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oD();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(x0)),x0}var mj;function tH(){return mj||(mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iD(),n=eH();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(m0)),m0}var C0={},j0={},k0={},pj;function nH(){return pj||(pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oD(),n=sD();function r(i,a){return e.cloneDeepWith(i,(o,c,u,f)=>{const h=a?.(o,c,u,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(k0)),k0}var gj;function rH(){return gj||(gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(j0)),j0}var N0={},T0={},vj;function lD(){return vj||(vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(T0)),T0}var O0={},yj;function iH(){return yj||(yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aD();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(O0)),O0}var bj;function aH(){return bj||(bj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XM(),n=lD(),r=iH(),i=K1();function a(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&e.isDeepKey(c)&&o?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let f=o;for(let h=0;h<u.length;h++){const m=u[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=a})(N0)),N0}var xj;function sH(){return xj||(xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iD(),n=G1(),r=rH(),i=V1(),a=aH();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=r.cloneDeep(u),function(f){const h=i.get(f,c);return h===void 0?a.has(f,c):u===void 0?h===void 0:e.isMatch(h,u)}}t.matchesProperty=o})(C0)),C0}var wj;function Q1(){return wj||(wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jp(),n=X$(),r=tH(),i=sH();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(f0)),f0}var Sj;function oH(){return Sj||(Sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K$(),n=jp(),r=W$(),i=Q1();function a(o,c=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(c)):[]}t.uniqBy=a})(a0)),a0}var P0,Aj;function lH(){return Aj||(Aj=1,P0=oH().uniqBy),P0}var cH=lH();const Ej=li(cH);function cD(t,e,n){return e===!0?Ej(t,n):typeof e=="function"?Ej(t,e):t}var M0={exports:{}},D0={},R0={exports:{}},L0={};var _j;function uH(){if(_j)return L0;_j=1;var t=ic();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(m,v){var y=v(),w=r({inst:{value:y,getSnapshot:v}}),x=w[0].inst,S=w[1];return a(function(){x.value=y,x.getSnapshot=v,u(x)&&S({inst:x})},[m,y,v]),i(function(){return u(x)&&S({inst:x}),m(function(){u(x)&&S({inst:x})})},[m]),o(y),y}function u(m){var v=m.getSnapshot;m=m.value;try{var y=v();return!n(m,y)}catch{return!0}}function f(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return L0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,L0}var Cj;function dH(){return Cj||(Cj=1,R0.exports=uH()),R0.exports}var jj;function fH(){if(jj)return D0;jj=1;var t=ic(),e=dH();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,c=t.useMemo,u=t.useDebugValue;return D0.useSyncExternalStoreWithSelector=function(f,h,m,v,y){var w=a(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=c(function(){function _(N){if(!C){if(C=!0,j=N,N=v(N),y!==void 0&&x.hasValue){var P=x.value;if(y(P,N))return T=P}return T=N}if(P=T,r(j,N))return P;var L=v(N);return y!==void 0&&y(P,L)?(j=N,P):(j=N,T=L)}var C=!1,j,T,k=m===void 0?null:m;return[function(){return _(h())},k===null?void 0:function(){return _(k())}]},[h,m,v,y]);var S=i(f,w[0],w[1]);return o(function(){x.hasValue=!0,x.value=S},[S]),u(S),S},D0}var kj;function hH(){return kj||(kj=1,M0.exports=fH()),M0.exports}var mH=hH(),Z1=A.createContext(null),pH=t=>t,yt=()=>{var t=A.useContext(Z1);return t?t.store.dispatch:pH},rm=()=>{},gH=()=>rm,vH=(t,e)=>t===e;function me(t){var e=A.useContext(Z1);return mH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:gH,e?e.store.getState:rm,e?e.store.getState:rm,e?t:rm,vH)}function yH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function bH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function xH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Nj=t=>Array.isArray(t)?t:[t];function wH(t){const e=Array.isArray(t[0])?t[0]:t;return xH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function SH(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var AH=class{constructor(t){this.value=t}deref(){return this.value}},EH=typeof WeakRef<"u"?WeakRef:AH,_H=0,Tj=1;function _h(){return{s:_H,v:void 0,o:null,p:null}}function uD(t,e={}){let n=_h();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let c=n;const{length:u}=arguments;for(let m=0,v=u;m<v;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const x=w.get(y);x===void 0?(c=_h(),w.set(y,c)):c=x}else{let w=c.p;w===null&&(c.p=w=new Map);const x=w.get(y);x===void 0?(c=_h(),w.set(y,c)):c=x}}const f=c;let h;if(c.s===Tj)h=c.v;else if(h=t.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,h)&&(h=m,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new EH(h):h}return f.s=Tj,f.v=h,h}return o.clearCache=()=>{n=_h(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function CH(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,c,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),yH(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:m,memoizeOptions:v=[],argsMemoize:y=uD,argsMemoizeOptions:w=[]}=h,x=Nj(v),S=Nj(w),_=wH(i),C=m(function(){return a++,f.apply(null,arguments)},...x),j=y(function(){o++;const k=SH(_,arguments);return c=C.apply(null,k),c},...S);return Object.assign(j,{resultFunc:f,memoizedResultFunc:C,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var Y=CH(uD),jH=Object.assign((t,e=Y)=>{bH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,c,u)=>(o[n[u]]=c,o),{}))},{withTypes:()=>jH}),I0={},z0={},B0={},Oj;function kH(){return Oj||(Oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),c=e(i);if(o===c&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};t.compareValues=n})(B0)),B0}var F0={},U0={},Pj;function dD(){return Pj||(Pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(U0)),U0}var Mj;function NH(){return Mj||(Mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dD(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(F0)),F0}var Dj;function TH(){return Dj||(Dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kH(),n=NH(),r=K1();function i(a,o,c,u){if(a==null)return[];c=u?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const f=(y,w)=>{let x=y;for(let S=0;S<w.length&&x!=null;++S)x=x[w[S]];return x},h=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:f(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?f(w,y):typeof w=="object"?w[y]:w,m=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:m.map(w=>h(w,y))})).slice().sort((y,w)=>{for(let x=0;x<m.length;x++){const S=e.compareValues(y.criteria[x],w.criteria[x],c[x]);if(S!==0)return S}return 0}).map(y=>y.original)}t.orderBy=i})(z0)),z0}var $0={},Rj;function OH(){return Rj||(Rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(c,u)=>{for(let f=0;f<c.length;f++){const h=c[f];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}t.flatten=e})($0)),$0}var H0={},Lj;function fD(){return Lj||(Lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lD(),n=X1(),r=tD(),i=rD();function a(o,c,u){return r.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&e.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],o):!1}t.isIterateeCall=a})(H0)),H0}var Ij;function PH(){return Ij||(Ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TH(),n=OH(),r=fD();function i(a,...o){const c=o.length;return c>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(I0)),I0}var q0,zj;function MH(){return zj||(zj=1,q0=PH().sortBy),q0}var DH=MH();const kp=li(DH);var hD=t=>t.legend.settings,RH=t=>t.legend.size,LH=t=>t.legend.payload,IH=Y([LH,hD],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?kp(r,n):r});function zH(){return me(IH)}var Ch=1;function mD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>Ch||Math.abs(o.left-e.left)>Ch||Math.abs(o.top-e.top)>Ch||Math.abs(o.width-e.width)>Ch)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Fn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var BH=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bj=BH,G0=()=>Math.random().toString(36).substring(7).split("").join("."),FH={INIT:`@@redux/INIT${G0()}`,REPLACE:`@@redux/REPLACE${G0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${G0()}`},Cm=FH;function J1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function pD(t,e,n){if(typeof t!="function")throw new Error(Fn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fn(1));return n(pD)(t,e)}let r=t,i=e,a=new Map,o=a,c=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((S,_)=>{o.set(_,S)}))}function h(){if(u)throw new Error(Fn(3));return i}function m(S){if(typeof S!="function")throw new Error(Fn(4));if(u)throw new Error(Fn(5));let _=!0;f();const C=c++;return o.set(C,S),function(){if(_){if(u)throw new Error(Fn(6));_=!1,f(),o.delete(C),a=null}}}function v(S){if(!J1(S))throw new Error(Fn(7));if(typeof S.type>"u")throw new Error(Fn(8));if(typeof S.type!="string")throw new Error(Fn(17));if(u)throw new Error(Fn(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=o).forEach(C=>{C()}),S}function y(S){if(typeof S!="function")throw new Error(Fn(10));r=S,v({type:Cm.REPLACE})}function w(){const S=m;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Fn(11));function C(){const T=_;T.next&&T.next(h())}return C(),{unsubscribe:S(C)}},[Bj](){return this}}}return v({type:Cm.INIT}),{dispatch:v,subscribe:m,getState:h,replaceReducer:y,[Bj]:w}}function UH(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Cm.INIT})>"u")throw new Error(Fn(12));if(typeof n(void 0,{type:Cm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fn(13))})}function gD(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{UH(n)}catch(a){i=a}return function(o={},c){if(i)throw i;let u=!1;const f={};for(let h=0;h<r.length;h++){const m=r[h],v=n[m],y=o[m],w=v(y,c);if(typeof w>"u")throw c&&c.type,new Error(Fn(14));f[m]=w,u=u||w!==y}return u=u||r.length!==Object.keys(o).length,u?f:o}}function jm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function $H(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Fn(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},c=t.map(u=>u(o));return a=jm(...c)(i.dispatch),{...i,dispatch:a}}}function vD(t){return J1(t)&&"type"in t&&typeof t.type=="string"}var yD=Symbol.for("immer-nothing"),Fj=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function vi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mr=Object,Wl=Mr.getPrototypeOf,km="constructor",Np="prototype",gx="configurable",Nm="enumerable",im="writable",td="value",Na=t=>!!t&&!!t[ar];function Si(t){return t?bD(t)||Op(t)||!!t[Fj]||!!t[km]?.[Fj]||Pp(t)||Mp(t):!1}var HH=Mr[Np][km].toString(),Uj=new WeakMap;function bD(t){if(!t||!ew(t))return!1;const e=Wl(t);if(e===null||e===Mr[Np])return!0;const n=Mr.hasOwnProperty.call(e,km)&&e[km];if(n===Object)return!0;if(!Cl(n))return!1;let r=Uj.get(n);return r===void 0&&(r=Function.toString.call(n),Uj.set(n,r)),r===HH}function Tp(t,e,n=!0){Od(t)===0?(n?Reflect.ownKeys(t):Mr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Od(t){const e=t[ar];return e?e.type_:Op(t)?1:Pp(t)?2:Mp(t)?3:0}var $j=(t,e,n=Od(t))=>n===2?t.has(e):Mr[Np].hasOwnProperty.call(t,e),vx=(t,e,n=Od(t))=>n===2?t.get(e):t[e],Tm=(t,e,n,r=Od(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function qH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Op=Array.isArray,Pp=t=>t instanceof Map,Mp=t=>t instanceof Set,ew=t=>typeof t=="object",Cl=t=>typeof t=="function",K0=t=>typeof t=="boolean";function GH(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ya=t=>t.copy_||t.base_,tw=t=>t.modified_?t.copy_:t.base_;function yx(t,e){if(Pp(t))return new Map(t);if(Mp(t))return new Set(t);if(Op(t))return Array[Np].slice.call(t);const n=bD(t);if(e===!0||e==="class_only"&&!n){const r=Mr.getOwnPropertyDescriptors(t);delete r[ar];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c[im]===!1&&(c[im]=!0,c[gx]=!0),(c.get||c.set)&&(r[o]={[gx]:!0,[im]:!0,[Nm]:c[Nm],[td]:t[o]})}return Mr.create(Wl(t),r)}else{const r=Wl(t);if(r!==null&&n)return{...t};const i=Mr.create(r);return Mr.assign(i,t)}}function nw(t,e=!1){return Dp(t)||Na(t)||!Si(t)||(Od(t)>1&&Mr.defineProperties(t,{set:jh,add:jh,clear:jh,delete:jh}),Mr.freeze(t),e&&Tp(t,(n,r)=>{nw(r,!0)},!1)),t}function KH(){vi(2)}var jh={[td]:KH};function Dp(t){return t===null||!ew(t)?!0:Mr.isFrozen(t)}var Om="MapSet",bx="Patches",Hj="ArrayMethods",xD={};function xo(t){const e=xD[t];return e||vi(0,t),e}var qj=t=>!!xD[t],nd,wD=()=>nd,VH=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:qj(Om)?xo(Om):void 0,arrayMethodsPlugin_:qj(Hj)?xo(Hj):void 0});function Gj(t,e){e&&(t.patchPlugin_=xo(bx),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function xx(t){wx(t),t.drafts_.forEach(YH),t.drafts_=null}function wx(t){t===nd&&(nd=t.parent_)}var Kj=t=>nd=VH(nd,t);function YH(t){const e=t[ar];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Vj(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ar].modified_&&(xx(e),vi(4)),Si(t)&&(t=Yj(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ar].base_,t,e)}else t=Yj(e,n);return WH(e,t,!0),xx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==yD?t:void 0}function Yj(t,e){if(Dp(e))return e;const n=e[ar];if(!n)return Pm(e,t.handledSet_,t);if(!Rp(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);ED(n,t)}return n.copy_}function WH(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&nw(e,n)}function SD(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Rp=(t,e)=>t.scope_===e,XH=[];function AD(t,e,n,r){const i=ya(t),a=t.type_;if(r!==void 0&&vx(i,r,a)===e){Tm(i,r,n,a);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;Tp(i,(u,f)=>{if(Na(f)){const h=c.get(f)||[];h.push(u),c.set(f,h)}})}const o=t.draftLocations_.get(e)??XH;for(const c of o)Tm(i,c,n,a)}function QH(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!Rp(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=tw(a);AD(t,a.draft_??a,o,n),ED(a,i)})}function ED(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}SD(t)}}function ZH(t,e,n){const{scope_:r}=t;if(Na(n)){const i=n[ar];Rp(i,r)&&i.callbacks_.push(function(){am(t);const o=tw(i);AD(t,n,o,e)})}else Si(n)&&t.callbacks_.push(function(){const a=ya(t);t.type_===3?a.has(n)&&Pm(n,r.handledSet_,r):vx(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Pm(vx(t.copy_,e,t.type_),r.handledSet_,r)})}function Pm(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Na(t)||e.has(t)||!Si(t)||Dp(t)||(e.add(t),Tp(t,(r,i)=>{if(Na(i)){const a=i[ar];if(Rp(a,n)){const o=tw(a);Tm(t,r,o,t.type_),SD(a)}}else Si(i)&&Pm(i,e,n)})),t}function JH(t,e){const n=Op(t),r={type_:n?1:0,scope_:e?e.scope_:wD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Mm;n&&(i=[r],a=rd);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,[c,r]}var Mm={get(t,e){if(e===ar)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ya(t);if(!$j(i,e,t.type_))return eq(t,i,e);const a=i[e];if(t.finalized_||!Si(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&GH(e))return a;if(a===V0(t.base_,e)){am(t);const o=t.type_===1?+e:e,c=Ax(t.scope_,a,t,o);return t.copy_[o]=c}return a},has(t,e){return e in ya(t)},ownKeys(t){return Reflect.ownKeys(ya(t))},set(t,e,n){const r=_D(ya(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=V0(ya(t),e),a=i?.[ar];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(qH(n,i)&&(n!==void 0||$j(t.base_,e,t.type_)))return!0;am(t),Sx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),ZH(t,e,n)),!0},deleteProperty(t,e){return am(t),V0(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Sx(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ya(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[im]:!0,[gx]:t.type_!==1||e!=="length",[Nm]:r[Nm],[td]:n[e]}},defineProperty(){vi(11)},getPrototypeOf(t){return Wl(t.base_)},setPrototypeOf(){vi(12)}},rd={};for(let t in Mm){let e=Mm[t];rd[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}rd.deleteProperty=function(t,e){return rd.set.call(this,t,e,void 0)};rd.set=function(t,e,n){return Mm.set.call(this,t[0],e,n,t[0])};function V0(t,e){const n=t[ar];return(n?ya(n):t)[e]}function eq(t,e,n){const r=_D(e,n);return r?td in r?r[td]:r.get?.call(t.draft_):void 0}function _D(t,e){if(!(e in t))return;let n=Wl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wl(n)}}function Sx(t){t.modified_||(t.modified_=!0,t.parent_&&Sx(t.parent_))}function am(t){t.copy_||(t.assigned_=new Map,t.copy_=yx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var tq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Cl(n)&&!Cl(r)){const o=r;r=n;const c=this;return function(f=o,...h){return c.produce(f,m=>r.call(this,m,...h))}}Cl(r)||vi(6),i!==void 0&&!Cl(i)&&vi(7);let a;if(Si(n)){const o=Kj(this),c=Ax(o,n,void 0);let u=!0;try{a=r(c),u=!1}finally{u?xx(o):wx(o)}return Gj(o,i),Vj(a,o)}else if(!n||!ew(n)){if(a=r(n),a===void 0&&(a=n),a===yD&&(a=void 0),this.autoFreeze_&&nw(a,!0),i){const o=[],c=[];xo(bx).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:c}),i(o,c)}return a}else vi(1,n)},this.produceWithPatches=(n,r)=>{if(Cl(n))return(c,...u)=>this.produceWithPatches(c,f=>n(f,...u));let i,a;return[this.produce(n,r,(c,u)=>{i=c,a=u}),i,a]},K0(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),K0(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),K0(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Si(e)||vi(8),Na(e)&&(e=wi(e));const n=Kj(this),r=Ax(n,e,void 0);return r[ar].isManual_=!0,wx(n),r}finishDraft(e,n){const r=e&&e[ar];(!r||!r.isManual_)&&vi(9);const{scope_:i}=r;return Gj(i,n),Vj(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=xo(bx).applyPatches_;return Na(e)?i(e,n):this.produce(e,a=>i(a,n))}};function Ax(t,e,n,r){const[i,a]=Pp(e)?xo(Om).proxyMap_(e,n):Mp(e)?xo(Om).proxySet_(e,n):JH(e,n);return(n?.scope_??wD()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?QH(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function wi(t){return Na(t)||vi(10,t),CD(t)}function CD(t){if(!Si(t)||Dp(t))return t;const e=t[ar];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=yx(t,!0);return Tp(n,(i,a)=>{Tm(n,i,CD(a))},r),e&&(e.finalized_=!1),n}var nq=new tq,jD=nq.produce;function kD(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var rq=kD(),iq=kD,aq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jm:jm.apply(null,arguments)};function ai(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Rr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>vD(r)&&r.type===t,n}var ND=class Nu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Nu.prototype)}static get[Symbol.species](){return Nu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Nu(...e[0].concat(this)):new Nu(...e.concat(this))}};function Wj(t){return Si(t)?jD(t,()=>{}):t}function kh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function sq(t){return typeof t=="boolean"}var oq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new ND;return n&&(sq(n)?o.push(rq):o.push(iq(n.extraArgument))),o},TD="RTK_autoBatch",Mt=()=>t=>({payload:t,meta:{[TD]:!0}}),Xj=t=>e=>{setTimeout(e,t)},OD=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Xj(10):t.type==="callback"?t.queueNotification:Xj(t.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),v=r.subscribe(m);return c.add(h),()=>{v(),c.delete(h)}},dispatch(h){try{return i=!h?.meta?.[TD],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(h)}finally{i=!0}}})},lq=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new ND(t);return r&&i.push(OD(typeof r=="object"?r:void 0)),i};function cq(t){const e=oq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(J1(n))c=gD(n);else throw new Error(Rr(1));let u;typeof r=="function"?u=r(e):u=e();let f=jm;i&&(f=aq({trace:!1,...typeof i=="object"&&i}));const h=$H(...u),m=lq(h);let v=typeof o=="function"?o(m):m();const y=f(...v);return pD(c,a,y)}function PD(t){const e={},n=[];let r;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Rr(28));if(c in e)throw new Error(Rr(29));return e[c]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function uq(t){return typeof t=="function"}function dq(t,e){let[n,r,i]=PD(e),a;if(uq(t))a=()=>Wj(t());else{const c=Wj(t);a=()=>c}function o(c=a(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,m)=>{if(m)if(Na(h)){const y=m(h,u);return y===void 0?h:y}else{if(Si(h))return jD(h,v=>m(v,u));{const v=m(h,u);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},c)}return o.getInitialState=a,o}var fq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hq=(t=21)=>{let e="",n=t;for(;n--;)e+=fq[Math.random()*64|0];return e},mq=Symbol.for("rtk-slice-createasyncthunk");function pq(t,e){return`${t}/${e}`}function gq({creators:t}={}){const e=t?.asyncThunk?.[mq];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Rr(11));const o=(typeof r.reducers=="function"?r.reducers(yq()):r.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(j,T){const k=typeof j=="string"?j:j.type;if(!k)throw new Error(Rr(12));if(k in u.sliceCaseReducersByType)throw new Error(Rr(13));return u.sliceCaseReducersByType[k]=T,f},addMatcher(j,T){return u.sliceMatchers.push({matcher:j,reducer:T}),f},exposeAction(j,T){return u.actionCreators[j]=T,f},exposeCaseReducer(j,T){return u.sliceCaseReducersByName[j]=T,f}};c.forEach(j=>{const T=o[j],k={reducerName:j,type:pq(i,j),createNotation:typeof r.reducers=="function"};xq(T)?Sq(k,T,f,e):bq(k,T,f)});function h(){const[j={},T=[],k=void 0]=typeof r.extraReducers=="function"?PD(r.extraReducers):[r.extraReducers],N={...j,...u.sliceCaseReducersByType};return dq(r.initialState,P=>{for(let L in N)P.addCase(L,N[L]);for(let L of u.sliceMatchers)P.addMatcher(L.matcher,L.reducer);for(let L of T)P.addMatcher(L.matcher,L.reducer);k&&P.addDefaultCase(k)})}const m=j=>j,v=new Map,y=new WeakMap;let w;function x(j,T){return w||(w=h()),w(j,T)}function S(){return w||(w=h()),w.getInitialState()}function _(j,T=!1){function k(P){let L=P[j];return typeof L>"u"&&T&&(L=kh(y,k,S)),L}function N(P=m){const L=kh(v,T,()=>new WeakMap);return kh(L,P,()=>{const B={};for(const[H,z]of Object.entries(r.selectors??{}))B[H]=vq(z,P,()=>kh(y,P,S),T);return B})}return{reducerPath:j,getSelectors:N,get selectors(){return N(k)},selectSlice:k}}const C={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,..._(a),injectInto(j,{reducerPath:T,...k}={}){const N=T??a;return j.inject({reducerPath:N,reducer:x},k),{...C,..._(N,!0)}}};return C}}function vq(t,e,n,r){function i(a,...o){let c=e(a);return typeof c>"u"&&r&&(c=n()),t(c,...o)}return i.unwrapped=t,i}var wr=gq();function yq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function bq({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!wq(r))throw new Error(Rr(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?ai(t,o):ai(t))}function xq(t){return t._reducerDefinitionType==="asyncThunk"}function wq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Sq({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Rr(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:u,settled:f,options:h}=n,m=i(t,a,h);r.exposeAction(e,m),o&&r.addCase(m.fulfilled,o),c&&r.addCase(m.pending,c),u&&r.addCase(m.rejected,u),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(e,{fulfilled:o||Nh,pending:c||Nh,rejected:u||Nh,settled:f||Nh})}function Nh(){}var Aq="task",MD="listener",DD="completed",rw="cancelled",Eq=`task-${rw}`,_q=`task-${DD}`,Ex=`${MD}-${rw}`,Cq=`${MD}-${DD}`,Lp=class{constructor(t){this.code=t,this.message=`${Aq} ${rw} (reason: ${t})`}name="TaskAbortError";message},iw=(t,e)=>{if(typeof t!="function")throw new TypeError(Rr(32))},Dm=()=>{},RD=(t,e=Dm)=>(t.catch(e),t),LD=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ho=t=>{if(t.aborted)throw new Lp(t.reason)};function ID(t,e){let n=Dm;return new Promise((r,i)=>{const a=()=>i(new Lp(t.reason));if(t.aborted){a();return}n=LD(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Dm})}var jq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Lp?"cancelled":"rejected",error:n}}finally{e?.()}},Rm=t=>e=>RD(ID(t,e).then(n=>(ho(t),n))),zD=t=>{const e=Rm(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Bl}=Object,Qj={},Ip="listenerMiddleware",kq=(t,e)=>{const n=r=>LD(t,()=>r.abort(t.reason));return(r,i)=>{iw(r);const a=new AbortController;n(a);const o=jq(async()=>{ho(t),ho(a.signal);const c=await r({pause:Rm(a.signal),delay:zD(a.signal),signal:a.signal});return ho(a.signal),c},()=>a.abort(_q));return i?.autoJoin&&e.push(o.catch(Dm)),{result:Rm(t)(o),cancel(){a.abort(Eq)}}}},Nq=(t,e)=>{const n=async(r,i)=>{ho(e);let a=()=>{};const c=[new Promise((u,f)=>{let h=t({predicate:r,effect:(m,v)=>{v.unsubscribe(),u([m,v.getState(),v.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await ID(e,Promise.race(c));return ho(e),u}finally{a()}};return(r,i)=>RD(n(r,i))},BD=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=ai(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Rr(21));return iw(a),{predicate:i,type:e,effect:a}},FD=Bl(t=>{const{type:e,predicate:n,effect:r}=BD(t);return{id:hq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Rr(22))}}},{withTypes:()=>FD}),Zj=(t,e)=>{const{type:n,effect:r,predicate:i}=BD(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},_x=t=>{t.pending.forEach(e=>{e.abort(Ex)})},Tq=(t,e)=>()=>{for(const n of e.keys())_x(n);t.clear()},Jj=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},UD=Bl(ai(`${Ip}/add`),{withTypes:()=>UD}),Oq=ai(`${Ip}/removeAll`),$D=Bl(ai(`${Ip}/remove`),{withTypes:()=>$D}),Pq=(...t)=>{console.error(`${Ip}/error`,...t)},Pd=(t={})=>{const e=new Map,n=new Map,r=y=>{const w=n.get(y)??0;n.set(y,w+1)},i=y=>{const w=n.get(y)??1;w===1?n.delete(y):n.set(y,w-1)},{extra:a,onError:o=Pq}=t;iw(o);const c=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),w=>{y.unsubscribe(),w?.cancelActive&&_x(y)}),u=y=>{const w=Zj(e,y)??FD(y);return c(w)};Bl(u,{withTypes:()=>u});const f=y=>{const w=Zj(e,y);return w&&(w.unsubscribe(),y.cancelActive&&_x(w)),!!w};Bl(f,{withTypes:()=>f});const h=async(y,w,x,S)=>{const _=new AbortController,C=Nq(u,_.signal),j=[];try{y.pending.add(_),r(y),await Promise.resolve(y.effect(w,Bl({},x,{getOriginalState:S,condition:(T,k)=>C(T,k).then(Boolean),take:C,delay:zD(_.signal),pause:Rm(_.signal),extra:a,signal:_.signal,fork:kq(_.signal,j),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((T,k,N)=>{T!==_&&(T.abort(Ex),N.delete(T))})},cancel:()=>{_.abort(Ex),y.pending.delete(_)},throwIfCancelled:()=>{ho(_.signal)}})))}catch(T){T instanceof Lp||Jj(o,T,{raisedBy:"effect"})}finally{await Promise.all(j),_.abort(Cq),i(y),y.pending.delete(_)}},m=Tq(e,n);return{middleware:y=>w=>x=>{if(!vD(x))return w(x);if(UD.match(x))return u(x.payload);if(Oq.match(x)){m();return}if($D.match(x))return f(x.payload);let S=y.getState();const _=()=>{if(S===Qj)throw new Error(Rr(23));return S};let C;try{if(C=w(x),e.size>0){const j=y.getState(),T=Array.from(e.values());for(const k of T){let N=!1;try{N=k.predicate(x,j,S)}catch(P){N=!1,Jj(o,P,{raisedBy:"predicate"})}N&&h(k,x,y,_)}}}finally{S=Qj}return C},startListening:u,stopListening:f,clearListeners:m}};function Rr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},HD=wr({name:"chartLayout",initialState:Mq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Dq,setLayout:Rq,setChartSize:Lq,setScale:Iq}=HD.actions,zq=HD.reducer;function qD(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function pn(t){return Number.isFinite(t)}function Yi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Bq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bq(t,e,n){return(e=Fq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fq(t){var e=Uq(t,"string");return typeof e=="symbol"?e:e+""}function Uq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xt(t,e,n){return rn(t)||rn(e)?n:Vi(e)?bo(t,e,n):typeof e=="function"?e(t):n}var $q=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:c}=e;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&Se(t[a]))return Ol(Ol({},t),{},{[a]:t[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&Se(t[o]))return Ol(Ol({},t),{},{[o]:t[o]+(i||0)})}return t},Ra=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",GD=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,a,o=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||o.push(e),a||o.push(n),o},KD=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:v,axisType:y}=t;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(x=y==="angleAxis"&&a&&a.length>=2?Yn(a[0]-a[1])*2*x:x,m||v){var S=(m||v||[]).map((_,C)=>{var j=r?r.indexOf(_):_;return{coordinate:o(j)+x,value:_,offset:x,index:C}});return S.filter(_=>!Ki(_.coordinate))}return u&&f?f.map((_,C)=>({coordinate:o(_)+x,value:_,index:C,offset:x})):o.ticks&&h!=null?o.ticks(h).map((_,C)=>({coordinate:o(_)+x,value:_,offset:x,index:C})):o.domain().map((_,C)=>({coordinate:o(_)+x,value:r?r[_]:_,index:C,offset:x}))},tk=1e-4,Hq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-tk,a=Math.max(r[0],r[1])+tk,o=t(e[0]),c=t(e[n-1]);(o<i||o>a||c<i||c>a)&&t.domain([e[0],e[n-1]])}},qq=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0,c=0;c<n;++c){var u=t[c],f=u?.[i];if(f!=null){var h=f[1],m=f[0],v=Ki(h)?m:h;v>=0?(f[0]=a,f[1]=a+v,a=h):(f[0]=o,f[1]=o+v,o=h)}}}},Gq=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0;o<n;++o){var c=t[o],u=c?.[i];if(u!=null){var f=Ki(u[1])?u[0]:u[1];f>=0?(u[0]=a,u[1]=a+f,a=u[1]):(u[0]=0,u[1]=0)}}}},Kq={sign:qq,expand:h$,none:yo,silhouette:m$,wiggle:p$,positive:Gq},Vq=(t,e,n)=>{var r,i=(r=Kq[n])!==null&&r!==void 0?r:yo,a=f$().keys(e).value((c,u)=>Number(xt(c,u,0))).order(mx).offset(i),o=a(t);return o.forEach((c,u)=>{c.forEach((f,h)=>{var m=xt(t[h],e[u],0);Array.isArray(m)&&m.length===2&&Se(m[0])&&Se(m[1])&&(f[0]=m[0],f[1]=m[1])})}),o};function nk(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rn(i[e.dataKey])){var c=ZM(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=xt(i,rn(o)?e.dataKey:o);return rn(u)?null:e.scale(u)}var Yq=t=>{var e=t.flat(2).filter(Se);return[Math.min(...e),Math.max(...e)]},Wq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Xq=(t,e,n)=>{if(t!=null)return Wq(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:o}=a,c=o.reduce((u,f)=>{var h=qD(f,e,n),m=Yq(h);return!pn(m[0])||!pn(m[1])?u:[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},rk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ik=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xl=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=kp(e,h=>h.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var u=i[o],f=i[o-1];a=Math.min((u?.coordinate||0)-(f?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function ak(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Ol(Ol({},e),{},{dataKey:n,payload:r,value:i,name:a})}function lc(t,e){if(t)return String(t);if(typeof e=="string")return e}var Qq=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Zq=(t,e)=>e==="centric"?t.angle:t.radius,La=t=>t.layout.width,Ia=t=>t.layout.height,Jq=t=>t.layout.scale,VD=t=>t.layout.margin,zp=Y(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Bp=Y(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),YD="data-recharts-item-index",WD="data-recharts-item-id",Md=60;function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){eG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eG(t,e,n){return(e=tG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=nG(t,"string");return typeof e=="symbol"?e:e+""}function nG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rG=t=>t.brush.height;function iG(t){var e=Bp(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Md;return n+i}return n},0)}function aG(t){var e=Bp(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Md;return n+i}return n},0)}function sG(t){var e=zp(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function oG(t){var e=zp(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Pn=Y([La,Ia,VD,rG,iG,aG,sG,oG,hD,RH],(t,e,n,r,i,a,o,c,u,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+o,bottom:(n.bottom||0)+c},v=Th(Th({},m),h),y=v.bottom;v.bottom+=r,v=$q(v,u,f);var w=t-v.left-v.right,x=e-v.top-v.bottom;return Th(Th({brushBottom:y},v),{},{width:Math.max(w,0),height:Math.max(x,0)})}),lG=Y(Pn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),XD=Y(La,Ia,(t,e)=>({x:0,y:0,width:t,height:e})),cG=A.createContext(null),Wn=()=>A.useContext(cG)!=null,Fp=t=>t.brush,Up=Y([Fp,Pn,VD],(t,e,n)=>({height:t.height,x:Se(t.x)?t.x:e.left,y:Se(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Se(t.width)?t.width:e.width})),Y0={},W0={},X0={},ok;function uG(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,c=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},m=()=>{f&&h(),x()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},x=()=>{w(),o=void 0,c=null},S=()=>{h()},_=function(...C){if(i?.aborted)return;o=this,c=C;const j=v==null;y(),u&&j&&h()};return _.schedule=y,_.cancel=x,_.flush=S,i?.addEventListener("abort",x,{once:!0}),_}t.debounce=e})(X0)),X0}var lk;function dG(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uG();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let h,m=null;const v=e.debounce(function(...x){h=r.apply(this,x),m=null},i,{edges:f}),y=function(...x){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(h=r.apply(this,x),m=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,x),h)},w=()=>(v.flush(),h);return y.cancel=v.cancel,y.flush=w,y}t.debounce=n})(W0)),W0}var ck;function fG(){return ck||(ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dG();function n(r,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:c})}t.throttle=n})(Y0)),Y0}var Q0,uk;function hG(){return uk||(uk=1,Q0=fG().throttle),Q0}var mG=hG();const pG=li(mG);var Lm=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},QD=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,c=ka(r)?t:Number(r),u=ka(i)?e:Number(i);return a&&a>0&&(c?u=c/a:u&&(c=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},gG={width:0,height:0,overflow:"visible"},vG={width:0,overflowX:"visible"},yG={height:0,overflowY:"visible"},bG={},xG=t=>{var{width:e,height:n}=t,r=ka(e),i=ka(n);return r&&i?gG:r?vG:i?yG:bG};function wG(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(null,arguments)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){SG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SG(t,e,n){return(e=AG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AG(t){var e=EG(t,"string");return typeof e=="symbol"?e:e+""}function EG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZD=A.createContext({width:-1,height:-1});function _G(t){return Yi(t.width)&&Yi(t.height)}function JD(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return _G(i)?A.createElement(ZD.Provider,{value:i},e):null}var aw=()=>A.useContext(ZD),CG=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:c,maxHeight:u,children:f,debounce:h=0,id:m,className:v,onResize:y,style:w={}}=t,x=A.useRef(null),S=A.useRef();S.current=y,A.useImperativeHandle(e,()=>x.current);var[_,C]=A.useState({containerWidth:r.width,containerHeight:r.height}),j=A.useCallback((L,B)=>{C(H=>{var z=Math.round(L),$=Math.round(B);return H.containerWidth===z&&H.containerHeight===$?H:{containerWidth:z,containerHeight:$}})},[]);A.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Nd;var L=$=>{var ne,{width:Q,height:ie}=$[0].contentRect;j(Q,ie),(ne=S.current)===null||ne===void 0||ne.call(S,Q,ie)};h>0&&(L=pG(L,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),{width:H,height:z}=x.current.getBoundingClientRect();return j(H,z),B.observe(x.current),()=>{B.disconnect()}},[j,h]);var{containerWidth:T,containerHeight:k}=_;Lm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:P}=QD(T,k,{width:i,height:a,aspect:n,maxHeight:u});return Lm(N!=null&&N>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,P,i,a,o,c,n),A.createElement("div",{id:m?"".concat(m):void 0,className:$e("recharts-responsive-container",v),style:fk(fk({},w),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:u}),ref:x},A.createElement("div",{style:xG({width:i,height:a})},A.createElement(JD,{width:N,height:P},f)))}),Im=A.forwardRef((t,e)=>{var n=aw();if(Yi(n.width)&&Yi(n.height))return t.children;var{width:r,height:i}=wG({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=QD(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Se(a)&&Se(o)?A.createElement(JD,{width:a,height:o},t.children):A.createElement(CG,Cx({},t,{width:r,height:i,ref:e}))});function eR(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var $p=()=>{var t,e=Wn(),n=me(lG),r=me(Up),i=(t=me(Fp))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},jG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},tR=()=>{var t;return(t=me(Pn))!==null&&t!==void 0?t:jG},sw=()=>me(La),ow=()=>me(Ia),kG=()=>me(t=>t.layout.margin),nt=t=>t.layout.layoutType,Dd=()=>me(nt),NG=()=>{var t=Dd();return t!==void 0},Hp=t=>{var e=yt(),n=Wn(),{width:r,height:i}=t,a=aw(),o=r,c=i;return a&&(o=a.width>0?a.width:r,c=a.height>0?a.height:i),A.useEffect(()=>{!n&&Yi(o)&&Yi(c)&&e(Lq({width:o,height:c}))},[e,n,o,c]),null},nR=Symbol.for("immer-nothing"),hk=Symbol.for("immer-draftable"),Lr=Symbol.for("immer-state");function yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var id=Object.getPrototypeOf;function Ql(t){return!!t&&!!t[Lr]}function wo(t){return t?rR(t)||Array.isArray(t)||!!t[hk]||!!t.constructor?.[hk]||Rd(t)||Gp(t):!1}var TG=Object.prototype.constructor.toString(),mk=new WeakMap;function rR(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=mk.get(n);return r===void 0&&(r=Function.toString.call(n),mk.set(n,r)),r===TG}function zm(t,e,n=!0){qp(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function qp(t){const e=t[Lr];return e?e.type_:Array.isArray(t)?1:Rd(t)?2:Gp(t)?3:0}function jx(t,e){return qp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function iR(t,e,n){const r=qp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function OG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Rd(t){return t instanceof Map}function Gp(t){return t instanceof Set}function Js(t){return t.copy_||t.base_}function kx(t,e){if(Rd(t))return new Map(t);if(Gp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=rR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Lr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[o]})}return Object.create(id(t),r)}else{const r=id(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function lw(t,e=!1){return Kp(t)||Ql(t)||!wo(t)||(qp(t)>1&&Object.defineProperties(t,{set:Oh,add:Oh,clear:Oh,delete:Oh}),Object.freeze(t),e&&Object.values(t).forEach(n=>lw(n,!0))),t}function PG(){yi(2)}var Oh={value:PG};function Kp(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var MG={};function So(t){const e=MG[t];return e||yi(0,t),e}var ad;function aR(){return ad}function DG(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pk(t,e){e&&(So("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Nx(t){Tx(t),t.drafts_.forEach(RG),t.drafts_=null}function Tx(t){t===ad&&(ad=t.parent_)}function gk(t){return ad=DG(ad,t)}function RG(t){const e=t[Lr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Lr].modified_&&(Nx(e),yi(4)),wo(t)&&(t=Bm(e,t),e.parent_||Fm(e,t)),e.patches_&&So("Patches").generateReplacementPatches_(n[Lr].base_,t,e.patches_,e.inversePatches_)):t=Bm(e,n,[]),Nx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==nR?t:void 0}function Bm(t,e,n){if(Kp(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Lr];if(!i)return zm(e,(a,o)=>yk(t,i,e,a,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Fm(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,c=!1;i.type_===3&&(o=new Set(a),a.clear(),c=!0),zm(o,(u,f)=>yk(t,i,a,u,f,n,c),r),Fm(t,a,!1),n&&t.patches_&&So("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function yk(t,e,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const c=Kp(i);if(!(c&&!o)){if(Ql(i)){const u=a&&e&&e.type_!==3&&!jx(e.assigned_,r)?a.concat(r):void 0,f=Bm(t,i,u);if(iR(n,r,f),Ql(f))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(wo(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Bm(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Rd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Fm(t,i)}}}function Fm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lw(e,n)}function LG(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:aR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=cw;n&&(i=[r],a=sd);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,c}var cw={get(t,e){if(e===Lr)return t;const n=Js(t);if(!jx(n,e))return IG(t,n,e);const r=n[e];return t.finalized_||!wo(r)?r:r===Z0(t.base_,e)?(J0(t),t.copy_[e]=Px(r,t)):r},has(t,e){return e in Js(t)},ownKeys(t){return Reflect.ownKeys(Js(t))},set(t,e,n){const r=sR(Js(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Z0(Js(t),e),a=i?.[Lr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(OG(n,i)&&(n!==void 0||jx(t.base_,e)))return!0;J0(t),Ox(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Z0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,J0(t),Ox(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Js(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){yi(11)},getPrototypeOf(t){return id(t.base_)},setPrototypeOf(){yi(12)}},sd={};zm(cw,(t,e)=>{sd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});sd.deleteProperty=function(t,e){return sd.set.call(this,t,e,void 0)};sd.set=function(t,e,n){return cw.set.call(this,t[0],e,n,t[0])};function Z0(t,e){const n=t[Lr];return(n?Js(n):t)[e]}function IG(t,e,n){const r=sR(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function sR(t,e){if(!(e in t))return;let n=id(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=id(n)}}function Ox(t){t.modified_||(t.modified_=!0,t.parent_&&Ox(t.parent_))}function J0(t){t.copy_||(t.copy_=kx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zG=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(u=a,...f){return o.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&yi(6),r!==void 0&&typeof r!="function"&&yi(7);let i;if(wo(e)){const a=gk(this),o=Px(e,void 0);let c=!0;try{i=n(o),c=!1}finally{c?Nx(a):Tx(a)}return pk(a,r),vk(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===nR&&(i=void 0),this.autoFreeze_&&lw(i,!0),r){const a=[],o=[];So("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else yi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,u=>e(u,...c));let r,i;return[this.produce(e,n,(o,c)=>{r=o,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){wo(t)||yi(8),Ql(t)&&(t=BG(t));const e=gk(this),n=Px(t,void 0);return n[Lr].isManual_=!0,Tx(e),n}finishDraft(t,e){const n=t&&t[Lr];(!n||!n.isManual_)&&yi(9);const{scope_:r}=n;return pk(r,e),vk(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=So("Patches").applyPatches_;return Ql(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Px(t,e){const n=Rd(t)?So("MapSet").proxyMap_(t,e):Gp(t)?So("MapSet").proxySet_(t,e):LG(t,e);return(e?e.scope_:aR()).drafts_.push(n),n}function BG(t){return Ql(t)||yi(10,t),oR(t)}function oR(t){if(!wo(t)||Kp(t))return t;const e=t[Lr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=kx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=kx(t,!0);return zm(n,(i,a)=>{iR(n,i,oR(a))},r),e&&(e.finalized_=!1),n}var FG=new zG;FG.produce;var UG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},lR=wr({name:"legend",initialState:UG,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Mt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=wi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Mt()},removeLegendPayload:{reducer(t,e){var n=wi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Mt()}}}),{setLegendSize:bk,setLegendSettings:$G,addLegendPayload:cR,replaceLegendPayload:uR,removeLegendPayload:dR}=lR.actions,HG=lR.reducer,qG=["contextPayload"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mx.apply(null,arguments)}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){GG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GG(t,e,n){return(e=KG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KG(t){var e=VG(t,"string");return typeof e=="symbol"?e:e+""}function VG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YG(t,e){if(t==null)return{};var n,r,i=WG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XG(t){return t.value}function QG(t){var{contextPayload:e}=t,n=YG(t,qG),r=cD(e,t.payloadUniqBy,XG),i=Zl(Zl({},n),{},{payload:r});return A.isValidElement(t.content)?A.cloneElement(t.content,i):typeof t.content=="function"?A.createElement(t.content,i):A.createElement(G$,i)}function ZG(t,e,n,r,i,a){var{layout:o,align:c,verticalAlign:u}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&o==="vertical"?f={left:((r||0)-a.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?h={top:((i||0)-a.height)/2}:h=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Zl(Zl({},f),h)}function JG(t){var e=yt();return A.useEffect(()=>{e($G(t))},[e,t]),null}function e9(t){var e=yt();return A.useEffect(()=>(e(bk(t)),()=>{e(bk({width:0,height:0}))}),[e,t]),null}function t9(t,e,n,r){return t==="vertical"&&Se(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var n9={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function uw(t){var e=$t(t,n9),n=zH(),r=LU(),i=kG(),{width:a,height:o,wrapperStyle:c,portal:u}=e,[f,h]=mD([n]),m=sw(),v=ow();if(m==null||v==null)return null;var y=m-(i?.left||0)-(i?.right||0),w=t9(e.layout,o,a,y),x=u?c:Zl(Zl({position:"absolute",width:w?.width||a||"auto",height:w?.height||o||"auto"},ZG(c,e,i,m,v,f)),c),S=u??r;if(S==null||n==null)return null;var _=A.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:h},A.createElement(JG,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&A.createElement(e9,{width:f.width,height:f.height}),A.createElement(QG,Mx({},e,w,{margin:i,chartWidth:m,chartHeight:v,contextPayload:n})));return P1.createPortal(_,S)}uw.displayName="Legend";function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(null,arguments)}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){r9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r9(t,e,n){return(e=i9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=a9(t,"string");return typeof e=="symbol"?e:e+""}function a9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s9(t){return Array.isArray(t)&&Vi(t[0])&&Vi(t[1])?t.join(" ~ "):t}var o9=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:v=!1}=t,y=()=>{if(a&&a.length){var k={padding:0,margin:0},N=(c?kp(a,c):a).map((P,L)=>{if(P.type==="none")return null;var B=P.formatter||o||s9,{value:H,name:z}=P,$=H,ne=z;if(B){var Q=B(H,z,P,L,a);if(Array.isArray(Q))[$,ne]=Q;else if(Q!=null)$=Q;else return null}var ie=eb({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:ie},Vi(ne)?A.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Vi(ne)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},$),A.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:k},N)}return null},w=eb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=eb({margin:0},i),S=!rn(h),_=S?h:"",C=$e("recharts-default-tooltip",u),j=$e("recharts-tooltip-label",f);S&&m&&a!==void 0&&a!==null&&(_=m(h,a));var T=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Dx({className:C,style:w},T),A.createElement("p",{className:j,style:x},A.isValidElement(_)?_:"".concat(_)),y())},pu="recharts-tooltip-wrapper",l9={visibility:"hidden"};function c9(t){var{coordinate:e,translateX:n,translateY:r}=t;return $e(pu,{["".concat(pu,"-right")]:Se(n)&&e&&Se(e.x)&&n>=e.x,["".concat(pu,"-left")]:Se(n)&&e&&Se(e.x)&&n<e.x,["".concat(pu,"-bottom")]:Se(r)&&e&&Se(e.y)&&r>=e.y,["".concat(pu,"-top")]:Se(r)&&e&&Se(e.y)&&r<e.y})}function Sk(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:f}=t;if(a&&Se(a[r]))return a[r];var h=n[r]-c-(i>0?i:0),m=n[r]+i;if(e[r])return o[r]?h:m;var v=u[r];if(v==null)return 0;if(o[r]){var y=h,w=v;return y<w?Math.max(m,v):Math.max(h,v)}if(f==null)return 0;var x=m+c,S=v+f;return x>S?Math.max(h,v):Math.max(m,v)}function u9(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function d9(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:u}=t,f,h,m;return o.height>0&&o.width>0&&n?(h=Sk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=Sk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=u9({translateX:h,translateY:m,useTranslate3d:c})):f=l9,{cssProperties:f,cssClasses:c9({translateX:h,translateY:m,coordinate:n})}}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){Rx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rx(t,e,n){return(e=f9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f9(t){var e=h9(t,"string");return typeof e=="symbol"?e:e+""}function h9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class m9 extends A.PureComponent{constructor(){super(...arguments),Rx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Rx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:u,offset:f,position:h,reverseDirection:m,useTranslate3d:v,viewBox:y,wrapperStyle:w,lastBoundingBox:x,innerRef:S,hasPortalFromProps:_}=this.props,{cssClasses:C,cssProperties:j}=d9({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:x.height,width:x.width},useTranslate3d:v,viewBox:y}),T=_?{}:Ph(Ph({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),k=Ph(Ph({},T),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:k,ref:S},a)}}var fR=()=>{var t;return(t=me(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(null,arguments)}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){p9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p9(t,e,n){return(e=g9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g9(t){var e=v9(t,"string");return typeof e=="symbol"?e:e+""}function v9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ck={curveBasisClosed:t$,curveBasisOpen:n$,curveBasis:e$,curveBumpX:FU,curveBumpY:UU,curveLinearClosed:r$,curveLinear:_p,curveMonotoneX:i$,curveMonotoneY:a$,curveNatural:s$,curveStep:o$,curveStepAfter:c$,curveStepBefore:l$},Um=t=>pn(t.x)&&pn(t.y),jk=t=>t.base!=null&&Um(t.base)&&Um(t),gu=t=>t.x,vu=t=>t.y,y9=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(kd(t));return(n==="curveMonotone"||n==="curveBump")&&e?Ck["".concat(n).concat(e==="vertical"?"Y":"X")]:Ck[n]||_p},b9=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=y9(e,i),c=a?n.filter(Um):n,u;if(Array.isArray(r)){var f=n.map((y,w)=>_k(_k({},y),{},{base:r[w]}));i==="vertical"?u=Eh().y(vu).x1(gu).x0(y=>y.base.x):u=Eh().x(gu).y1(vu).y0(y=>y.base.y);var h=u.defined(jk).curve(o),m=a?f.filter(jk):f;return h(m)}i==="vertical"&&Se(r)?u=Eh().y(vu).x1(gu).x0(r):Se(r)?u=Eh().x(gu).y1(vu).y0(r):u=BM().x(gu).y(vu);var v=u.defined(Um).curve(o);return v(c)},dw=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=Dd();if((!n||!n.length)&&!r)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},c=n&&n.length?b9(o):r;return A.createElement("path",Lx({},Ut(t),W1(t),{className:$e("recharts-curve",e),d:c===null?void 0:c,ref:i}))},x9=["x","y","top","left","width","height","className"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(null,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){S9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S9(t,e,n){return(e=A9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A9(t){var e=E9(t,"string");return typeof e=="symbol"?e:e+""}function E9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _9(t,e){if(t==null)return{};var n,r,i=C9(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function C9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j9=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),k9=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:c}=t,u=_9(t,x9),f=w9({x:e,y:n,top:r,left:i,width:a,height:o},u);return!Se(e)||!Se(n)||!Se(a)||!Se(o)||!Se(r)||!Se(i)?null:A.createElement("path",Ix({},hn(f),{className:$e("recharts-cross",c),d:j9(e,n,a,o,r,i)}))};function N9(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){T9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T9(t,e,n){return(e=O9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O9(t){var e=P9(t,"string");return typeof e=="symbol"?e:e+""}function P9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M9=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),hR=(t,e,n)=>t.map(r=>"".concat(M9(r)," ").concat(e,"ms ").concat(n)).join(","),D9=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),od=(t,e)=>Object.keys(e).reduce((n,r)=>Tk(Tk({},n),{},{[r]:t(r,e[r])}),{});function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){R9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R9(t,e,n){return(e=L9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L9(t){var e=I9(t,"string");return typeof e=="symbol"?e:e+""}function I9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $m=(t,e,n)=>t+(e-t)*n,zx=t=>{var{from:e,to:n}=t;return e!==n},mR=(t,e,n)=>{var r=od((i,a)=>{if(zx(a)){var[o,c]=t(a.from,a.to,a.velocity);return yn(yn({},a),{},{from:o,velocity:c})}return a},e);return n<1?od((i,a)=>zx(a)&&r[i]!=null?yn(yn({},a),{},{velocity:$m(a.velocity,r[i].velocity,n),from:$m(a.from,r[i].from,n)}):a,e):mR(t,r,n-1)};function z9(t,e,n,r,i,a){var o,c=r.reduce((v,y)=>yn(yn({},v),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),u=()=>od((v,y)=>y.from,c),f=()=>!Object.values(c).filter(zx).length,h=null,m=v=>{o||(o=v);var y=v-o,w=y/n.dt;c=mR(n,c,w),i(yn(yn(yn({},t),e),u())),o=v,f()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var v;(v=h)===null||v===void 0||v()})}function B9(t,e,n,r,i,a,o){var c=null,u=i.reduce((m,v)=>{var y=t[v],w=e[v];return y==null||w==null?m:yn(yn({},m),{},{[v]:[y,w]})},{}),f,h=m=>{f||(f=m);var v=(m-f)/r,y=od((x,S)=>$m(...S,n(v)),u);if(a(yn(yn(yn({},t),e),y)),v<1)c=o.setTimeout(h);else{var w=od((x,S)=>$m(...S,n(1)),u);a(yn(yn(yn({},t),e),w))}};return()=>(c=o.setTimeout(h),()=>{var m;(m=c)===null||m===void 0||m()})}const F9=(t,e,n,r,i,a)=>{var o=D9(t,e);return n==null?()=>(i(yn(yn({},t),e)),()=>{}):n.isStepper===!0?z9(t,e,n,o,i,a):B9(t,e,n,r,o,i,a)};var Hm=1e-4,pR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],gR=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Pk=(t,e)=>n=>{var r=pR(t,e);return gR(r,n)},U9=(t,e)=>n=>{var r=pR(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return gR(i,n)},$9=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},H9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=$9(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},q9=(t,e,n,r)=>{var i=Pk(t,n),a=Pk(e,r),o=U9(t,n),c=f=>f>1?1:f<0?0:f,u=f=>{for(var h=f>1?1:f,m=h,v=0;v<8;++v){var y=i(m)-h,w=o(m);if(Math.abs(y-h)<Hm||w<Hm)return a(m);m=c(m-y/w)}return a(m)};return u.isStepper=!1,u},Mk=function(){return q9(...H9(...arguments))},G9=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,c,u)=>{var f=-(o-c)*n,h=u*r,m=u+(f-h)*i/1e3,v=u*i/1e3+o;return Math.abs(v-c)<Hm&&Math.abs(m)<Hm?[c,0]:[v,m]};return a.isStepper=!0,a.dt=i,a},K9=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Mk(t);case"spring":return G9();default:if(t.split("(")[0]==="cubic-bezier")return Mk(t)}return typeof t=="function"?t:null};function V9(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...f]=c;if(typeof u=="number"){i=t.setTimeout(a.bind(null,f),u);return}a(u),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Y9{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function W9(){return V9(new Y9)}var X9=A.createContext(W9);function Q9(t,e){var n=A.useContext(X9);return A.useMemo(()=>e??n(t),[t,e,n])}var Z9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vp={isSsr:Z9()},J9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Dk={t:0},tb={t:1};function Ld(t){var e=$t(t,J9),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:u,children:f}=e,h=n==="auto"?!Vp.isSsr:n,m=Q9(e.animationId,e.animationManager),[v,y]=A.useState(h?Dk:tb),w=A.useRef(null);return A.useEffect(()=>{h||y(tb)},[h]),A.useEffect(()=>{if(!h||!r)return Nd;var x=F9(Dk,tb,K9(a),i,y,m.getTimeoutController()),S=()=>{w.current=x()};return m.start([u,o,S,i,c]),()=>{m.stop(),w.current&&w.current(),c()}},[h,r,i,a,o,u,c,m]),f(v.t)}function Id(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(ed(e)),r=A.useRef(t);return r.current!==t&&(n.current=ed(e),r.current=t),n.current}var e7=["radius"],t7=["radius"],Rk,Lk,Ik,zk,Bk,Fk,Uk,$k,Hk,qk;function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){n7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n7(t,e,n){return(e=r7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r7(t){var e=i7(t,"string");return typeof e=="symbol"?e:e+""}function i7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(null,arguments)}function Vk(t,e){if(t==null)return{};var n,r,i=a7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function a7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Di(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Yk=(t,e,n,r,i)=>{var a=ws(n),o=ws(r),c=Math.min(Math.abs(a)/2,Math.abs(o)/2),u=o>=0?1:-1,f=a>=0?1:-1,h=o>=0&&a>=0||o<0&&a<0?1:0,m;if(c>0&&i instanceof Array){for(var v=[0,0,0,0],y=0,w=4;y<w;y++)v[y]=i[y]>c?c:i[y];m=Bt(Rk||(Rk=Di(["M",",",""])),t,e+u*v[0]),v[0]>0&&(m+=Bt(Lk||(Lk=Di(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,t+f*v[0],e)),m+=Bt(Ik||(Ik=Di(["L ",",",""])),t+n-f*v[1],e),v[1]>0&&(m+=Bt(zk||(zk=Di(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,t+n,e+u*v[1])),m+=Bt(Bk||(Bk=Di(["L ",",",""])),t+n,e+r-u*v[2]),v[2]>0&&(m+=Bt(Fk||(Fk=Di(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,t+n-f*v[2],e+r)),m+=Bt(Uk||(Uk=Di(["L ",",",""])),t+f*v[3],e+r),v[3]>0&&(m+=Bt($k||($k=Di(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,t,e+r-u*v[3])),m+="Z"}else if(c>0&&i===+i&&i>0){var x=Math.min(c,i);m=Bt(Hk||(Hk=Di(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*x,x,x,h,t+f*x,e,t+n-f*x,e,x,x,h,t+n,e+u*x,t+n,e+r-u*x,x,x,h,t+n-f*x,e+r,t+f*x,e+r,x,x,h,t,e+r-u*x)}else m=Bt(qk||(qk=Di(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},Wk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vR=t=>{var e=$t(t,Wk),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:a,y:o,width:c,height:u,radius:f,className:h}=e,{animationEasing:m,animationDuration:v,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:x}=e,S=A.useRef(c),_=A.useRef(u),C=A.useRef(a),j=A.useRef(o),T=A.useMemo(()=>({x:a,y:o,width:c,height:u,radius:f}),[a,o,c,u,f]),k=Id(T,"rectangle-");if(a!==+a||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var N=$e("recharts-rectangle",h);if(!x){var P=hn(e),{radius:L}=P,B=Vk(P,e7);return A.createElement("path",qm({},B,{x:ws(a),y:ws(o),width:ws(c),height:ws(u),radius:typeof f=="number"?f:void 0,className:N,d:Yk(a,o,c,u,f)}))}var H=S.current,z=_.current,$=C.current,ne=j.current,Q="0px ".concat(r===-1?1:r,"px"),ie="".concat(r,"px 0px"),M=hR(["strokeDasharray"],v,typeof m=="string"?m:Wk.animationEasing);return A.createElement(Ld,{animationId:k,key:k,canBegin:r>0,duration:v,easing:m,isActive:x,begin:y},I=>{var G=fn(H,c,I),R=fn(z,u,I),oe=fn($,a,I),F=fn(ne,o,I);n.current&&(S.current=G,_.current=R,C.current=oe,j.current=F);var V;w?I>0?V={transition:M,strokeDasharray:ie}:V={strokeDasharray:Q}:V={strokeDasharray:ie};var ce=hn(e),{radius:ue}=ce,ge=Vk(ce,t7);return A.createElement("path",qm({},ge,{radius:typeof f=="number"?f:void 0,className:N,d:Yk(oe,F,G,R,f),ref:n,style:Kk(Kk({},V),e.style)}))})};function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){s7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s7(t,e,n){return(e=o7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o7(t){var e=l7(t,"string");return typeof e=="symbol"?e:e+""}function l7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gm=Math.PI/180,Km=t=>t*Math.PI/180,c7=t=>t*180/Math.PI,ot=(t,e,n,r)=>({x:t+Math.cos(-Gm*r)*n,y:e+Math.sin(-Gm*r)*n}),yR=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},u7=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},d7=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=u7({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,u=Math.acos(c);return r>a&&(u=2*Math.PI-u),{radius:o,angle:c7(u),angleInRadian:u}},f7=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},h7=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},m7=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=d7({x:n,y:r},e),{innerRadius:o,outerRadius:c}=e;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:f}=f7(e),h=a,m;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=u}return m?Qk(Qk({},e),{},{radius:i,angle:h7(h,e)}):null},bR=t=>!A.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function xR(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=ot(e,n,r,i),c=ot(e,n,r,a);return{points:[o,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var Zk,Jk,eN,tN,nN,rN,iN;function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(null,arguments)}function to(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var p7=(t,e)=>{var n=Yn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Mh=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:u}=t,f=c*(o?1:-1)+r,h=Math.asin(c/f)/Gm,m=u?i:i+a*h,v=ot(e,n,f,m),y=ot(e,n,r,m),w=u?i-a*h:i,x=ot(e,n,f*Math.cos(h*Gm),w);return{center:v,circleTangency:y,lineTangency:x,theta:h}},wR=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,c=p7(a,o),u=a+c,f=ot(e,n,i,a),h=ot(e,n,i,u),m=Bt(Zk||(Zk=to(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(c)>180),+(a>u),h.x,h.y);if(r>0){var v=ot(e,n,r,a),y=ot(e,n,r,u);m+=Bt(Jk||(Jk=to(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(c)>180),+(a<=u),v.x,v.y)}else m+=Bt(eN||(eN=to(["L ",","," Z"])),e,n);return m},g7=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f}=t,h=Yn(f-u),{circleTangency:m,lineTangency:v,theta:y}=Mh({cx:e,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:x,theta:S}=Mh({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:c}),_=c?Math.abs(u-f):Math.abs(u-f)-y-S;if(_<0)return o?Bt(tN||(tN=to(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,a,a,a*2,a,a,-a*2):wR({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var C=Bt(nN||(nN=to(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,a,a,+(h<0),m.x,m.y,i,i,+(_>180),+(h<0),w.x,w.y,a,a,+(h<0),x.x,x.y);if(r>0){var{circleTangency:j,lineTangency:T,theta:k}=Mh({cx:e,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:N,lineTangency:P,theta:L}=Mh({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),B=c?Math.abs(u-f):Math.abs(u-f)-k-L;if(B<0&&a===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+=Bt(rN||(rN=to(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,a,a,+(h<0),N.x,N.y,r,r,+(B>180),+(h>0),j.x,j.y,a,a,+(h<0),T.x,T.y)}else C+=Bt(iN||(iN=to(["L",",","Z"])),e,n);return C},v7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SR=t=>{var e=$t(t,v7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h,className:m}=e;if(a<i||f===h)return null;var v=$e("recharts-sector",m),y=a-i,w=Dr(o,y,0,!0),x;return w>0&&Math.abs(f-h)<360?x=g7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):x=wR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),A.createElement("path",Bx({},hn(e),{className:v,d:x}))};function y7(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(eD(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:c}=e,u=ot(r,i,a,c),f=ot(r,i,o,c);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return xR(e)}}var nb={},rb={},ib={},aN;function b7(){return aN||(aN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dD();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(ib)),ib}var sN;function x7(){return sN||(sN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b7();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(rb)),rb}var oN;function w7(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fD(),n=x7();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(c);for(let f=0;f<c;f++)u[f]=i,i+=o;return u}t.range=r})(nb)),nb}var ab,lN;function S7(){return lN||(lN=1,ab=w7().range),ab}var A7=S7();const AR=li(A7);function Ss(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function E7(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fw(t){let e,n,r;t.length!==2?(e=Ss,n=(c,u)=>Ss(t(c),u),r=(c,u)=>t(c)-u):(e=t===Ss||t===E7?t:_7,n=t,r=t);function i(c,u,f=0,h=c.length){if(f<h){if(e(u,u)!==0)return h;do{const m=f+h>>>1;n(c[m],u)<0?f=m+1:h=m}while(f<h)}return f}function a(c,u,f=0,h=c.length){if(f<h){if(e(u,u)!==0)return h;do{const m=f+h>>>1;n(c[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function o(c,u,f=0,h=c.length){const m=i(c,u,f,h-1);return m>f&&r(c[m-1],u)>-r(c[m],u)?m-1:m}return{left:i,center:o,right:a}}function _7(){return 0}function ER(t){return t===null?NaN:+t}function*C7(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const j7=fw(Ss),zd=j7.right;fw(ER).center;class cN extends Map{constructor(e,n=T7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(uN(this,e))}has(e){return super.has(uN(this,e))}set(e,n){return super.set(k7(this,e),n)}delete(e){return super.delete(N7(this,e))}}function uN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function k7({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function N7({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function T7(t){return t!==null&&typeof t=="object"?t.valueOf():t}function O7(t=Ss){if(t===Ss)return _R;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _R(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const P7=Math.sqrt(50),M7=Math.sqrt(10),D7=Math.sqrt(2);function Vm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=P7?10:a>=M7?5:a>=D7?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(t*f),u=Math.round(e*f),c/f<t&&++c,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*o,c=Math.round(t/f),u=Math.round(e/f),c*f<t&&++c,u*f>e&&--u),u<c&&.5<=n&&n<2?Vm(t,e,n*2):[c,u,f]}function Fx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Vm(e,t,n):Vm(t,e,n);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)u[f]=(a-f)/-o;else for(let f=0;f<c;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)u[f]=(i+f)/-o;else for(let f=0;f<c;++f)u[f]=(i+f)*o;return u}function Ux(t,e,n){return e=+e,t=+t,n=+n,Vm(t,e,n)[2]}function $x(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ux(e,t,n):Ux(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function dN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function fN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function CR(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?_R:O7(i);r>n;){if(r-n>600){const u=r-n+1,f=e-n+1,h=Math.log(u),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(u-m)/u)*(f-u/2<0?-1:1),y=Math.max(n,Math.floor(e-f*m/u+v)),w=Math.min(r,Math.floor(e+(u-f)*m/u+v));CR(t,e,y,w,i)}const a=t[e];let o=n,c=r;for(yu(t,n,e),i(t[r],a)>0&&yu(t,n,r);o<c;){for(yu(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?yu(t,n,c):(++c,yu(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function yu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function R7(t,e,n){if(t=Float64Array.from(C7(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return fN(t);if(e>=1)return dN(t);var r,i=(r-1)*e,a=Math.floor(i),o=dN(CR(t,a).subarray(0,a+1)),c=fN(t.subarray(a+1));return o+(c-o)*(i-a)}}function L7(t,e,n=ER){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return o+(c-o)*(i-a)}}function I7(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ci(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function za(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Hx=Symbol("implicit");function hw(){var t=new cN,e=[],n=[],r=Hx;function i(a){let o=t.get(a);if(o===void 0){if(r!==Hx)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new cN;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return hw(e,n).unknown(r)},ci.apply(i,arguments),i}function mw(){var t=hw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,c=!1,u=0,f=0,h=.5;delete t.unknown;function m(){var v=e().length,y=i<r,w=y?i:r,x=y?r:i;a=(x-w)/Math.max(1,v-u+f*2),c&&(a=Math.floor(a)),w+=(x-w-a*(v-u))*h,o=a*(1-u),c&&(w=Math.round(w),o=Math.round(o));var S=I7(v).map(function(_){return w+a*_});return n(y?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(u=Math.min(1,f=+v),m()):u},t.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),m()):u},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},t.copy=function(){return mw(e(),[r,i]).round(c).paddingInner(u).paddingOuter(f).align(h)},ci.apply(m(),arguments)}function jR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jR(e())},t}function z7(){return jR(mw.apply(null,arguments).paddingInner(1))}function pw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Bd(){}var ld=.7,Ym=1/ld,Fl="\\s*([+-]?\\d+)\\s*",cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B7=/^#([0-9a-f]{3,8})$/,F7=new RegExp(`^rgb\\(${Fl},${Fl},${Fl}\\)$`),U7=new RegExp(`^rgb\\(${qi},${qi},${qi}\\)$`),$7=new RegExp(`^rgba\\(${Fl},${Fl},${Fl},${cd}\\)$`),H7=new RegExp(`^rgba\\(${qi},${qi},${qi},${cd}\\)$`),q7=new RegExp(`^hsl\\(${cd},${qi},${qi}\\)$`),G7=new RegExp(`^hsla\\(${cd},${qi},${qi},${cd}\\)$`),hN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pw(Bd,ud,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mN,formatHex:mN,formatHex8:K7,formatHsl:V7,formatRgb:pN,toString:pN});function mN(){return this.rgb().formatHex()}function K7(){return this.rgb().formatHex8()}function V7(){return NR(this).formatHsl()}function pN(){return this.rgb().formatRgb()}function ud(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=B7.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gN(e):n===3?new br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=F7.exec(t))?new br(e[1],e[2],e[3],1):(e=U7.exec(t))?new br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$7.exec(t))?Dh(e[1],e[2],e[3],e[4]):(e=H7.exec(t))?Dh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=q7.exec(t))?bN(e[1],e[2]/100,e[3]/100,1):(e=G7.exec(t))?bN(e[1],e[2]/100,e[3]/100,e[4]):hN.hasOwnProperty(t)?gN(hN[t]):t==="transparent"?new br(NaN,NaN,NaN,0):null}function gN(t){return new br(t>>16&255,t>>8&255,t&255,1)}function Dh(t,e,n,r){return r<=0&&(t=e=n=NaN),new br(t,e,n,r)}function Y7(t){return t instanceof Bd||(t=ud(t)),t?(t=t.rgb(),new br(t.r,t.g,t.b,t.opacity)):new br}function qx(t,e,n,r){return arguments.length===1?Y7(t):new br(t,e,n,r??1)}function br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}pw(br,qx,kR(Bd,{brighter(t){return t=t==null?Ym:Math.pow(Ym,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ld:Math.pow(ld,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new br(mo(this.r),mo(this.g),mo(this.b),Wm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vN,formatHex:vN,formatHex8:W7,formatRgb:yN,toString:yN}));function vN(){return`#${no(this.r)}${no(this.g)}${no(this.b)}`}function W7(){return`#${no(this.r)}${no(this.g)}${no(this.b)}${no((isNaN(this.opacity)?1:this.opacity)*255)}`}function yN(){const t=Wm(this.opacity);return`${t===1?"rgb(":"rgba("}${mo(this.r)}, ${mo(this.g)}, ${mo(this.b)}${t===1?")":`, ${t})`}`}function Wm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function no(t){return t=mo(t),(t<16?"0":"")+t.toString(16)}function bN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bi(t,e,n,r)}function NR(t){if(t instanceof bi)return new bi(t.h,t.s,t.l,t.opacity);if(t instanceof Bd||(t=ud(t)),!t)return new bi;if(t instanceof bi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,c=a-i,u=(a+i)/2;return c?(e===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-e)/c+2:o=(e-n)/c+4,c/=u<.5?a+i:2-a-i,o*=60):c=u>0&&u<1?0:o,new bi(o,c,u,t.opacity)}function X7(t,e,n,r){return arguments.length===1?NR(t):new bi(t,e,n,r??1)}function bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}pw(bi,X7,kR(Bd,{brighter(t){return t=t==null?Ym:Math.pow(Ym,t),new bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ld:Math.pow(ld,t),new bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new br(sb(t>=240?t-240:t+120,i,r),sb(t,i,r),sb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bi(xN(this.h),Rh(this.s),Rh(this.l),Wm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wm(this.opacity);return`${t===1?"hsl(":"hsla("}${xN(this.h)}, ${Rh(this.s)*100}%, ${Rh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xN(t){return t=(t||0)%360,t<0?t+360:t}function Rh(t){return Math.max(0,Math.min(1,t||0))}function sb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const gw=t=>()=>t;function Q7(t,e){return function(n){return t+n*e}}function Z7(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function J7(t){return(t=+t)==1?TR:function(e,n){return n-e?Z7(e,n,t):gw(isNaN(e)?n:e)}}function TR(t,e){var n=e-t;return n?Q7(t,n):gw(isNaN(t)?e:t)}const wN=(function t(e){var n=J7(e);function r(i,a){var o=n((i=qx(i)).r,(a=qx(a)).r),c=n(i.g,a.g),u=n(i.b,a.b),f=TR(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=c(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function eK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function tK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=cc(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function rK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iK(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=cc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Gx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ob=new RegExp(Gx.source,"g");function aK(t){return function(){return t}}function sK(t){return function(e){return t(e)+""}}function oK(t,e){var n=Gx.lastIndex=ob.lastIndex=0,r,i,a,o=-1,c=[],u=[];for(t=t+"",e=e+"";(r=Gx.exec(t))&&(i=ob.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:Xm(r,i)})),n=ob.lastIndex;return n<e.length&&(a=e.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?sK(u[0].x):aK(e):(e=u.length,function(f){for(var h=0,m;h<e;++h)c[(m=u[h]).i]=m.x(f);return c.join("")})}function cc(t,e){var n=typeof e,r;return e==null||n==="boolean"?gw(e):(n==="number"?Xm:n==="string"?(r=ud(e))?(e=r,wN):oK:e instanceof ud?wN:e instanceof Date?rK:tK(e)?eK:Array.isArray(e)?nK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iK:Xm)(t,e)}function vw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lK(t,e){e===void 0&&(e=t,t=cc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function cK(t){return function(){return t}}function Qm(t){return+t}var SN=[0,1];function nr(t){return t}function Kx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cK(isNaN(e)?NaN:.5)}function uK(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function dK(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Kx(i,r),a=n(o,a)):(r=Kx(r,i),a=n(a,o)),function(c){return a(r(c))}}function fK(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Kx(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(c){var u=zd(t,c,1,r)-1;return a[u](i[u](c))}}function Fd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yp(){var t=SN,e=SN,n=cc,r,i,a,o=nr,c,u,f;function h(){var v=Math.min(t.length,e.length);return o!==nr&&(o=uK(t[0],t[v-1])),c=v>2?fK:dK,u=f=null,m}function m(v){return v==null||isNaN(v=+v)?a:(u||(u=c(t.map(r),e,n)))(r(o(v)))}return m.invert=function(v){return o(i((f||(f=c(e,t.map(r),Xm)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,Qm),h()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=vw,h()},m.clamp=function(v){return arguments.length?(o=v?!0:nr,h()):o!==nr},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,y){return r=v,i=y,h()}}function yw(){return Yp()(nr,nr)}function hK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Jl(t){return t=Zm(Math.abs(t)),t?t[1]:NaN}function mK(t,e){return function(n,r){for(var i=n.length,a=[],o=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),a.push(n.substring(i-=c,i+c)),!((u+=c+1)>r));)c=t[o=(o+1)%t.length];return a.reverse().join(e)}}function pK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dd(t){if(!(e=gK.exec(t)))throw new Error("invalid format: "+t);var e;return new bw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dd.prototype=bw.prototype;function bw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vK(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var OR;function yK(t,e){var n=Zm(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(OR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Zm(t,Math.max(0,e+a-1))[0]}function AN(t,e){var n=Zm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const EN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>AN(t*100,e),r:AN,s:yK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _N(t){return t}var CN=Array.prototype.map,jN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bK(t){var e=t.grouping===void 0||t.thousands===void 0?_N:mK(CN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?_N:pK(CN.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(m){m=dd(m);var v=m.fill,y=m.align,w=m.sign,x=m.symbol,S=m.zero,_=m.width,C=m.comma,j=m.precision,T=m.trim,k=m.type;k==="n"?(C=!0,k="g"):EN[k]||(j===void 0&&(j=12),T=!0,k="g"),(S||v==="0"&&y==="=")&&(S=!0,v="0",y="=");var N=x==="$"?n:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",P=x==="$"?r:/[%p]/.test(k)?o:"",L=EN[k],B=/[defgprs%]/.test(k);j=j===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function H(z){var $=N,ne=P,Q,ie,M;if(k==="c")ne=L(z)+ne,z="";else{z=+z;var I=z<0||1/z<0;if(z=isNaN(z)?u:L(Math.abs(z),j),T&&(z=vK(z)),I&&+z==0&&w!=="+"&&(I=!1),$=(I?w==="("?w:c:w==="-"||w==="("?"":w)+$,ne=(k==="s"?jN[8+OR/3]:"")+ne+(I&&w==="("?")":""),B){for(Q=-1,ie=z.length;++Q<ie;)if(M=z.charCodeAt(Q),48>M||M>57){ne=(M===46?i+z.slice(Q+1):z.slice(Q))+ne,z=z.slice(0,Q);break}}}C&&!S&&(z=e(z,1/0));var G=$.length+z.length+ne.length,R=G<_?new Array(_-G+1).join(v):"";switch(C&&S&&(z=e(R+z,R.length?_-ne.length:1/0),R=""),y){case"<":z=$+z+ne+R;break;case"=":z=$+R+z+ne;break;case"^":z=R.slice(0,G=R.length>>1)+$+z+ne+R.slice(G);break;default:z=R+$+z+ne;break}return a(z)}return H.toString=function(){return m+""},H}function h(m,v){var y=f((m=dd(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(Jl(v)/3)))*3,x=Math.pow(10,-w),S=jN[8+w/3];return function(_){return y(x*_)+S}}return{format:f,formatPrefix:h}}var Lh,xw,PR;xK({thousands:",",grouping:[3],currency:["$",""]});function xK(t){return Lh=bK(t),xw=Lh.format,PR=Lh.formatPrefix,Lh}function wK(t){return Math.max(0,-Jl(Math.abs(t)))}function SK(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jl(e)/3)))*3-Jl(Math.abs(t)))}function AK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jl(e)-Jl(t))+1}function MR(t,e,n,r){var i=$x(t,e,n),a;switch(r=dd(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=SK(i,o))&&(r.precision=a),PR(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=AK(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=wK(i))&&(r.precision=a-(r.type==="%")*2);break}}return xw(r)}function Ns(t){var e=t.domain;return t.ticks=function(n){var r=e();return Fx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return MR(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],c=r[a],u,f,h=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);h-- >0;){if(f=Ux(o,c,n),f===u)return r[i]=o,r[a]=c,e(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;u=f}return t},t}function DR(){var t=yw();return t.copy=function(){return Fd(t,DR())},ci.apply(t,arguments),Ns(t)}function RR(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return RR(t).unknown(e)},t=arguments.length?Array.from(t,Qm):[0,1],Ns(n)}function LR(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function kN(t){return Math.log(t)}function NN(t){return Math.exp(t)}function EK(t){return-Math.log(-t)}function _K(t){return-Math.exp(-t)}function CK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jK(t){return t===10?CK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TN(t){return(e,n)=>-t(-e,n)}function ww(t){const e=t(kN,NN),n=e.domain;let r=10,i,a;function o(){return i=kK(r),a=jK(r),n()[0]<0?(i=TN(i),a=TN(a),t(EK,_K)):t(kN,NN),e}return e.base=function(c){return arguments.length?(r=+c,o()):r},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const u=n();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let v=i(f),y=i(h),w,x;const S=c==null?10:+c;let _=[];if(!(r%1)&&y-v<S){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(w=1;w<r;++w)if(x=v<0?w/a(-v):w*a(v),!(x<f)){if(x>h)break;_.push(x)}}else for(;v<=y;++v)for(w=r-1;w>=1;--w)if(x=v>0?w/a(-v):w*a(v),!(x<f)){if(x>h)break;_.push(x)}_.length*2<S&&(_=Fx(f,h,S))}else _=Fx(v,y,Math.min(y-v,S)).map(a);return m?_.reverse():_},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=dd(u)).precision==null&&(u.trim=!0),u=xw(u)),c===1/0)return u;const f=Math.max(1,r*c/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?u(h):""}},e.nice=()=>n(LR(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function IR(){const t=ww(Yp()).domain([1,10]);return t.copy=()=>Fd(t,IR()).base(t.base()),ci.apply(t,arguments),t}function ON(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function PN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Sw(t){var e=1,n=t(ON(e),PN(e));return n.constant=function(r){return arguments.length?t(ON(e=+r),PN(e)):e},Ns(n)}function zR(){var t=Sw(Yp());return t.copy=function(){return Fd(t,zR()).constant(t.constant())},ci.apply(t,arguments)}function MN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function NK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function TK(t){return t<0?-t*t:t*t}function Aw(t){var e=t(nr,nr),n=1;function r(){return n===1?t(nr,nr):n===.5?t(NK,TK):t(MN(n),MN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ns(e)}function Ew(){var t=Aw(Yp());return t.copy=function(){return Fd(t,Ew()).exponent(t.exponent())},ci.apply(t,arguments),t}function OK(){return Ew.apply(null,arguments).exponent(.5)}function DN(t){return Math.sign(t)*t*t}function PK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function BR(){var t=yw(),e=[0,1],n=!1,r;function i(a){var o=PK(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(DN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Qm)).map(DN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return BR(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ci.apply(i,arguments),Ns(i)}function FR(){var t=[],e=[],n=[],r;function i(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=L7(t,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:e[zd(n,o)]}return a.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Ss),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return FR().domain(t).range(e).unknown(r)},ci.apply(a,arguments)}function UR(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[zd(r,u,0,n)]:a}function c(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return UR().domain([t,e]).range(i).unknown(a)},ci.apply(Ns(o),arguments)}function $R(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[zd(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return $R().domain(t).range(e).unknown(n)},ci.apply(i,arguments)}const lb=new Date,cb=new Date;function wn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return u;let f;do u.push(f=new Date(+a)),e(a,c),t(a);while(f<a&&a<o);return u},i.filter=a=>wn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!a(o););else for(;--c>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(lb.setTime(+a),cb.setTime(+o),t(lb),t(cb),Math.floor(n(lb,cb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Jm=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Jm);Jm.range;const wa=1e3,ri=wa*60,Sa=ri*60,Ta=Sa*24,_w=Ta*7,RN=Ta*30,ub=Ta*365,ro=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getUTCSeconds());ro.range;const Cw=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wa)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getMinutes());Cw.range;const jw=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getUTCMinutes());jw.range;const kw=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wa-t.getMinutes()*ri)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getHours());kw.range;const Nw=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getUTCHours());Nw.range;const Ud=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ri)/Ta,t=>t.getDate()-1);Ud.range;const Wp=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ta,t=>t.getUTCDate()-1);Wp.range;const HR=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ta,t=>Math.floor(t/Ta));HR.range;function To(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ri)/_w)}const Xp=To(0),ep=To(1),MK=To(2),DK=To(3),ec=To(4),RK=To(5),LK=To(6);Xp.range;ep.range;MK.range;DK.range;ec.range;RK.range;LK.range;function Oo(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_w)}const Qp=Oo(0),tp=Oo(1),IK=Oo(2),zK=Oo(3),tc=Oo(4),BK=Oo(5),FK=Oo(6);Qp.range;tp.range;IK.range;zK.range;tc.range;BK.range;FK.range;const Tw=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Tw.range;const Ow=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ow.range;const Oa=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Oa.range;const Pa=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Pa.range;function qR(t,e,n,r,i,a){const o=[[ro,1,wa],[ro,5,5*wa],[ro,15,15*wa],[ro,30,30*wa],[a,1,ri],[a,5,5*ri],[a,15,15*ri],[a,30,30*ri],[i,1,Sa],[i,3,3*Sa],[i,6,6*Sa],[i,12,12*Sa],[r,1,Ta],[r,2,2*Ta],[n,1,_w],[e,1,RN],[e,3,3*RN],[t,1,ub]];function c(f,h,m){const v=h<f;v&&([f,h]=[h,f]);const y=m&&typeof m.range=="function"?m:u(f,h,m),w=y?y.range(f,+h+1):[];return v?w.reverse():w}function u(f,h,m){const v=Math.abs(h-f)/m,y=fw(([,,S])=>S).right(o,v);if(y===o.length)return t.every($x(f/ub,h/ub,m));if(y===0)return Jm.every(Math.max($x(f,h,m),1));const[w,x]=o[v/o[y-1][2]<o[y][2]/v?y-1:y];return w.every(x)}return[c,u]}const[UK,$K]=qR(Pa,Ow,Qp,HR,Nw,jw),[HK,qK]=qR(Oa,Tw,Xp,Ud,kw,Cw);function db(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function GK(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,u=t.shortMonths,f=xu(i),h=wu(i),m=xu(a),v=wu(a),y=xu(o),w=wu(o),x=xu(c),S=wu(c),_=xu(u),C=wu(u),j={a:I,A:G,b:R,B:oe,c:null,d:UN,e:UN,f:mV,g:EV,G:CV,H:dV,I:fV,j:hV,L:GR,m:pV,M:gV,p:F,q:V,Q:qN,s:GN,S:vV,u:yV,U:bV,V:xV,w:wV,W:SV,x:null,X:null,y:AV,Y:_V,Z:jV,"%":HN},T={a:ce,A:ue,b:ge,B:Ee,c:null,d:$N,e:$N,f:OV,g:UV,G:HV,H:kV,I:NV,j:TV,L:VR,m:PV,M:MV,p:he,q:lt,Q:qN,s:GN,S:DV,u:RV,U:LV,V:IV,w:zV,W:BV,x:null,X:null,y:FV,Y:$V,Z:qV,"%":HN},k={a:H,A:z,b:$,B:ne,c:Q,d:BN,e:BN,f:oV,g:zN,G:IN,H:FN,I:FN,j:rV,L:sV,m:nV,M:iV,p:B,q:tV,Q:cV,s:uV,S:aV,u:XK,U:QK,V:ZK,w:WK,W:JK,x:ie,X:M,y:zN,Y:IN,Z:eV,"%":lV};j.x=N(n,j),j.X=N(r,j),j.c=N(e,j),T.x=N(n,T),T.X=N(r,T),T.c=N(e,T);function N(te,Te){return function(Oe){var de=[],Nt=-1,Ue=0,rt=te.length,qt,or,ui;for(Oe instanceof Date||(Oe=new Date(+Oe));++Nt<rt;)te.charCodeAt(Nt)===37&&(de.push(te.slice(Ue,Nt)),(or=LN[qt=te.charAt(++Nt)])!=null?qt=te.charAt(++Nt):or=qt==="e"?" ":"0",(ui=Te[qt])&&(qt=ui(Oe,or)),de.push(qt),Ue=Nt+1);return de.push(te.slice(Ue,Nt)),de.join("")}}function P(te,Te){return function(Oe){var de=bu(1900,void 0,1),Nt=L(de,te,Oe+="",0),Ue,rt;if(Nt!=Oe.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Te&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ue=fb(bu(de.y,0,1)),rt=Ue.getUTCDay(),Ue=rt>4||rt===0?tp.ceil(Ue):tp(Ue),Ue=Wp.offset(Ue,(de.V-1)*7),de.y=Ue.getUTCFullYear(),de.m=Ue.getUTCMonth(),de.d=Ue.getUTCDate()+(de.w+6)%7):(Ue=db(bu(de.y,0,1)),rt=Ue.getDay(),Ue=rt>4||rt===0?ep.ceil(Ue):ep(Ue),Ue=Ud.offset(Ue,(de.V-1)*7),de.y=Ue.getFullYear(),de.m=Ue.getMonth(),de.d=Ue.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),rt="Z"in de?fb(bu(de.y,0,1)).getUTCDay():db(bu(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(rt+5)%7:de.w+de.U*7-(rt+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,fb(de)):db(de)}}function L(te,Te,Oe,de){for(var Nt=0,Ue=Te.length,rt=Oe.length,qt,or;Nt<Ue;){if(de>=rt)return-1;if(qt=Te.charCodeAt(Nt++),qt===37){if(qt=Te.charAt(Nt++),or=k[qt in LN?Te.charAt(Nt++):qt],!or||(de=or(te,Oe,de))<0)return-1}else if(qt!=Oe.charCodeAt(de++))return-1}return de}function B(te,Te,Oe){var de=f.exec(Te.slice(Oe));return de?(te.p=h.get(de[0].toLowerCase()),Oe+de[0].length):-1}function H(te,Te,Oe){var de=y.exec(Te.slice(Oe));return de?(te.w=w.get(de[0].toLowerCase()),Oe+de[0].length):-1}function z(te,Te,Oe){var de=m.exec(Te.slice(Oe));return de?(te.w=v.get(de[0].toLowerCase()),Oe+de[0].length):-1}function $(te,Te,Oe){var de=_.exec(Te.slice(Oe));return de?(te.m=C.get(de[0].toLowerCase()),Oe+de[0].length):-1}function ne(te,Te,Oe){var de=x.exec(Te.slice(Oe));return de?(te.m=S.get(de[0].toLowerCase()),Oe+de[0].length):-1}function Q(te,Te,Oe){return L(te,e,Te,Oe)}function ie(te,Te,Oe){return L(te,n,Te,Oe)}function M(te,Te,Oe){return L(te,r,Te,Oe)}function I(te){return o[te.getDay()]}function G(te){return a[te.getDay()]}function R(te){return u[te.getMonth()]}function oe(te){return c[te.getMonth()]}function F(te){return i[+(te.getHours()>=12)]}function V(te){return 1+~~(te.getMonth()/3)}function ce(te){return o[te.getUTCDay()]}function ue(te){return a[te.getUTCDay()]}function ge(te){return u[te.getUTCMonth()]}function Ee(te){return c[te.getUTCMonth()]}function he(te){return i[+(te.getUTCHours()>=12)]}function lt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Te=N(te+="",j);return Te.toString=function(){return te},Te},parse:function(te){var Te=P(te+="",!1);return Te.toString=function(){return te},Te},utcFormat:function(te){var Te=N(te+="",T);return Te.toString=function(){return te},Te},utcParse:function(te){var Te=P(te+="",!0);return Te.toString=function(){return te},Te}}}var LN={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,KK=/^%/,VK=/[\\^$*+?|[\]().{}]/g;function tt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function YK(t){return t.replace(VK,"\\$&")}function xu(t){return new RegExp("^(?:"+t.map(YK).join("|")+")","i")}function wu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function WK(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function XK(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function QK(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ZK(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function JK(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function IN(t,e,n){var r=Mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function zN(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eV(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tV(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nV(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function BN(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rV(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function FN(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function iV(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function aV(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sV(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oV(t,e,n){var r=Mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lV(t,e,n){var r=KK.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cV(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function uV(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function UN(t,e){return tt(t.getDate(),e,2)}function dV(t,e){return tt(t.getHours(),e,2)}function fV(t,e){return tt(t.getHours()%12||12,e,2)}function hV(t,e){return tt(1+Ud.count(Oa(t),t),e,3)}function GR(t,e){return tt(t.getMilliseconds(),e,3)}function mV(t,e){return GR(t,e)+"000"}function pV(t,e){return tt(t.getMonth()+1,e,2)}function gV(t,e){return tt(t.getMinutes(),e,2)}function vV(t,e){return tt(t.getSeconds(),e,2)}function yV(t){var e=t.getDay();return e===0?7:e}function bV(t,e){return tt(Xp.count(Oa(t)-1,t),e,2)}function KR(t){var e=t.getDay();return e>=4||e===0?ec(t):ec.ceil(t)}function xV(t,e){return t=KR(t),tt(ec.count(Oa(t),t)+(Oa(t).getDay()===4),e,2)}function wV(t){return t.getDay()}function SV(t,e){return tt(ep.count(Oa(t)-1,t),e,2)}function AV(t,e){return tt(t.getFullYear()%100,e,2)}function EV(t,e){return t=KR(t),tt(t.getFullYear()%100,e,2)}function _V(t,e){return tt(t.getFullYear()%1e4,e,4)}function CV(t,e){var n=t.getDay();return t=n>=4||n===0?ec(t):ec.ceil(t),tt(t.getFullYear()%1e4,e,4)}function jV(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function $N(t,e){return tt(t.getUTCDate(),e,2)}function kV(t,e){return tt(t.getUTCHours(),e,2)}function NV(t,e){return tt(t.getUTCHours()%12||12,e,2)}function TV(t,e){return tt(1+Wp.count(Pa(t),t),e,3)}function VR(t,e){return tt(t.getUTCMilliseconds(),e,3)}function OV(t,e){return VR(t,e)+"000"}function PV(t,e){return tt(t.getUTCMonth()+1,e,2)}function MV(t,e){return tt(t.getUTCMinutes(),e,2)}function DV(t,e){return tt(t.getUTCSeconds(),e,2)}function RV(t){var e=t.getUTCDay();return e===0?7:e}function LV(t,e){return tt(Qp.count(Pa(t)-1,t),e,2)}function YR(t){var e=t.getUTCDay();return e>=4||e===0?tc(t):tc.ceil(t)}function IV(t,e){return t=YR(t),tt(tc.count(Pa(t),t)+(Pa(t).getUTCDay()===4),e,2)}function zV(t){return t.getUTCDay()}function BV(t,e){return tt(tp.count(Pa(t)-1,t),e,2)}function FV(t,e){return tt(t.getUTCFullYear()%100,e,2)}function UV(t,e){return t=YR(t),tt(t.getUTCFullYear()%100,e,2)}function $V(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function HV(t,e){var n=t.getUTCDay();return t=n>=4||n===0?tc(t):tc.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function qV(){return"+0000"}function HN(){return"%"}function qN(t){return+t}function GN(t){return Math.floor(+t/1e3)}var xl,WR,XR;GV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GV(t){return xl=GK(t),WR=xl.format,xl.parse,XR=xl.utcFormat,xl.utcParse,xl}function KV(t){return new Date(t)}function VV(t){return t instanceof Date?+t:+new Date(+t)}function Pw(t,e,n,r,i,a,o,c,u,f){var h=yw(),m=h.invert,v=h.domain,y=f(".%L"),w=f(":%S"),x=f("%I:%M"),S=f("%I %p"),_=f("%a %d"),C=f("%b %d"),j=f("%B"),T=f("%Y");function k(N){return(u(N)<N?y:c(N)<N?w:o(N)<N?x:a(N)<N?S:r(N)<N?i(N)<N?_:C:n(N)<N?j:T)(N)}return h.invert=function(N){return new Date(m(N))},h.domain=function(N){return arguments.length?v(Array.from(N,VV)):v().map(KV)},h.ticks=function(N){var P=v();return t(P[0],P[P.length-1],N??10)},h.tickFormat=function(N,P){return P==null?k:f(P)},h.nice=function(N){var P=v();return(!N||typeof N.range!="function")&&(N=e(P[0],P[P.length-1],N??10)),N?v(LR(P,N)):h},h.copy=function(){return Fd(h,Pw(t,e,n,r,i,a,o,c,u,f))},h}function YV(){return ci.apply(Pw(HK,qK,Oa,Tw,Xp,Ud,kw,Cw,ro,WR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WV(){return ci.apply(Pw(UK,$K,Pa,Ow,Qp,Wp,Nw,jw,ro,XR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zp(){var t=0,e=1,n,r,i,a,o=nr,c=!1,u;function f(m){return m==null||isNaN(m=+m)?u:o(i===0?.5:(m=(a(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(o=m,f):o};function h(m){return function(v){var y,w;return arguments.length?([y,w]=v,o=m(y,w),f):[o(0),o(1)]}}return f.range=h(cc),f.rangeRound=h(vw),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function Ts(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function QR(){var t=Ns(Zp()(nr));return t.copy=function(){return Ts(t,QR())},za.apply(t,arguments)}function ZR(){var t=ww(Zp()).domain([1,10]);return t.copy=function(){return Ts(t,ZR()).base(t.base())},za.apply(t,arguments)}function JR(){var t=Sw(Zp());return t.copy=function(){return Ts(t,JR()).constant(t.constant())},za.apply(t,arguments)}function Mw(){var t=Aw(Zp());return t.copy=function(){return Ts(t,Mw()).exponent(t.exponent())},za.apply(t,arguments)}function XV(){return Mw.apply(null,arguments).exponent(.5)}function eL(){var t=[],e=nr;function n(r){if(r!=null&&!isNaN(r=+r))return e((zd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ss),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>R7(t,a/r))},n.copy=function(){return eL(e).domain(t)},za.apply(n,arguments)}function Jp(){var t=0,e=.5,n=1,r=1,i,a,o,c,u,f=nr,h,m=!1,v;function y(x){return isNaN(x=+x)?v:(x=.5+((x=+h(x))-a)*(r*x<r*a?c:u),f(m?Math.max(0,Math.min(1,x)):x))}y.domain=function(x){return arguments.length?([t,e,n]=x,i=h(t=+t),a=h(e=+e),o=h(n=+n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(x){return arguments.length?(m=!!x,y):m},y.interpolator=function(x){return arguments.length?(f=x,y):f};function w(x){return function(S){var _,C,j;return arguments.length?([_,C,j]=S,f=lK(x,[_,C,j]),y):[f(0),f(.5),f(1)]}}return y.range=w(cc),y.rangeRound=w(vw),y.unknown=function(x){return arguments.length?(v=x,y):v},function(x){return h=x,i=x(t),a=x(e),o=x(n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function tL(){var t=Ns(Jp()(nr));return t.copy=function(){return Ts(t,tL())},za.apply(t,arguments)}function nL(){var t=ww(Jp()).domain([.1,1,10]);return t.copy=function(){return Ts(t,nL()).base(t.base())},za.apply(t,arguments)}function rL(){var t=Sw(Jp());return t.copy=function(){return Ts(t,rL()).constant(t.constant())},za.apply(t,arguments)}function Dw(){var t=Aw(Jp());return t.copy=function(){return Ts(t,Dw()).exponent(t.exponent())},za.apply(t,arguments)}function QV(){return Dw.apply(null,arguments).exponent(.5)}const Tu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mw,scaleDiverging:tL,scaleDivergingLog:nL,scaleDivergingPow:Dw,scaleDivergingSqrt:QV,scaleDivergingSymlog:rL,scaleIdentity:RR,scaleImplicit:Hx,scaleLinear:DR,scaleLog:IR,scaleOrdinal:hw,scalePoint:z7,scalePow:Ew,scaleQuantile:FR,scaleQuantize:UR,scaleRadial:BR,scaleSequential:QR,scaleSequentialLog:ZR,scaleSequentialPow:Mw,scaleSequentialQuantile:eL,scaleSequentialSqrt:XV,scaleSequentialSymlog:JR,scaleSqrt:OK,scaleSymlog:zR,scaleThreshold:$R,scaleTime:YV,scaleUtc:WV,tickFormat:MR},Symbol.toStringTag,{value:"Module"}));var Os=t=>t.chartData,eg=Y([Os],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Rw=(t,e,n,r)=>r?eg(t):Os(t);function _s(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(pn(e)&&pn(n))return!0}return!1}function KN(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function iL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(pn(n))i=n;else if(typeof n=="function")return;if(pn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(_s(o))return o}}function ZV(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(_s(r))return KN(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,c;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Se(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&rk.test(i)){var u=rk.exec(i);if(u==null||u[1]==null||e==null)o=void 0;else{var f=+u[1];o=e[0]-f}}else o=e?.[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(Se(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e?.[1]))}catch{}else if(typeof a=="string"&&ik.test(a)){var h=ik.exec(a);if(h==null||h[1]==null||e==null)c=void 0;else{var m=+h[1];c=e[1]+m}}else c=e?.[1];var v=[o,c];if(_s(v))return e==null?v:KN(v,e,n)}}}var uc=1e9,JV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Iw,Dt=!0,si="[DecimalError] ",po=si+"Invalid argument: ",Lw=si+"Exponent out of range: ",dc=Math.floor,eo=Math.pow,eY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr,Tn=1e7,kt=7,aL=9007199254740991,np=dc(aL/kt),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return _a(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return wt(_a(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return mn(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pr))throw Error(si+"NaN");if(n.s<1)throw Error(si+(n.s?"NaN":"-Infinity"));return n.eq(Pr)?new r(0):(Dt=!1,e=_a(fd(n,a),fd(t,a),a),Dt=!0,wt(e,i))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lL(e,t):sL(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(si+"NaN");return n.s?(Dt=!1,e=_a(n,t,0,1).times(t),Dt=!0,n.minus(e)):wt(new r(n),i)};ye.naturalExponential=ye.exp=function(){return oL(this)};ye.naturalLogarithm=ye.ln=function(){return fd(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sL(e,t):lL(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(po+t);if(e=mn(i)+1,r=i.d.length-1,n=r*kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(si+"NaN")}for(t=mn(c),Dt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Hi(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=dc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(_a(c,a,o+2)).times(.5),Hi(a.d).slice(0,o)===(e=Hi(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(wt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;o+=4}return Dt=!0,wt(r,n)};ye.times=ye.mul=function(t){var e,n,r,i,a,o,c,u,f,h=this,m=h.constructor,v=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,u=v.length,f=y.length,u<f&&(a=v,v=y,y=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=u+r;i>r;)c=a[i]+y[r]*v[i-r-1]+e,a[i--]=c%Tn|0,e=c/Tn|0;a[i]=(a[i]+e)%Tn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Dt?wt(t,m.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wi(t,0,uc),e===void 0?e=r.rounding:Wi(e,0,8),wt(n,t+mn(n)+1,e))};ye.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ao(r,!0):(Wi(t,0,uc),e===void 0?e=i.rounding:Wi(e,0,8),r=wt(new i(r),t+1,e),n=Ao(r,!0,t+1)),n};ye.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ao(i):(Wi(t,0,uc),e===void 0?e=a.rounding:Wi(e,0,8),r=wt(new a(i),t+mn(i)+1,e),n=Ao(r.abs(),!1,t+mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return wt(new e(t),mn(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,r,i,a,o,c=this,u=c.constructor,f=12,h=+(t=new u(t));if(!t.s)return new u(Pr);if(c=new u(c),!c.s){if(t.s<1)throw Error(si+"Infinity");return c}if(c.eq(Pr))return c;if(r=u.precision,t.eq(Pr))return wt(c,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=c.s,o){if((n=h<0?-h:h)<=aL){for(i=new u(Pr),e=Math.ceil(r/kt+4),Dt=!1;n%2&&(i=i.times(c),YN(i.d,e)),n=dc(n/2),n!==0;)c=c.times(c),YN(c.d,e);return Dt=!0,t.s<0?new u(Pr).div(i):wt(i,r)}}else if(a<0)throw Error(si+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Dt=!1,i=t.times(fd(c,r+f)),Dt=!0,i=oL(i),i.s=a,i};ye.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=mn(i),r=Ao(i,n<=a.toExpNeg||n>=a.toExpPos)):(Wi(t,1,uc),e===void 0?e=a.rounding:Wi(e,0,8),i=wt(new a(i),t,e),n=mn(i),r=Ao(i,t<=n||n<=a.toExpNeg,t)),r};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wi(t,1,uc),e===void 0?e=r.rounding:Wi(e,0,8)),wt(new r(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mn(t),n=t.constructor;return Ao(t,e<=n.toExpNeg||e>=n.toExpPos)};function sL(t,e){var n,r,i,a,o,c,u,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Dt?wt(e,m):e;if(u=t.d,f=e.d,o=t.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,c=f.length):(r=f,i=o,c=u.length),o=Math.ceil(m/kt),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=u.length,a=f.length,c-a<0&&(a=c,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/Tn|0,u[a]%=Tn;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=i,Dt?wt(e,m):e}function Wi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(po+t)}function Hi(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=kt-r.length,n&&(a+=ps(n)),a+=r;o=t[e],r=o+"",n=kt-r.length,n&&(a+=ps(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var _a=(function(){function t(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%Tn|0,o=a/Tn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Tn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,u,f,h,m,v,y,w,x,S,_,C,j,T,k,N,P,L,B=r.constructor,H=r.s==i.s?1:-1,z=r.d,$=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(si+"Division by zero");for(u=r.e-i.e,P=$.length,k=z.length,y=new B(H),w=y.d=[],f=0;$[f]==(z[f]||0);)++f;if($[f]>(z[f]||0)&&--u,a==null?C=a=B.precision:o?C=a+(mn(r)-mn(i))+1:C=a,C<0)return new B(0);if(C=C/kt+2|0,f=0,P==1)for(h=0,$=$[0],C++;(f<k||h)&&C--;f++)j=h*Tn+(z[f]||0),w[f]=j/$|0,h=j%$|0;else{for(h=Tn/($[0]+1)|0,h>1&&($=t($,h),z=t(z,h),P=$.length,k=z.length),T=P,x=z.slice(0,P),S=x.length;S<P;)x[S++]=0;L=$.slice(),L.unshift(0),N=$[0],$[1]>=Tn/2&&++N;do h=0,c=e($,x,P,S),c<0?(_=x[0],P!=S&&(_=_*Tn+(x[1]||0)),h=_/N|0,h>1?(h>=Tn&&(h=Tn-1),m=t($,h),v=m.length,S=x.length,c=e(m,x,v,S),c==1&&(h--,n(m,P<v?L:$,v))):(h==0&&(c=h=1),m=$.slice()),v=m.length,v<S&&m.unshift(0),n(x,m,S),c==-1&&(S=x.length,c=e($,x,P,S),c<1&&(h++,n(x,P<S?L:$,S))),S=x.length):c===0&&(h++,x=[0]),w[f++]=h,c&&x[0]?x[S++]=z[T]||0:(x=[z[T]],S=1);while((T++<k||x[0]!==void 0)&&C--)}return w[0]||w.shift(),y.e=u,wt(y,o?a+mn(y)+1:a)}})();function oL(t,e){var n,r,i,a,o,c,u=0,f=0,h=t.constructor,m=h.precision;if(mn(t)>16)throw Error(Lw+mn(t));if(!t.s)return new h(Pr);for(Dt=!1,c=m,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(eo(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new h(Pr),h.precision=c;;){if(i=wt(i.times(t),c),n=n.times(++u),o=a.plus(_a(i,n,c)),Hi(o.d).slice(0,c)===Hi(a.d).slice(0,c)){for(;f--;)a=wt(a.times(a),c);return h.precision=m,e==null?(Dt=!0,wt(a,m)):a}a=o}}function mn(t){for(var e=t.e*kt,n=t.d[0];n>=10;n/=10)e++;return e}function hb(t,e,n){if(e>t.LN10.sd())throw Dt=!0,n&&(t.precision=n),Error(si+"LN10 precision limit exceeded");return wt(new t(t.LN10),e)}function ps(t){for(var e="";t--;)e+="0";return e}function fd(t,e){var n,r,i,a,o,c,u,f,h,m=1,v=10,y=t,w=y.d,x=y.constructor,S=x.precision;if(y.s<1)throw Error(si+(y.s?"NaN":"-Infinity"));if(y.eq(Pr))return new x(0);if(e==null?(Dt=!1,f=S):f=e,y.eq(10))return e==null&&(Dt=!0),hb(x,f);if(f+=v,x.precision=f,n=Hi(w),r=n.charAt(0),a=mn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Hi(y.d),r=n.charAt(0),m++;a=mn(y),r>1?(y=new x("0."+n),a++):y=new x(r+"."+n.slice(1))}else return u=hb(x,f+2,S).times(a+""),y=fd(new x(r+"."+n.slice(1)),f-v).plus(u),x.precision=S,e==null?(Dt=!0,wt(y,S)):y;for(c=o=y=_a(y.minus(Pr),y.plus(Pr),f),h=wt(y.times(y),f),i=3;;){if(o=wt(o.times(h),f),u=c.plus(_a(o,new x(i),f)),Hi(u.d).slice(0,f)===Hi(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(hb(x,f+2,S).times(a+""))),c=_a(c,new x(m),f),x.precision=S,e==null?(Dt=!0,wt(c,S)):c;c=u,i+=2}}function VN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=dc(n/kt),t.d=[],r=(n+1)%kt,n<0&&(r+=kt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=kt;r<i;)t.d.push(+e.slice(r,r+=kt));e=e.slice(r),r=kt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dt&&(t.e>np||t.e<-np))throw Error(Lw+n)}else t.s=0,t.e=0,t.d=[0];return t}function wt(t,e,n){var r,i,a,o,c,u,f,h,m=t.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=kt,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/kt),a=m.length,h>=a)return t;for(f=a=m[h],o=1;a>=10;a/=10)o++;r%=kt,i=r-kt+o}if(n!==void 0&&(a=eo(10,o-i-1),c=f/a%10|0,u=e<0||m[h+1]!==void 0||f%a,u=n<4?(c||u)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(r>0?i>0?f/eo(10,o-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return u?(a=mn(t),m.length=1,e=e-a-1,m[0]=eo(10,(kt-e%kt)%kt),t.e=dc(-e/kt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=eo(10,kt-r),m[h]=i>0?(f/eo(10,o-i)%eo(10,i)|0)*a:0),u)for(;;)if(h==0){(m[0]+=a)==Tn&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=Tn)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(Dt&&(t.e>np||t.e<-np))throw Error(Lw+mn(t));return t}function lL(t,e){var n,r,i,a,o,c,u,f,h,m,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Dt?wt(e,y):e;if(u=t.d,m=e.d,r=e.e,f=t.e,u=u.slice(),o=f-r,o){for(h=o<0,h?(n=u,o=-o,c=m.length):(n=m,r=f,c=u.length),i=Math.max(Math.ceil(y/kt),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=m.length,h=i<c,h&&(c=i),i=0;i<c;i++)if(u[i]!=m[i]){h=u[i]<m[i];break}o=0}for(h&&(n=u,u=m,m=n,e.s=-e.s),c=u.length,i=m.length-c;i>0;--i)u[c++]=0;for(i=m.length;i>o;){if(u[--i]<m[i]){for(a=i;a&&u[--a]===0;)u[a]=Tn-1;--u[a],u[i]+=Tn}u[i]-=m[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,Dt?wt(e,y):e):new v(0)}function Ao(t,e,n){var r,i=mn(t),a=Hi(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ps(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ps(-i-1)+a,n&&(r=n-o)>0&&(a+=ps(r))):i>=o?(a+=ps(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ps(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ps(r))),t.s<0?"-"+a:a}function YN(t,e){if(t.length>e)return t.length=e,!0}function cL(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(po+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return VN(o,a.toString())}else if(typeof a!="string")throw Error(po+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,eY.test(a))VN(o,a);else throw Error(po+a)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=cL,i.config=i.set=tY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function tY(t){if(!t||typeof t!="object")throw Error(si+"Object expected");var e,n,r,i=["precision",1,uc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(dc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(po+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(po+n+": "+r);return this}var Iw=cL(JV);Pr=new Iw(1);const ft=Iw;var nY=t=>t,uL={},dL=t=>t===uL,WN=t=>function e(){return arguments.length===0||arguments.length===1&&dL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},fL=(t,e)=>t===1?e:WN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==uL).length;return a>=t?e(...r):fL(t-a,WN(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=r.map(h=>dL(h)?c.shift():h);return e(...f,...c)}))}),rY=t=>fL(t.length,t),Vx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},iY=rY((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),aY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return nY;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,u)=>u(c),a(...arguments))}};function hL(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function mL(t,e,n){for(var r=new ft(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var pL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},gL=(t,e,n)=>{if(t.lte(0))return new ft(0);var r=hL(t.toNumber()),i=new ft(10).pow(r),a=t.div(i),o=r!==1?.05:.1,c=new ft(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=c.mul(i);return e?new ft(u.toNumber()):new ft(Math.ceil(u.toNumber()))},sY=(t,e,n)=>{var r=new ft(1),i=new ft(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ft(10).pow(hL(t)-1),i=new ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):n||(i=new ft(Math.floor(t)));var o=Math.floor((e-1)/2),c=aY(iY(u=>i.add(new ft(u-o).mul(r)).toNumber()),Vx);return c(0,e)},vL=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var o=gL(new ft(n).sub(e).div(r-1),i,a),c;e<=0&&n>=0?c=new ft(0):(c=new ft(e).add(n).div(2),c=c.sub(new ft(c).mod(o)));var u=Math.ceil(c.sub(e).div(o).toNumber()),f=Math.ceil(new ft(n).sub(c).div(o).toNumber()),h=u+f+1;return h>r?vL(e,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:o,tickMin:c.sub(new ft(u).mul(o)),tickMax:c.add(new ft(f).mul(o))})},oY=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,u]=pL([n,r]);if(c===-1/0||u===1/0){var f=u===1/0?[c,...Vx(0,i-1).map(()=>1/0)]:[...Vx(0,i-1).map(()=>-1/0),u];return n>r?f.reverse():f}if(c===u)return sY(c,i,a);var{step:h,tickMin:m,tickMax:v}=vL(c,u,o,a,0),y=mL(m,v.add(new ft(.1).mul(h)),h);return n>r?y.reverse():y},lY=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=pL([r,i]);if(o===-1/0||c===1/0)return[r,i];if(o===c)return[o];var u=Math.max(n,2),f=gL(new ft(c).sub(o).div(u-1),a,0),h=[...mL(new ft(o),new ft(c),f),c];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?h.reverse():h},cY=t=>t.rootProps.barCategoryGap,$d=t=>t.rootProps.stackOffset,yL=t=>t.rootProps.reverseStackOrder,zw=t=>t.options.chartName,Bw=t=>t.rootProps.syncId,bL=t=>t.rootProps.syncMethod,Fw=t=>t.options.eventEmitter,nn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Fi={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:nn.axis},yr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:nn.axis},tg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},uY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Fi.angleAxisId,includeHidden:!1,name:void 0,reversed:Fi.reversed,scale:Fi.scale,tick:Fi.tick,tickCount:void 0,ticks:void 0,type:Fi.type,unit:void 0},dY={allowDataOverflow:yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yr.scale,tick:yr.tick,tickCount:yr.tickCount,ticks:void 0,type:yr.type,unit:void 0},fY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fi.scale,tick:Fi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},hY={allowDataOverflow:yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yr.scale,tick:yr.tick,tickCount:yr.tickCount,ticks:void 0,type:"category",unit:void 0},fc=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?fY:uY,Hd=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?hY:dY,ng=t=>t.polarOptions,Uw=Y([La,Ia,Pn],yR),xL=Y([ng,Uw],(t,e)=>{if(t!=null)return Dr(t.innerRadius,e,0)}),wL=Y([ng,Uw],(t,e)=>{if(t!=null)return Dr(t.outerRadius,e,e*.8)}),mY=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},SL=Y([ng],mY),pY=Y([fc,SL],tg),AL=Y([Uw,xL,wL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),gY=Y([Hd,AL],tg),hc=Y([nt,ng,xL,wL,La,Ia],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:c,startAngle:u,endAngle:f}=e;return{cx:Dr(o,i,i/2),cy:Dr(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),At=(t,e)=>e,qd=(t,e,n)=>n;function EL(t){return t?.id}function _L(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(c=>{var u,f=(u=c.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=EL(c);f.forEach((m,v)=>{var y=a==null||i?v:String(xt(m,a,null)),w=xt(m,c.dataKey,0),x;o.has(y)?x=o.get(y):x={},Object.assign(x,{[h]:w}),o.set(y,x)})}}),Array.from(o.values())}function $w(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var rg=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ig(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function vY(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Sn=t=>{var e=nt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},mc=t=>t.tooltip.settings.axisId;function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){yY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yY(t,e,n){return(e=bY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bY(t){var e=xY(t,"string");return typeof e=="symbol"?e:e+""}function xY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yx=[0,"auto"],Cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},CL=(t,e)=>t.cartesianAxis.xAxis[e],Ba=(t,e)=>{var n=CL(t,e);return n??Cn},jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Yx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Md},jL=(t,e)=>t.cartesianAxis.yAxis[e],Fa=(t,e)=>{var n=jL(t,e);return n??jn},wY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Hw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??wY},Ht=(t,e,n)=>{switch(e){case"xAxis":return Ba(t,n);case"yAxis":return Fa(t,n);case"zAxis":return Hw(t,n);case"angleAxis":return fc(t,n);case"radiusAxis":return Hd(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},SY=(t,e,n)=>{switch(e){case"xAxis":return Ba(t,n);case"yAxis":return Fa(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},pc=(t,e,n)=>{switch(e){case"xAxis":return Ba(t,n);case"yAxis":return Fa(t,n);case"angleAxis":return fc(t,n);case"radiusAxis":return Hd(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function qw(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var NL=t=>t.graphicalItems.cartesianItems,AY=Y([At,qd],qw),Gw=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Gd=Y([NL,Ht,AY],Gw,{memoizeOptions:{resultEqualityCheck:ig}}),TL=Y([Gd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter($w)),OL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),EY=Y([Gd],OL),Kw=t=>t.map(e=>e.data).filter(Boolean).flat(1),_Y=Y([Gd],Kw,{memoizeOptions:{resultEqualityCheck:ig}}),Vw=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Yw=Y([_Y,Rw],Vw),Ww=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:xt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:xt(i,r)}))):t.map(r=>({value:r})),ag=Y([Yw,Ht,Gd],Ww);function PL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function sm(t){if(Vi(t)||t instanceof Date){var e=Number(t);if(pn(e))return e}}function QN(t){if(Array.isArray(t)){var e=[sm(t[0]),sm(t[1])];return _s(e)?e:void 0}var n=sm(t);if(n!=null)return[n,n]}function Ma(t){return t.map(sm).filter(S$)}function CY(t,e,n){return!n||typeof e!="number"||Ki(e)?[]:n.length?Ma(n.flatMap(r=>{var i=xt(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!pn(a)||!pn(o)))return[e-a,e+o]})):[]}var An=t=>{var e=Sn(t),n=mc(t);return pc(t,e,n)},Kd=Y([An],t=>t?.dataKey),jY=Y([TL,Rw,An],_L),ML=(t,e,n,r)=>{var i={},a=e.reduce((o,c)=>{if(c.stackId==null)return o;var u=o[c.stackId];return u==null&&(u=[]),u.push(c),o[c.stackId]=u,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[c,u]=o,f=r?[...u].reverse():u,h=f.map(EL);return[c,{stackedData:Vq(t,h,n),graphicalItems:f}]}))},kY=Y([jY,TL,$d,yL],ML),DL=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var o=Xq(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},NY=Y([Ht],t=>t.allowDataOverflow),Xw=t=>{var e;if(t==null||!("domain"in t))return Yx;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ma(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Yx},Qw=Y([Ht],Xw),Zw=Y([Qw,NY],iL),TY=Y([kY,Os,At,Zw],DL,{memoizeOptions:{resultEqualityCheck:rg}}),sg=t=>t.errorBars,OY=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>PL(n,r)),ip=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},Jw=(t,e,n,r,i)=>{var a,o;if(n.length>0&&t.forEach(c=>{n.forEach(u=>{var f,h,m=(f=r[u.id])===null||f===void 0?void 0:f.filter(_=>PL(i,_)),v=xt(c,(h=e.dataKey)!==null&&h!==void 0?h:u.dataKey),y=CY(c,v,m);if(y.length>=2){var w=Math.min(...y),x=Math.max(...y);(a==null||w<a)&&(a=w),(o==null||x>o)&&(o=x)}var S=QN(v);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var u=QN(xt(c,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),pn(a)&&pn(o))return[a,o]},PY=Y([Yw,Ht,EY,sg,At],Jw,{memoizeOptions:{resultEqualityCheck:rg}});function MY(t){var{value:e}=t;if(Vi(e)||e instanceof Date)return e}var DY=(t,e,n)=>{var r=t.map(MY).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&QM(r))?AR(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},RL=t=>t.referenceElements.dots,gc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),RY=Y([RL,At,qd],gc),LL=t=>t.referenceElements.areas,LY=Y([LL,At,qd],gc),IL=t=>t.referenceElements.lines,IY=Y([IL,At,qd],gc),zL=(t,e)=>{if(t!=null){var n=Ma(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},zY=Y(RY,At,zL),BL=(t,e)=>{if(t!=null){var n=Ma(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},BY=Y([LY,At],BL);function FY(t){var e;if(t.x!=null)return Ma([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ma(n)}function UY(t){var e;if(t.y!=null)return Ma([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ma(n)}var FL=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?FY(r):UY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$Y=Y([IY,At],FL),HY=Y(zY,$Y,BY,(t,e,n)=>ip(t,n,e)),eS=(t,e,n,r,i,a,o,c)=>{if(n!=null)return n;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=u?ip(r,a,i):ip(a,i);return ZV(e,f,t.allowDataOverflow)},qY=Y([Ht,Qw,Zw,TY,PY,HY,nt,At],eS,{memoizeOptions:{resultEqualityCheck:rg}}),GY=[0,1],tS=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:u}=t,f=Ra(e,a);if(f&&c==null){var h;return AR(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?DY(r,t,f):i==="expand"?GY:o}},nS=Y([Ht,nt,Yw,ag,$d,At,qY],tS),UL=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(kd(a));return c in Tu?c:"point"}}},Ps=Y([Ht,nt,kL,zw,At],UL);function KY(t){if(t!=null){if(t in Tu)return Tu[t]();var e="scale".concat(kd(t));if(e in Tu)return Tu[e]()}}function og(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=KY(e);if(i!=null){var a=i.domain(n).range(r);return Hq(a),a}}}var rS=(t,e,n)=>{var r=Xw(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&_s(t))return oY(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&_s(t))return lY(t,e.tickCount,e.allowDecimals)}},iS=Y([nS,pc,Ps],rS),aS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&_s(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],c=n[n.length-1];return[Math.min(i,a),Math.max(o,c)]}return e},VY=Y([Ht,nS,iS,At],aS),YY=Y(ag,Ht,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ma(t.map(m=>m.value))).sort((m,v)=>m-v),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var c=0;c<r.length-1;c++){var u=r[c],f=r[c+1];if(!(u==null||f==null)){var h=f-u;n=Math.min(n,h)}}return n/o}}),$L=Y(YY,nt,cY,Pn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!pn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Dr(n,t*a),c=t*a/2;return c-o-(c-o)/a*o}return 0}),WY=(t,e,n)=>{var r=Ba(t,e);return r==null||typeof r.padding!="string"?0:$L(t,"xAxis",e,n,r.padding)},XY=(t,e,n)=>{var r=Fa(t,e);return r==null||typeof r.padding!="string"?0:$L(t,"yAxis",e,n,r.padding)},QY=Y(Ba,WY,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),ZY=Y(Fa,XY,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),JY=Y([Pn,QY,Up,Fp,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),eW=Y([Pn,nt,ZY,Up,Fp,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Vd=(t,e,n,r)=>{var i;switch(e){case"xAxis":return JY(t,n,r);case"yAxis":return eW(t,n,r);case"zAxis":return(i=Hw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return SL(t);case"radiusAxis":return AL(t,n);default:return}},HL=Y([Ht,Vd],tg),lg=Y([Ht,Ps,VY,HL],og);Y([Gd,sg,At],OY);function qL(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var cg=(t,e)=>e,ug=(t,e,n)=>n,tW=Y(zp,cg,ug,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(qL)),nW=Y(Bp,cg,ug,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(qL)),GL=(t,e)=>({width:t.width,height:e.height}),rW=(t,e)=>{var n=typeof e.width=="number"?e.width:Md;return{width:n,height:t.height}},iW=Y(Pn,Ba,GL),aW=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},sW=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},oW=Y(Ia,Pn,tW,cg,ug,(t,e,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=GL(e,c);o==null&&(o=aW(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),lW=Y(La,Pn,nW,cg,ug,(t,e,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=rW(e,c);o==null&&(o=sW(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),cW=(t,e)=>{var n=Ba(t,e);if(n!=null)return oW(t,n.orientation,n.mirror)},uW=Y([Pn,Ba,cW,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),dW=(t,e)=>{var n=Fa(t,e);if(n!=null)return lW(t,n.orientation,n.mirror)},fW=Y([Pn,Fa,dW,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),hW=Y(Pn,Fa,(t,e)=>{var n=typeof e.width=="number"?e.width:Md;return{width:n,height:t.height}}),KL=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,c=Ra(t,r),u=e.map(f=>f.value);if(o&&c&&a==="category"&&i&&QM(u))return u}},Yd=Y([nt,ag,Ht,At],KL),sS=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Ra(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},oS=Y([nt,ag,pc,At],sS),ZN=Y([nt,SY,Ps,lg,Yd,oS,Vd,iS,At],(t,e,n,r,i,a,o,c,u)=>{if(e!=null){var f=Ra(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:r}}}),VL=(t,e,n,r,i,a,o,c,u)=>{if(!(e==null||r==null)){var f=Ra(t,u),{type:h,ticks:m,tickCount:v}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/y:0;w=u==="angleAxis"&&a!=null&&a.length>=2?Yn(a[0]-a[1])*2*w:w;var x=m||i;if(x){var S=x.map((_,C)=>{var j=o?o.indexOf(_):_;return{index:C,coordinate:r(j)+w,value:_,offset:w}});return S.filter(_=>pn(_.coordinate))}return f&&c?c.map((_,C)=>({coordinate:r(_)+w,value:_,index:C,offset:w})).filter(_=>pn(_.coordinate)):r.ticks?r.ticks(v).map(_=>({coordinate:r(_)+w,value:_,offset:w})):r.domain().map((_,C)=>({coordinate:r(_)+w,value:o?o[_]:_,index:C,offset:w}))}},YL=Y([nt,pc,Ps,lg,iS,Vd,Yd,oS,At],VL),WL=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Ra(t,o),{tickCount:u}=e,f=0;return f=o==="angleAxis"&&r?.length>=2?Yn(r[0]-r[1])*2*f:f,c&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}},XL=Y([nt,pc,lg,Vd,Yd,oS,At],WL),QL=Y(Ht,lg,(t,e)=>{if(!(t==null||e==null))return rp(rp({},t),{},{scale:e})}),mW=Y([Ht,Ps,nS,HL],og);Y((t,e,n)=>Hw(t,n),mW,(t,e)=>{if(!(t==null||e==null))return rp(rp({},t),{},{scale:e})});var pW=Y([nt,zp,Bp],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ZL=t=>t.options.defaultTooltipEventType,JL=t=>t.options.validateTooltipEventTypes;function e3(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function lS(t,e){var n=ZL(t),r=JL(t);return e3(e,n,r)}function gW(t){return me(e=>lS(e,t))}var t3=(t,e)=>{var n,r=Number(e);if(!(Ki(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},vW=t=>t.tooltip.settings,ys={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yW={itemInteraction:{click:ys,hover:ys},axisInteraction:{click:ys,hover:ys},keyboardInteraction:ys,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},n3=wr({name:"tooltip",initialState:yW,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Mt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=wi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Mt()},removeTooltipEntrySettings:{reducer(t,e){var n=wi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Mt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:bW,replaceTooltipEntrySettings:xW,removeTooltipEntrySettings:wW,setTooltipSettingsState:SW,setActiveMouseOverItemIndex:r3,mouseLeaveItem:AW,mouseLeaveChart:i3,setActiveClickItemIndex:EW,setMouseOverAxisIndex:a3,setMouseClickAxisIndex:_W,setSyncInteraction:Wx,setKeyboardInteraction:Xx}=n3.actions,CW=n3.reducer;function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){jW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jW(t,e,n){return(e=kW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kW(t){var e=NW(t,"string");return typeof e=="symbol"?e:e+""}function NW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TW(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function OW(t){return t.index!=null}var s3=(t,e,n,r)=>{if(e==null)return ys;var i=TW(t,e,n);if(i==null)return ys;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(OW(i)){if(a)return Ih(Ih({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ih(Ih({},ys),{},{coordinate:i.coordinate})};function PW(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function MW(t,e){var n=PW(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function DW(t,e,n){if(n==null||e==null)return!0;var r=xt(t,e);return r==null||!_s(n)?!0:MW(r,n)}var cS=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!pn(a))return i;var o=0,c=1/0;e.length>0&&(c=e.length-1);var u=Math.max(o,Math.min(a,c)),f=e[u];return f==null||DW(f,n,r)?String(u):null},o3=(t,e,n,r,i,a,o,c)=>{if(!(a==null||c==null)){var u=o[0],f=u==null?void 0:c(u.positions,a);if(f!=null)return f;var h=i?.[Number(a)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},l3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},Wd=t=>t.options.tooltipPayloadSearcher,vc=t=>t.tooltip;function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){RW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RW(t,e,n){return(e=LW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LW(t){var e=IW(t,"string");return typeof e=="symbol"?e:e+""}function IW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zW(t,e){return t??e}var c3=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:c,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,m=[];return t.reduce((v,y)=>{var w,{dataDefinedOnItem:x,settings:S}=y,_=zW(x,c),C=Array.isArray(_)?qD(_,f,h):_,j=(w=S?.dataKey)!==null&&w!==void 0?w:r,T=S?.nameKey,k;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?k=ZM(C,r,i):k=a(C,e,u,T),Array.isArray(k))k.forEach(P=>{var L=tT(tT({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(ak({tooltipEntrySettings:L,dataKey:P.dataKey,payload:P.payload,value:xt(P.payload,P.dataKey),name:P.name}))});else{var N;v.push(ak({tooltipEntrySettings:S,dataKey:j,payload:k,value:xt(k,j),name:(N=xt(k,T))!==null&&N!==void 0?N:S?.name}))}return v},m)}},uS=Y([An,nt,kL,zw,Sn],UL),BW=Y([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),FW=Y([Sn,mc],qw),yc=Y([BW,An,FW],Gw,{memoizeOptions:{resultEqualityCheck:ig}}),UW=Y([yc],t=>t.filter($w)),$W=Y([yc],Kw,{memoizeOptions:{resultEqualityCheck:ig}}),bc=Y([$W,Os],Vw),HW=Y([UW,Os,An],_L),dS=Y([bc,An,yc],Ww),u3=Y([An],Xw),qW=Y([An],t=>t.allowDataOverflow),d3=Y([u3,qW],iL),GW=Y([yc],t=>t.filter($w)),KW=Y([HW,GW,$d,yL],ML),VW=Y([KW,Os,Sn,d3],DL),YW=Y([yc],OL),WW=Y([bc,An,YW,sg,Sn],Jw,{memoizeOptions:{resultEqualityCheck:rg}}),XW=Y([RL,Sn,mc],gc),QW=Y([XW,Sn],zL),ZW=Y([LL,Sn,mc],gc),JW=Y([ZW,Sn],BL),eX=Y([IL,Sn,mc],gc),tX=Y([eX,Sn],FL),nX=Y([QW,tX,JW],ip),rX=Y([An,u3,d3,VW,WW,nX,nt,Sn],eS),Xd=Y([An,nt,bc,dS,$d,Sn,rX],tS),iX=Y([Xd,An,uS],rS),aX=Y([An,Xd,iX,Sn],aS),f3=t=>{var e=Sn(t),n=mc(t),r=!1;return Vd(t,e,n,r)},h3=Y([An,f3],tg),m3=Y([An,uS,aX,h3],og),sX=Y([nt,dS,An,Sn],KL),oX=Y([nt,dS,An,Sn],sS),lX=(t,e,n,r,i,a,o,c)=>{if(e){var{type:u}=e,f=Ra(t,c);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=c==="angleAxis"&&i!=null&&i?.length>=2?Yn(i[0]-i[1])*2*m:m,f&&o?o.map((v,y)=>({coordinate:r(v)+m,value:v,index:y,offset:m})):r.domain().map((v,y)=>({coordinate:r(v)+m,value:a?a[v]:v,index:y,offset:m}))}}},Ua=Y([nt,An,uS,m3,f3,sX,oX,Sn],lX),fS=Y([ZL,JL,vW],(t,e,n)=>e3(n.shared,t,e)),p3=t=>t.tooltip.settings.trigger,hS=t=>t.tooltip.settings.defaultIndex,Qd=Y([vc,fS,p3,hS],s3),nc=Y([Qd,bc,Kd,Xd],cS),g3=Y([Ua,nc],t3),v3=Y([Qd],t=>{if(t)return t.dataKey}),cX=Y([Qd],t=>{if(t)return t.graphicalItemId}),y3=Y([vc,fS,p3,hS],l3),uX=Y([La,Ia,nt,Pn,Ua,hS,y3,Wd],o3),dX=Y([Qd,uX],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),fX=Y([Qd],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),hX=Y([y3,nc,Os,Kd,g3,Wd,fS],c3),mX=Y([hX],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){pX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pX(t,e,n){return(e=gX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gX(t){var e=vX(t,"string");return typeof e=="symbol"?e:e+""}function vX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yX=()=>me(An),bX=()=>{var t=yX(),e=me(Ua),n=me(m3);return Xl(!t||!n?void 0:rT(rT({},t),{},{scale:n}),e)};function iT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(n),!0).forEach(function(r){xX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xX(t,e,n){return(e=wX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wX(t){var e=SX(t,"string");return typeof e=="symbol"?e:e+""}function SX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AX=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},EX=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:o}=r;return wl(wl(wl({},r),ot(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:u}=r;return wl(wl(wl({},r),ot(r.cx,r.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function _X(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var b3=(t,e,n,r,i)=>{var a,o=(a=e?.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var u,f,h,m,v,y=c>0?(u=n[c-1])===null||u===void 0?void 0:u.coordinate:(f=n[o-1])===null||f===void 0?void 0:f.coordinate,w=(h=n[c])===null||h===void 0?void 0:h.coordinate,x=c>=o-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(v=n[c+1])===null||v===void 0?void 0:v.coordinate,S=void 0;if(!(y==null||w==null||x==null))if(Yn(w-y)!==Yn(x-w)){var _=[];if(Yn(x-w)===Yn(i[1]-i[0])){S=x;var C=w+i[1]-i[0];_[0]=Math.min(C,(C+y)/2),_[1]=Math.max(C,(C+y)/2)}else{S=y;var j=x+i[1]-i[0];_[0]=Math.min(w,(j+w)/2),_[1]=Math.max(w,(j+w)/2)}var T=[Math.min(w,(S+w)/2),Math.max(w,(S+w)/2)];if(t>T[0]&&t<=T[1]||t>=_[0]&&t<=_[1]){var k;return(k=n[c])===null||k===void 0?void 0:k.index}}else{var N=Math.min(y,x),P=Math.max(y,x);if(t>(N+w)/2&&t<=(P+w)/2){var L;return(L=n[c])===null||L===void 0?void 0:L.index}}}else if(e)for(var B=0;B<o;B++){var H=e[B];if(H!=null){var z=e[B+1],$=e[B-1];if(B===0&&z!=null&&t<=(H.coordinate+z.coordinate)/2||B===o-1&&$!=null&&t>(H.coordinate+$.coordinate)/2||B>0&&B<o-1&&$!=null&&z!=null&&t>(H.coordinate+$.coordinate)/2&&t<=(H.coordinate+z.coordinate)/2)return H.index}}return-1},CX=()=>me(zw),mS=(t,e)=>e,x3=(t,e,n)=>n,pS=(t,e,n,r)=>r,jX=Y(Ua,t=>kp(t,e=>e.coordinate)),gS=Y([vc,mS,x3,pS],s3),vS=Y([gS,bc,Kd,Xd],cS),kX=(t,e,n)=>{if(e!=null){var r=vc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},w3=Y([vc,mS,x3,pS],l3),ap=Y([La,Ia,nt,Pn,Ua,pS,w3,Wd],o3),NX=Y([gS,ap],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),S3=Y([Ua,vS],t3),TX=Y([w3,vS,Os,Kd,S3,Wd,mS],c3),OX=Y([gS,vS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),PX=(t,e,n,r,i,a,o)=>{if(!(!t||!n||!r||!i)&&_X(t,o)){var c=Qq(t,e),u=b3(c,a,i,n,r),f=AX(e,i,u,t);return{activeIndex:String(u),activeCoordinate:f}}},MX=(t,e,n,r,i,a,o)=>{if(!(!t||!r||!i||!a||!n)){var c=m7(t,n);if(c){var u=Zq(c,e),f=b3(u,o,a,r,i),h=EX(e,a,f,c);return{activeIndex:String(f),activeCoordinate:h}}}},DX=(t,e,n,r,i,a,o,c)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?PX(t,e,r,i,a,o,c):MX(t,e,n,r,i,a,o)},RX=Y(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),LX=Y(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(nn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:vY}});function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(r){IX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e,n){return(e=zX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zX(t){var e=BX(t,"string");return typeof e=="symbol"?e:e+""}function BX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FX={},UX={zIndexMap:Object.values(nn).reduce((t,e)=>sT(sT({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),FX)},$X=new Set(Object.values(nn));function HX(t){return $X.has(t)}var A3=wr({name:"zIndex",initialState:UX,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Mt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!HX(n)&&delete t.zIndexMap[n])},prepare:Mt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Mt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Mt()}}}),{registerZIndexPortal:qX,unregisterZIndexPortal:GX,registerZIndexPortalElement:KX,unregisterZIndexPortalElement:VX}=A3.actions,YX=A3.reducer;function sr(t){var{zIndex:e,children:n}=t,r=NG(),i=r&&e!==void 0&&e!==0,a=Wn(),o=yt();A.useLayoutEffect(()=>i?(o(qX({zIndex:e})),()=>{o(GX({zIndex:e}))}):Nd,[o,e,i]);var c=me(u=>RX(u,e,a));return i?c?P1.createPortal(n,c):null:n}function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(null,arguments)}function oT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(n),!0).forEach(function(r){WX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e,n){return(e=XX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XX(t){var e=QX(t,"string");return typeof e=="symbol"?e:e+""}function QX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZX(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return A.isValidElement(e)?A.cloneElement(e,r):A.createElement(n,r)}function JX(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:f,chartName:h}=t,m=n,v=r,y=i;if(!u||!m||h!=="ScatterChart"&&f!=="axis")return null;var w,x,S;if(h==="ScatterChart")w=m,x=k9,S=nn.cursorLine;else if(h==="BarChart")w=N9(c,m,a,o),x=vR,S=nn.cursorRectangle;else if(c==="radial"&&eD(m)){var{cx:_,cy:C,radius:j,startAngle:T,endAngle:k}=xR(m);w={cx:_,cy:C,startAngle:T,endAngle:k,innerRadius:j,outerRadius:j},x=SR,S=nn.cursorLine}else w={points:y7(c,m,a)},x=dw,S=nn.cursorLine;var N=typeof u=="object"&&"className"in u?u.className:void 0,P=zh(zh(zh(zh({stroke:"#ccc",pointerEvents:"none"},a),w),Es(u)),{},{payload:v,payloadIndex:y,className:$e("recharts-tooltip-cursor",N)});return A.createElement(sr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},A.createElement(ZX,{cursor:u,cursorComp:x,cursorProps:P}))}function eQ(t){var e=bX(),n=tR(),r=Dd(),i=CX();return e==null||n==null||r==null||i==null?null:A.createElement(JX,Qx({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var E3=A.createContext(null),tQ=()=>A.useContext(E3),mb={exports:{}},lT;function nQ(){return lT||(lT=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,m||u,v),w=n?n+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,y=m.length,w=new Array(y);v<y;v++)w[v]=m[v].fn;return w},c.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,h,m,v,y,w){var x=n?n+f:f;if(!this._events[x])return!1;var S=this._events[x],_=arguments.length,C,j;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),_){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,m),!0;case 4:return S.fn.call(S.context,h,m,v),!0;case 5:return S.fn.call(S.context,h,m,v,y),!0;case 6:return S.fn.call(S.context,h,m,v,y,w),!0}for(j=1,C=new Array(_-1);j<_;j++)C[j-1]=arguments[j];S.fn.apply(S.context,C)}else{var T=S.length,k;for(j=0;j<T;j++)switch(S[j].once&&this.removeListener(f,S[j].fn,void 0,!0),_){case 1:S[j].fn.call(S[j].context);break;case 2:S[j].fn.call(S[j].context,h);break;case 3:S[j].fn.call(S[j].context,h,m);break;case 4:S[j].fn.call(S[j].context,h,m,v);break;default:if(!C)for(k=1,C=new Array(_-1);k<_;k++)C[k-1]=arguments[k];S[j].fn.apply(S[j].context,C)}}return!0},c.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},c.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},c.prototype.removeListener=function(f,h,m,v){var y=n?n+f:f;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!v||w.once)&&(!m||w.context===m)&&o(this,y);else{for(var x=0,S=[],_=w.length;x<_;x++)(w[x].fn!==h||v&&!w[x].once||m&&w[x].context!==m)&&S.push(w[x]);S.length?this._events[y]=S.length===1?S[0]:S:o(this,y)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(mb)),mb.exports}var rQ=nQ();const iQ=li(rQ);var hd=new iQ,Zx="recharts.syncEvent.tooltip",cT="recharts.syncEvent.brush";function yS(t,e){if(e){var n=Number.parseInt(e,10);if(!Ki(n))return t?.[n]}}var aQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_3=wr({name:"options",initialState:aQ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sQ=_3.reducer,{createEventEmitter:oQ}=_3.actions;function lQ(t){return t.tooltip.syncInteraction}var cQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},C3=wr({name:"chartData",initialState:cQ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:uT,setDataStartEndIndexes:uQ,setComputedData:Tle}=C3.actions,dQ=C3.reducer,fQ=["x","y"];function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(r){hQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e,n){return(e=mQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQ(t){var e=pQ(t,"string");return typeof e=="symbol"?e:e+""}function pQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gQ(t,e){if(t==null)return{};var n,r,i=vQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yQ(){var t=me(Bw),e=me(Fw),n=yt(),r=me(bL),i=me(Ua),a=Dd(),o=$p(),c=me(u=>u.rootProps.className);A.useEffect(()=>{if(t==null)return Nd;var u=(f,h,m)=>{if(e!==m&&t===f){if(r==="index"){var v;if(o&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:w,y:x}=y,S=gQ(y,fQ),{x:_,y:C,width:j,height:T}=h.payload.sourceViewBox,k=Sl(Sl({},S),{},{x:o.x+(j?(w-_)/j:0)*o.width,y:o.y+(T?(x-C)/T:0)*o.height});n(Sl(Sl({},h),{},{payload:Sl(Sl({},h.payload),{},{coordinate:k})}))}else n(h);return}if(i!=null){var N;if(typeof r=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},L=r(i,P);N=i[L]}else r==="value"&&(N=i.find(M=>String(M.value)===h.payload.label));var{coordinate:B}=h.payload;if(N==null||h.payload.active===!1||B==null||o==null){n(Wx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:H,y:z}=B,$=Math.min(H,o.x+o.width),ne=Math.min(z,o.y+o.height),Q={x:a==="horizontal"?N.coordinate:$,y:a==="horizontal"?ne:N.coordinate},ie=Wx({active:h.payload.active,coordinate:Q,dataKey:h.payload.dataKey,index:String(N.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ie)}}};return hd.on(Zx,u),()=>{hd.off(Zx,u)}},[c,n,e,t,r,i,a,o])}function bQ(){var t=me(Bw),e=me(Fw),n=yt();A.useEffect(()=>{if(t==null)return Nd;var r=(i,a,o)=>{e!==o&&t===i&&n(uQ(a))};return hd.on(cT,r),()=>{hd.off(cT,r)}},[n,e,t])}function xQ(){var t=yt();A.useEffect(()=>{t(oQ())},[t]),yQ(),bQ()}function wQ(t,e,n,r,i,a){var o=me(y=>kX(y,t,e)),c=me(Fw),u=me(Bw),f=me(bL),h=me(lQ),m=h?.active,v=$p();A.useEffect(()=>{if(!m&&u!=null&&c!=null){var y=Wx({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});hd.emit(Zx,u,y,c)}},[m,n,o,i,r,c,u,f,a,v])}function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){SQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SQ(t,e,n){return(e=AQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AQ(t){var e=EQ(t,"string");return typeof e=="symbol"?e:e+""}function EQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Q(t){return t.dataKey}function CQ(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(o9,e)}var mT=[],jQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sp(t){var e,n,r=$t(t,jQ),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:c,content:u,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:v,position:y,reverseDirection:w,useTranslate3d:x,wrapperStyle:S,cursor:_,shared:C,trigger:j,defaultIndex:T,portal:k,axisId:N}=r,P=yt(),L=typeof T=="number"?String(T):T;A.useEffect(()=>{P(SW({shared:C,trigger:j,axisId:N,active:i,defaultIndex:L}))},[P,C,j,N,i,L]);var B=$p(),H=fR(),z=gW(C),{activeIndex:$,isActive:ne}=(e=me(he=>OX(he,z,j,L)))!==null&&e!==void 0?e:{},Q=me(he=>TX(he,z,j,L)),ie=me(he=>S3(he,z,j,L)),M=me(he=>NX(he,z,j,L)),I=Q,G=tQ(),R=(n=i??ne)!==null&&n!==void 0?n:!1,[oe,F]=mD([I,R]),V=z==="axis"?ie:void 0;wQ(z,j,M,V,$,R);var ce=k??G;if(ce==null||B==null||z==null)return null;var ue=I??mT;R||(ue=mT),f&&ue.length&&(ue=cD(ue.filter(he=>he.value!=null&&(he.hide!==!0||r.includeHidden)),v,_Q));var ge=ue.length>0,Ee=A.createElement(m9,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:h,active:R,coordinate:M,hasPayload:ge,offset:m,position:y,reverseDirection:w,useTranslate3d:x,viewBox:B,wrapperStyle:S,lastBoundingBox:oe,innerRef:F,hasPortalFromProps:!!k},CQ(u,hT(hT({},r),{},{payload:ue,label:V,active:R,activeIndex:$,coordinate:M,accessibilityLayer:H})));return A.createElement(A.Fragment,null,P1.createPortal(Ee,ce),R&&A.createElement(eQ,{cursor:_,tooltipEventType:z,coordinate:M,payload:ue,index:$}))}var dg=t=>null;dg.displayName="Cell";function kQ(t,e,n){return(e=NQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=TQ(t,"string");return typeof e=="symbol"?e:e+""}function TQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class OQ{constructor(e){kQ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){MQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MQ(t,e,n){return(e=DQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DQ(t){var e=RQ(t,"string");return typeof e=="symbol"?e:e+""}function RQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LQ={cacheSize:2e3,enableCache:!0},j3=PQ({},LQ),gT=new OQ(j3.cacheSize),IQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vT="recharts_measurement_span";function zQ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var yT=(t,e)=>{try{var n=document.getElementById(vT);n||(n=document.createElement("span"),n.setAttribute("id",vT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,IQ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vp.isSsr)return{width:0,height:0};if(!j3.enableCache)return yT(e,n);var r=zQ(e,n),i=gT.get(r);if(i)return i;var a=yT(e,n);return gT.set(r,a),a},k3;function BQ(t,e,n){return(e=FQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=UQ(t,"string");return typeof e=="symbol"?e:e+""}function UQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$Q=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GQ=["cm","mm","pt","pc","in","Q","px"];function KQ(t){return GQ.includes(t)}var Pl="NaN";function VQ(t,e){return t*qQ[e]}class Un{static parse(e){var n,[,r,i]=(n=HQ.exec(e))!==null&&n!==void 0?n:[];return r==null?Un.NaN:new Un(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ki(e)&&(this.unit=""),n!==""&&!$Q.test(n)&&(this.num=NaN,this.unit=""),KQ(n)&&(this.num=VQ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Un(NaN,""):new Un(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Un(NaN,""):new Un(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Un(NaN,""):new Un(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Un(NaN,""):new Un(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ki(this.num)}}k3=Un;BQ(Un,"NaN",new k3(NaN,""));function N3(t){if(t==null||t.includes(Pl))return Pl;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=bT.exec(e))!==null&&n!==void 0?n:[],o=Un.parse(r??""),c=Un.parse(a??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return Pl;e=e.replace(bT,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,m,v]=(f=xT.exec(e))!==null&&f!==void 0?f:[],y=Un.parse(h??""),w=Un.parse(v??""),x=m==="+"?y.add(w):y.subtract(w);if(x.isNaN())return Pl;e=e.replace(xT,x.toString())}return e}var wT=/\(([^()]*)\)/;function YQ(t){for(var e=t,n;(n=wT.exec(e))!=null;){var[,r]=n;e=e.replace(wT,N3(r))}return e}function WQ(t){var e=t.replace(/\s+/g,"");return e=YQ(e),e=N3(e),e}function XQ(t){try{return WQ(t)}catch{return Pl}}function pb(t){var e=XQ(t.slice(5,-1));return e===Pl?"":e}var QQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ZQ=["dx","dy","angle","className","breakAll"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(null,arguments)}function ST(t,e){if(t==null)return{};var n,r,i=JQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T3=/[ \f\n\r\t\v\u2028\u2029]+/,O3=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];rn(e)||(n?i=e.toString().split(""):i=e.toString().split(T3));var a=i.map(c=>({word:c,width:Lu(c,r).width})),o=n?0:Lu("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function eZ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var P3=(t,e,n,r)=>t.reduce((i,a)=>{var{word:o,width:c}=a,u=i[i.length-1];if(u&&c!=null&&(e==null||r||u.width+c+n<Number(e)))u.words.push(o),u.width+=c+n;else{var f={words:[o],width:c};i.push(f)}return i},[]),M3=t=>t.reduce((e,n)=>e.width>n.width?e:n),tZ="",AT=(t,e,n,r,i,a,o,c)=>{var u=t.slice(0,e),f=O3({breakAll:n,style:r,children:u+tZ});if(!f)return[!1,[]];var h=P3(f.wordsWithComputedWidth,a,o,c),m=h.length>i||M3(h).width>Number(a);return[m,h]},nZ=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:c,breakAll:u}=t,f=Se(a),h=String(o),m=P3(e,r,n,i);if(!f||i)return m;var v=m.length>a||M3(m).width>Number(r);if(!v)return m;for(var y=0,w=h.length-1,x=0,S;y<=w&&x<=h.length-1;){var _=Math.floor((y+w)/2),C=_-1,[j,T]=AT(h,C,u,c,a,r,n,i),[k]=AT(h,_,u,c,a,r,n,i);if(!j&&!k&&(y=_+1),j&&k&&(w=_-1),!j&&k){S=T;break}x++}return S||m},ET=t=>{var e=rn(t)?[]:t.toString().split(T3);return[{words:e,width:void 0}]},rZ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Vp.isSsr){var c,u,f=O3({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;c=h,u=m}else return ET(r);return nZ({breakAll:a,children:r,maxLines:o,style:i},c,u,e,!!n)}return ET(r)},D3="#808080",iZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:D3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},xc=A.forwardRef((t,e)=>{var n=$t(t,iZ),{x:r,y:i,lineHeight:a,capHeight:o,fill:c,scaleToFit:u,textAnchor:f,verticalAnchor:h}=n,m=ST(n,QQ),v=A.useMemo(()=>rZ({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:y,dy:w,angle:x,className:S,breakAll:_}=m,C=ST(m,ZQ);if(!Vi(r)||!Vi(i)||v.length===0)return null;var j=Number(r)+(Se(y)?y:0),T=Number(i)+(Se(w)?w:0);if(!pn(j)||!pn(T))return null;var k;switch(h){case"start":k=pb("calc(".concat(o,")"));break;case"middle":k=pb("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:k=pb("calc(".concat(v.length-1," * -").concat(a,")"));break}var N=[];if(u){var P=v[0].width,{width:L}=m;N.push("scale(".concat(Se(L)&&Se(P)?L/P:1,")"))}return x&&N.push("rotate(".concat(x,", ").concat(j,", ").concat(T,")")),N.length&&(C.transform=N.join(" ")),A.createElement("text",Jx({},hn(C),{ref:e,x:j,y:T,className:$e("recharts-text",S),textAnchor:f,fill:c.includes("url")?D3:c}),v.map((B,H)=>{var z=B.words.join(_?"":" ");return A.createElement("tspan",{x:j,dy:H===0?k:a,key:"".concat(z,"-").concat(H)},z)}))});xc.displayName="Text";var aZ=["labelRef"],sZ=["content"];function _T(t,e){if(t==null)return{};var n,r,i=oZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){lZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e,n){return(e=cZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=uZ(t,"string");return typeof e=="symbol"?e:e+""}function uZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xa.apply(null,arguments)}var R3=A.createContext(null),dZ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:c}=t,u=A.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[e,n,r,i,a,o]);return A.createElement(R3.Provider,{value:u},c)},L3=()=>{var t=A.useContext(R3),e=$p();return t||eR(e)},I3=A.createContext(null),fZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:c,children:u}=t,f=A.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:c}),[e,n,r,i,a,o,c]);return A.createElement(I3.Provider,{value:f},u)},z3=()=>{var t=A.useContext(I3),e=me(hc);return t||e},hZ=t=>{var{value:e,formatter:n}=t,r=rn(t.children)?e:t.children;return typeof n=="function"?n(r):r},bS=t=>t!=null&&typeof t=="function",mZ=(t,e)=>{var n=Yn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},pZ=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:c,cy:u,innerRadius:f,outerRadius:h,startAngle:m,endAngle:v,clockWise:y}=i,w=(f+h)/2,x=mZ(m,v),S=x>=0?1:-1,_,C;switch(e){case"insideStart":_=m+S*a,C=y;break;case"insideEnd":_=v-S*a,C=!y;break;case"end":_=v+S*a,C=y;break;default:throw new Error("Unsupported position ".concat(e))}C=x<=0?C:!C;var j=ot(c,u,w,_),T=ot(c,u,w,_+(C?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(T.x,",").concat(T.y),N=rn(t.id)?ed("recharts-radial-line-"):t.id;return A.createElement("text",xa({},r,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",o)}),A.createElement("defs",null,A.createElement("path",{id:N,d:k})),A.createElement("textPath",{xlinkHref:"#".concat(N)},n))},gZ=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u}=t,f=(c+u)/2;if(n==="outside"){var{x:h,y:m}=ot(r,i,o+e,f);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:y,y:w}=ot(r,i,v,f);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},e1=t=>"cx"in t&&Se(t.cx),vZ=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!e1(n)&&(a=n);var{x:o,y:c,upperWidth:u,lowerWidth:f,height:h}=e,m=o,v=o+(u-f)/2,y=(m+v)/2,w=(u+f)/2,x=m+u/2,S=h>=0?1:-1,_=S*r,C=S>0?"end":"start",j=S>0?"start":"end",T=u>=0?1:-1,k=T*r,N=T>0?"end":"start",P=T>0?"start":"end";if(i==="top"){var L={x:m+u/2,y:c-_,textAnchor:"middle",verticalAnchor:C};return en(en({},L),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var B={x:v+f/2,y:c+h+_,textAnchor:"middle",verticalAnchor:j};return en(en({},B),a?{height:Math.max(a.y+a.height-(c+h),0),width:f}:{})}if(i==="left"){var H={x:y-k,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return en(en({},H),a?{width:Math.max(H.x-a.x,0),height:h}:{})}if(i==="right"){var z={x:y+w+k,y:c+h/2,textAnchor:P,verticalAnchor:"middle"};return en(en({},z),a?{width:Math.max(a.x+a.width-z.x,0),height:h}:{})}var $=a?{width:w,height:h}:{};return i==="insideLeft"?en({x:y+k,y:c+h/2,textAnchor:P,verticalAnchor:"middle"},$):i==="insideRight"?en({x:y+w-k,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},$):i==="insideTop"?en({x:m+u/2,y:c+_,textAnchor:"middle",verticalAnchor:j},$):i==="insideBottom"?en({x:v+f/2,y:c+h-_,textAnchor:"middle",verticalAnchor:C},$):i==="insideTopLeft"?en({x:m+k,y:c+_,textAnchor:P,verticalAnchor:j},$):i==="insideTopRight"?en({x:m+u-k,y:c+_,textAnchor:N,verticalAnchor:j},$):i==="insideBottomLeft"?en({x:v+k,y:c+h-_,textAnchor:P,verticalAnchor:C},$):i==="insideBottomRight"?en({x:v+f-k,y:c+h-_,textAnchor:N,verticalAnchor:C},$):i&&typeof i=="object"&&(Se(i.x)||ka(i.x))&&(Se(i.y)||ka(i.y))?en({x:o+Dr(i.x,w),y:c+Dr(i.y,h),textAnchor:"end",verticalAnchor:"end"},$):en({x,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},$)},yZ={angle:0,offset:5,zIndex:nn.label,position:"middle",textBreakAll:!1};function gs(t){var e=$t(t,yZ),{viewBox:n,position:r,value:i,children:a,content:o,className:c="",textBreakAll:u,labelRef:f}=e,h=z3(),m=L3(),v=r==="center"?m:h??m,y,w,x;if(n==null?y=v:e1(n)?y=n:y=eR(n),!y||rn(i)&&rn(a)&&!A.isValidElement(o)&&typeof o!="function")return null;var S=en(en({},e),{},{viewBox:y});if(A.isValidElement(o)){var{labelRef:_}=S,C=_T(S,aZ);return A.cloneElement(o,C)}if(typeof o=="function"){var{content:j}=S,T=_T(S,sZ);if(w=A.createElement(o,T),A.isValidElement(w))return w}else w=hZ(e);var k=hn(e);if(e1(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return pZ(e,r,w,k,y);x=gZ(y,e.offset,e.position)}else x=vZ(e,y);return A.createElement(sr,{zIndex:e.zIndex},A.createElement(xc,xa({ref:f,className:$e("recharts-label",c)},k,x,{textAnchor:eZ(k.textAnchor)?k.textAnchor:x.textAnchor,breakAll:u}),w))}gs.displayName="Label";var B3=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(gs,xa({key:"label-implicit"},r)):Vi(t)?A.createElement(gs,xa({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===gs?A.cloneElement(t,en({key:"label-implicit"},r)):A.createElement(gs,xa({key:"label-implicit",content:t},r)):bS(t)?A.createElement(gs,xa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(gs,xa({},t,{key:"label-implicit"},r)):null};function bZ(t){var{label:e,labelRef:n}=t,r=L3();return B3(e,r,n)||null}function xZ(t){var{label:e}=t,n=z3();return B3(e,n)||null}var gb={},vb={},jT;function wZ(){return jT||(jT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(vb)),vb}var yb={},kT;function SZ(){return kT||(kT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(yb)),yb}var NT;function AZ(){return NT||(NT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wZ(),n=SZ(),r=X1();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(gb)),gb}var bb,TT;function EZ(){return TT||(TT=1,bb=AZ().last),bb}var _Z=EZ();const F3=li(_Z);var CZ=["valueAccessor"],jZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(null,arguments)}function OT(t,e){if(t==null)return{};var n,r,i=kZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var NZ=t=>Array.isArray(t.value)?F3(t.value):t.value,U3=A.createContext(void 0),$3=U3.Provider,H3=A.createContext(void 0),TZ=H3.Provider;function OZ(){return A.useContext(U3)}function PZ(){return A.useContext(H3)}function om(t){var{valueAccessor:e=NZ}=t,n=OT(t,CZ),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:c}=n,u=OT(n,jZ),f=OZ(),h=PZ(),m=f||h;return!m||!m.length?null:A.createElement(sr,{zIndex:c??nn.label},A.createElement(Xt,{className:"recharts-label-list"},m.map((v,y)=>{var w,x=rn(r)?e(v,y):xt(v&&v.payload,r),S=rn(a)?{}:{id:"".concat(a,"-").concat(y)};return A.createElement(gs,op({key:"label-".concat(y)},hn(v),u,S,{fill:(w=n.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:x,textBreakAll:o,viewBox:v.viewBox,index:y,zIndex:0}))})))}om.displayName="LabelList";function xS(t){var{label:e}=t;return e?e===!0?A.createElement(om,{key:"labelList-implicit"}):A.isValidElement(e)||bS(e)?A.createElement(om,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(om,op({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var MZ=["points","className","baseLinePoints","connectNulls"],PT;function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(null,arguments)}function DZ(t,e){if(t==null)return{};var n,r,i=RZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LZ(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var MT=t=>t&&t.x===+t.x&&t.y===+t.y,IZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{MT(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),MT(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Iu=(t,e)=>{var n=IZ(t);e&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,c)=>Bt(PT||(PT=LZ(["","","",",",""])),a,c===0?"M":"L",o.x,o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},zZ=(t,e,n)=>{var r=Iu(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Iu(Array.from(e).reverse(),n).slice(1))},q3=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,a=DZ(t,MZ);if(!e||!e.length)return null;var o=$e("recharts-polygon",n);if(r&&r.length){var c=a.stroke&&a.stroke!=="none",u=zZ(e,r,i);return A.createElement("g",{className:o},A.createElement("path",Ml({},hn(a),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),c?A.createElement("path",Ml({},hn(a),{fill:"none",d:Iu(e,i)})):null,c?A.createElement("path",Ml({},hn(a),{fill:"none",d:Iu(r,i)})):null)}var f=Iu(e,i);return A.createElement("path",Ml({},hn(a),{fill:f.slice(-1)==="Z"?a.fill:"none",className:o,d:f}))};function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(null,arguments)}var wS=t=>{var{cx:e,cy:n,r,className:i}=t,a=$e("recharts-dot",i);return Se(e)&&Se(n)&&Se(r)?A.createElement("circle",t1({},Ut(t),W1(t),{className:a,cx:e,cy:n,r})):null},SS=t=>t.graphicalItems.polarItems,BZ=Y([At,qd],qw),fg=Y([SS,Ht,BZ],Gw),FZ=Y([fg],Kw),hg=Y([FZ,eg],Vw),G3=Y([hg,Ht,fg],Ww);Y([hg,Ht,fg],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=xt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:xt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var DT=()=>{},UZ=Y([hg,Ht,fg,sg,At],Jw),$Z=Y([Ht,Qw,Zw,DT,UZ,DT,nt,At],eS),K3=Y([Ht,nt,hg,G3,$d,At,$Z],tS),V3=Y([K3,Ht,Ps],rS),HZ=Y([Ht,K3,V3,At],aS),AS=(t,e,n)=>{switch(e){case"angleAxis":return fc(t,n);case"radiusAxis":return Hd(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ES=(t,e,n)=>{switch(e){case"angleAxis":return pY(t,n);case"radiusAxis":return gY(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},wc=Y([AS,Ps,HZ,ES],og),Y3=Y([nt,G3,pc,At],sS),Sc=Y([nt,AS,Ps,wc,V3,ES,Yd,Y3,At],VL),qZ=Y([Sc],t=>{if(t){var e=new Map;return t.forEach(n=>{var r=(n.coordinate+360)%360;e.has(r)||e.set(r,n)}),Array.from(e.values())}});Y([nt,AS,wc,ES,Yd,Y3,At],WL);var GZ=(t,e)=>Sc(t,"angleAxis",e,!1),KZ=Y([GZ],t=>{if(t)return t.map(e=>e.coordinate)}),VZ=(t,e)=>Sc(t,"radiusAxis",e,!1),YZ=Y([VZ],t=>{if(t)return t.map(e=>e.coordinate)}),WZ=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function XZ(t,e){if(t==null)return{};var n,r,i=QZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xi(){return xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xi.apply(null,arguments)}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){ZZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZZ(t,e,n){return(e=JZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JZ(t){var e=eJ(t,"string");return typeof e=="symbol"?e:e+""}function eJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tJ=(t,e,n,r)=>{var i="";return r.forEach((a,o)=>{var c=ot(e,n,t,a);o?i+="L ".concat(c.x,",").concat(c.y):i+="M ".concat(c.x,",").concat(c.y)}),i+="Z",i},nJ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=t;if(!a||!a.length||!o)return null;var c=md({stroke:"#ccc"},Ut(t));return A.createElement("g",{className:"recharts-polar-grid-angle"},a.map(u=>{var f=ot(e,n,r,u),h=ot(e,n,i,u);return A.createElement("line",xi({key:"line-".concat(u)},c,{x1:f.x,y1:f.y,x2:h.x,y2:h.y}))}))},LT=t=>{var{cx:e,cy:n,radius:r}=t,i=md({stroke:"#ccc",fill:"none"},Ut(t));return A.createElement("circle",xi({},i,{className:$e("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},IT=t=>{var{radius:e}=t,n=md({stroke:"#ccc",fill:"none"},Ut(t));return A.createElement("path",xi({},n,{className:$e("recharts-polar-grid-concentric-polygon",t.className),d:tJ(e,t.cx,t.cy,t.polarAngles)}))},rJ=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return A.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&A.createElement(LT,xi({},t,{radius:r})),i&&n!=="circle"&&A.createElement(IT,xi({},t,{radius:r})),e.map((a,o)=>{var c=o;return n==="circle"?A.createElement(LT,xi({key:c},t,{fill:"none",radius:a})):A.createElement(IT,xi({key:c},t,{fill:"none",radius:a}))}))},W3=t=>{var e,n,r,i,a,o,c,u,f,{gridType:h="polygon",radialLines:m=!0,angleAxisId:v=0,radiusAxisId:y=0,cx:w,cy:x,innerRadius:S,outerRadius:_,polarAngles:C,polarRadius:j}=t,T=XZ(t,WZ),k=me(hc),N=me($=>KZ($,v)),P=me($=>YZ($,y)),L=Array.isArray(C)?C:N,B=Array.isArray(j)?j:P;if(L==null||B==null)return null;var H=md(md({cx:(e=(n=k?.cx)!==null&&n!==void 0?n:w)!==null&&e!==void 0?e:0,cy:(r=(i=k?.cy)!==null&&i!==void 0?i:x)!==null&&r!==void 0?r:0,innerRadius:(a=(o=k?.innerRadius)!==null&&o!==void 0?o:S)!==null&&a!==void 0?a:0,outerRadius:(c=(u=k?.outerRadius)!==null&&u!==void 0?u:_)!==null&&c!==void 0?c:0,polarAngles:L,polarRadius:B},T),{},{zIndex:(f=T.zIndex)!==null&&f!==void 0?f:nn.grid}),{outerRadius:z}=H;return z<=0?null:A.createElement(sr,{zIndex:H.zIndex},A.createElement("g",{className:"recharts-polar-grid"},A.createElement(rJ,xi({gridType:h,radialLines:m},H,{polarAngles:L,polarRadius:B})),A.createElement(nJ,xi({gridType:h,radialLines:m},H,{polarAngles:L,polarRadius:B}))))};W3.displayName="PolarGrid";var xb={},wb={},zT;function iJ(){return zT||(zT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const c=n[o],u=r(c);u>a&&(a=u,i=c)}return i}t.maxBy=e})(wb)),wb}var BT;function aJ(){return BT||(BT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iJ(),n=jp(),r=Q1();function i(a,o){if(a!=null)return e.maxBy(Array.from(a),r.iteratee(o??n.identity))}t.maxBy=i})(xb)),xb}var Sb,FT;function sJ(){return FT||(FT=1,Sb=aJ().maxBy),Sb}var oJ=sJ();const lJ=li(oJ);var Ab={},Eb={},UT;function cJ(){return UT||(UT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const c=n[o],u=r(c);u<a&&(a=u,i=c)}return i}t.minBy=e})(Eb)),Eb}var $T;function uJ(){return $T||($T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cJ(),n=jp(),r=Q1();function i(a,o){if(a!=null)return e.minBy(Array.from(a),r.iteratee(o??n.identity))}t.minBy=i})(Ab)),Ab}var _b,HT;function dJ(){return HT||(HT=1,_b=uJ().minBy),_b}var fJ=dJ();const hJ=li(fJ);var mJ={radiusAxis:{},angleAxis:{}},X3=wr({name:"polarAxis",initialState:mJ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:pJ,removeRadiusAxis:gJ,addAngleAxis:vJ,removeAngleAxis:yJ}=X3.actions,bJ=X3.reducer,xJ=["cx","cy","angle","axisLine"],wJ=["angle","tickFormatter","stroke","tick"];function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(null,arguments)}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){SJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SJ(t,e,n){return(e=AJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AJ(t){var e=EJ(t,"string");return typeof e=="symbol"?e:e+""}function EJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q3(t,e){if(t==null)return{};var n,r,i=_J(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _J(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var CJ="radiusAxis";function jJ(t){var e=yt();return A.useEffect(()=>(e(pJ(t)),()=>{e(gJ(t))})),null}var kJ=(t,e,n,r)=>{var{coordinate:i}=t;return ot(n,r,i,e)},NJ=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},TJ=(t,e,n,r)=>{var i=lJ(r,o=>o.coordinate||0),a=hJ(r,o=>o.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:a?.coordinate||0,outerRadius:i?.coordinate||0,clockWise:!1}},OJ=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:a}=t,o=Q3(t,xJ),c=e.reduce((m,v)=>[Math.min(m[0],v.coordinate),Math.max(m[1],v.coordinate)],[1/0,-1/0]),u=ot(n,r,c[0],i),f=ot(n,r,c[1],i),h=Aa(Aa(Aa({},Ut(o)),{},{fill:"none"},Ut(a)),{},{x1:u.x,y1:u.y,x2:f.x,y2:f.y});return A.createElement("line",pd({className:"recharts-polar-radius-axis-line"},h))},PJ=(t,e,n)=>{var r;return A.isValidElement(t)?r=A.cloneElement(t,e):typeof t=="function"?r=t(e):r=A.createElement(xc,pd({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},MJ=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=t,o=Q3(t,wJ),c=NJ(t.orientation),u=Ut(o),f=Es(a),h=e.map((m,v)=>{var y=kJ(m,t.angle,t.cx,t.cy),w=Aa(Aa(Aa(Aa({textAnchor:c,transform:"rotate(".concat(90-n,", ").concat(y.x,", ").concat(y.y,")")},u),{},{stroke:"none",fill:i},f),{},{index:v},y),{},{payload:m});return A.createElement(Xt,pd({className:$e("recharts-polar-radius-axis-tick",bR(a)),key:"tick-".concat(m.coordinate)},Td(t,m,v)),PJ(a,w,r?r(m.value,v):m.value))});return A.createElement(Xt,{className:"recharts-polar-radius-axis-ticks"},h)},DJ=t=>{var{radiusAxisId:e}=t,n=me(hc),r=me(u=>wc(u,"radiusAxis",e)),i=me(u=>Sc(u,"radiusAxis",e,!1));if(n==null||!i||!i.length||r==null)return null;var a=Aa(Aa({},t),{},{scale:r},n),{tick:o,axisLine:c}=a;return A.createElement(sr,{zIndex:a.zIndex},A.createElement(Xt,{className:$e("recharts-polar-radius-axis",CJ,a.className)},c&&OJ(a,i),o&&MJ(a,i),A.createElement(fZ,TJ(a.angle,a.cx,a.cy,i),A.createElement(xZ,{label:a.label}),a.children)))};function Z3(t){var e=$t(t,yr);return A.createElement(A.Fragment,null,A.createElement(jJ,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),A.createElement(DJ,e))}Z3.displayName="PolarRadiusAxis";var RJ=["children"];function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eo.apply(null,arguments)}function GT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(n),!0).forEach(function(r){LJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LJ(t,e,n){return(e=IJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=zJ(t,"string");return typeof e=="symbol"?e:e+""}function zJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJ(t,e){if(t==null)return{};var n,r,i=FJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KT=1e-5,UJ=Math.cos(Km(45)),$J="angleAxis";function HJ(t){var e=yt(),n=A.useMemo(()=>{var{children:a}=t,o=BJ(t,RJ);return o},[t]),r=me(a=>fc(a,n.id)),i=n===r;return A.useEffect(()=>(e(vJ(n)),()=>{e(yJ(n))}),[e,n]),i?t.children:null}var qJ=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=e,c=o||8,u=ot(n,r,i,t.coordinate),f=ot(n,r,i+(a==="inner"?-1:1)*c,t.coordinate);return{x1:u.x,y1:u.y,x2:f.x,y2:f.y}},GJ=(t,e)=>{var n=Math.cos(Km(-t.coordinate));return n>KT?e==="outer"?"start":"end":n<-KT?e==="outer"?"end":"start":"middle"},KJ=t=>{var e=Math.cos(Km(-t.coordinate)),n=Math.sin(Km(-t.coordinate));return Math.abs(e)<=UJ?n>0?"start":"end":"middle"},VJ=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=t;if(!a)return null;var c=Ui(Ui({},Ut(t)),{},{fill:"none"},Ut(a));if(i==="circle")return A.createElement(wS,Eo({className:"recharts-polar-angle-axis-line"},c,{cx:e,cy:n,r}));var u=o.map(f=>ot(e,n,r,f.coordinate));return A.createElement(q3,Eo({className:"recharts-polar-angle-axis-line"},c,{points:u}))},YJ=t=>{var{tick:e,tickProps:n,value:r}=t;return e?A.isValidElement(e)?A.cloneElement(e,n):typeof e=="function"?e(n):A.createElement(xc,Eo({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},WJ=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=t,o=Ut(t),c=Es(e),u=Ui(Ui({},o),{},{fill:"none"},Ut(n)),f=a.map((h,m)=>{var v=qJ(h,t),y=GJ(h,t.orientation),w=KJ(h),x=Ui(Ui(Ui({},o),{},{textAnchor:y,verticalAnchor:w,stroke:"none",fill:i},c),{},{index:m,payload:h,x:v.x2,y:v.y2});return A.createElement(Xt,Eo({className:$e("recharts-polar-angle-axis-tick",bR(e)),key:"tick-".concat(h.coordinate)},Td(t,h,m)),n&&A.createElement("line",Eo({className:"recharts-polar-angle-axis-tick-line"},u,v)),A.createElement(YJ,{tick:e,tickProps:x,value:r?r(h.value,m):h.value}))});return A.createElement(Xt,{className:"recharts-polar-angle-axis-ticks"},f)},XJ=t=>{var{angleAxisId:e}=t,n=me(hc),r=me(c=>wc(c,"angleAxis",e)),i=Wn(),a=me(c=>qZ(c,"angleAxis",e,i));if(n==null||!a||!a.length||r==null)return null;var o=Ui(Ui(Ui({},t),{},{scale:r},n),{},{radius:n.outerRadius,ticks:a});return A.createElement(sr,{zIndex:o.zIndex},A.createElement(Xt,{className:$e("recharts-polar-angle-axis",$J,o.className)},A.createElement(VJ,o),A.createElement(WJ,o)))};function J3(t){var e=$t(t,Fi);return A.createElement(HJ,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},A.createElement(XJ,e))}J3.displayName="PolarAngleAxis";function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=JJ(t,"string");return typeof e=="symbol"?e:e+""}function JJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eee=(t,e)=>e,_S=Y([SS,eee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),tee=[],CS=(t,e,n)=>n?.length===0?tee:n,eI=Y([eg,_S,CS],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>YT(YT({},e.presentationProps),a.props))),i!=null)return i}}),nee=Y([eI,_S,CS],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=xt(r,e.nameKey,e.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:lc(o,e.dataKey),color:c,payload:r,type:e.legendType}})}),ree=Y([eI,_S,CS,Pn],(t,e,n,r)=>{if(!(e==null||t==null))return lte({offset:r,pieSettings:e,displayedData:t,cells:n})}),Cb={exports:{}},gt={};var WT;function iee(){if(WT)return gt;WT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function w(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case t:switch(x=x.type,x){case n:case i:case r:case u:case f:case v:return x;default:switch(x=x&&x.$$typeof,x){case o:case c:case m:case h:return x;case a:return x;default:return S}}case e:return S}}}return gt.ContextConsumer=a,gt.ContextProvider=o,gt.Element=t,gt.ForwardRef=c,gt.Fragment=n,gt.Lazy=m,gt.Memo=h,gt.Portal=e,gt.Profiler=i,gt.StrictMode=r,gt.Suspense=u,gt.SuspenseList=f,gt.isContextConsumer=function(x){return w(x)===a},gt.isContextProvider=function(x){return w(x)===o},gt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},gt.isForwardRef=function(x){return w(x)===c},gt.isFragment=function(x){return w(x)===n},gt.isLazy=function(x){return w(x)===m},gt.isMemo=function(x){return w(x)===h},gt.isPortal=function(x){return w(x)===e},gt.isProfiler=function(x){return w(x)===i},gt.isStrictMode=function(x){return w(x)===r},gt.isSuspense=function(x){return w(x)===u},gt.isSuspenseList=function(x){return w(x)===f},gt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===u||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===h||x.$$typeof===o||x.$$typeof===a||x.$$typeof===c||x.$$typeof===y||x.getModuleId!==void 0)},gt.typeOf=w,gt}var XT;function aee(){return XT||(XT=1,Cb.exports=iee()),Cb.exports}var see=aee(),QT=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",ZT=null,jb=null,tI=t=>{if(t===ZT&&Array.isArray(jb))return jb;var e=[];return A.Children.forEach(t,n=>{rn(n)||(see.isFragment(n)?e=e.concat(tI(n.props.children)):e.push(n))}),jb=e,ZT=t,e};function nI(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>QT(i)):r=[QT(e)],tI(t).forEach(i=>{var a=bo(i,"type.displayName")||bo(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var rI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,kb={},JT;function oee(){return JT||(JT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(kb)),kb}var Nb,eO;function lee(){return eO||(eO=1,Nb=oee().isPlainObject),Nb}var cee=lee();const uee=li(cee);var tO,nO,rO,iO,aO;function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dee(t,e,n){return(e=fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=hee(t,"string");return typeof e=="symbol"?e:e+""}function hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(null,arguments)}function Su(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var lO=(t,e,n,r,i)=>{var a=n-r,o;return o=Bt(tO||(tO=Su(["M ",",",""])),t,e),o+=Bt(nO||(nO=Su(["L ",",",""])),t+n,e),o+=Bt(rO||(rO=Su(["L ",",",""])),t+n-a/2,e+i),o+=Bt(iO||(iO=Su(["L ",",",""])),t+n-a/2-r,e+i),o+=Bt(aO||(aO=Su(["L ",","," Z"])),t,e),o},mee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pee=t=>{var e=$t(t,mee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:c}=e,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=e,v=A.useRef(null),[y,w]=A.useState(-1),x=A.useRef(i),S=A.useRef(a),_=A.useRef(o),C=A.useRef(n),j=A.useRef(r),T=Id(t,"trapezoid-");if(A.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Q=v.current.getTotalLength();Q&&w(Q)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var k=$e("recharts-trapezoid",c);if(!m)return A.createElement("g",null,A.createElement("path",lp({},hn(e),{className:k,d:lO(n,r,i,a,o)})));var N=x.current,P=S.current,L=_.current,B=C.current,H=j.current,z="0px ".concat(y===-1?1:y,"px"),$="".concat(y,"px 0px"),ne=hR(["strokeDasharray"],f,u);return A.createElement(Ld,{animationId:T,key:T,canBegin:y>0,duration:f,easing:u,isActive:m,begin:h},Q=>{var ie=fn(N,i,Q),M=fn(P,a,Q),I=fn(L,o,Q),G=fn(B,n,Q),R=fn(H,r,Q);v.current&&(x.current=ie,S.current=M,_.current=I,C.current=G,j.current=R);var oe=Q>0?{transition:ne,strokeDasharray:$}:{strokeDasharray:z};return A.createElement("path",lp({},hn(e),{className:k,d:lO(G,R,ie,M,I),ref:v,style:oO(oO({},oe),e.style)}))})},gee=["option","shapeType","activeClassName"];function vee(t,e){if(t==null)return{};var n,r,i=yee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bee(t,e,n){return(e=xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xee(t){var e=wee(t,"string");return typeof e=="symbol"?e:e+""}function wee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function See(t,e){return cp(cp({},e),t)}function Aee(t,e){return t==="symbols"}function uO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(vR,n);case"trapezoid":return A.createElement(pee,n);case"sector":return A.createElement(SR,n);case"symbols":if(Aee(e))return A.createElement(Y1,n);break;case"curve":return A.createElement(dw,n);default:return null}}function Eee(t){return A.isValidElement(t)?t.props:t}function iI(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=vee(t,gee),a;if(A.isValidElement(e))a=A.cloneElement(e,cp(cp({},i),Eee(e)));else if(typeof e=="function")a=e(i,i.index);else if(uee(e)&&typeof e!="boolean"){var o=See(e,i);a=A.createElement(uO,{shapeType:n,elementProps:o})}else{var c=i;a=A.createElement(uO,{shapeType:n,elementProps:c})}return i.isActive?A.createElement(Xt,{className:r},a):a}var _ee=(t,e,n)=>{var r=yt();return(i,a)=>o=>{t?.(i,a,o),r(r3({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Cee=t=>{var e=yt();return(n,r)=>i=>{t?.(n,r,i),e(AW())}},jee=(t,e,n)=>{var r=yt();return(i,a)=>o=>{t?.(i,a,o),r(EW({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function jS(t){var{tooltipEntrySettings:e}=t,n=yt(),r=Wn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(bW(e)):i.current!==e&&n(xW({prev:i.current,next:e})),i.current=e)},[e,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(wW(i.current)),i.current=null)},[n]),null}function kee(t){var{legendPayload:e}=t,n=yt(),r=Wn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(cR(e)):i.current!==e&&n(uR({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(dR(i.current)),i.current=null)},[n]),null}function aI(t){var{legendPayload:e}=t,n=yt(),r=me(nt),i=A.useRef(null);return A.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(cR(e)):i.current!==e&&n(uR({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(dR(i.current)),i.current=null)},[n]),null}var Tb,Nee=()=>{var[t]=A.useState(()=>ed("uid-"));return t},Tee=(Tb=Wz.useId)!==null&&Tb!==void 0?Tb:Nee;function Oee(t,e){var n=Tee();return e||(t?"".concat(t,"-").concat(n):n)}var Pee=A.createContext(void 0),kS=t=>{var{id:e,type:n,children:r}=t,i=Oee("recharts-".concat(n),e);return A.createElement(Pee.Provider,{value:i},r(i))},Mee={cartesianItems:[],polarItems:[]},sI=wr({name:"graphicalItems",initialState:Mee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Mt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=wi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Mt()},removeCartesianGraphicalItem:{reducer(t,e){var n=wi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Mt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Mt()},removePolarGraphicalItem:{reducer(t,e){var n=wi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Mt()}}}),{addCartesianGraphicalItem:Dee,replaceCartesianGraphicalItem:Ree,removeCartesianGraphicalItem:Lee,addPolarGraphicalItem:Iee,removePolarGraphicalItem:zee}=sI.actions,Bee=sI.reducer,Fee=t=>{var e=yt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(Dee(t)):n.current!==t&&e(Ree({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(Lee(n.current)),n.current=null)},[e]),null},Uee=A.memo(Fee);function oI(t){var e=yt();return A.useLayoutEffect(()=>(e(Iee(t)),()=>{e(zee(t))}),[e,t]),null}var $ee=["key"],Hee=["onMouseEnter","onClick","onMouseLeave"],qee=["id"],Gee=["id"];function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){Kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kee(t,e,n){return(e=Vee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vee(t){var e=Yee(t,"string");return typeof e=="symbol"?e:e+""}function Yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(null,arguments)}function mg(t,e){if(t==null)return{};var n,r,i=Wee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xee(t){var e=A.useMemo(()=>nI(t.children,dg),[t.children]),n=me(r=>nee(r,t.id,e));return n==null?null:A.createElement(aI,{legendPayload:n})}var Qee=A.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:c,hide:u,tooltipType:f,id:h}=t,m={dataDefinedOnItem:r.map(v=>v.tooltipPayload),positions:r.map(v=>v.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:lc(c,e),hide:u,type:f,color:o,unit:"",graphicalItemId:h}};return A.createElement(jS,{tooltipEntrySettings:m})}),Zee=(t,e)=>t>e?"start":t<e?"end":"middle",Jee=(t,e,n)=>Dr(typeof e=="function"?e(t):e,n,n*.8),ete=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,c=yR(a,o),u=i+Dr(t.cx,a,a/2),f=r+Dr(t.cy,o,o/2),h=Dr(t.innerRadius,c,0),m=Jee(n,t.outerRadius,c),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:m,maxRadius:v}},tte=(t,e)=>{var n=Yn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function nte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var rte=(t,e)=>{if(A.isValidElement(t))return A.cloneElement(t,e);if(typeof t=="function")return t(e);var n=$e("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=mg(e,$ee);return A.createElement(dw,Cs({},i,{type:"linear",className:n}))},ite=(t,e,n)=>{if(A.isValidElement(t))return A.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),A.isValidElement(r)))return r;var i=$e("recharts-pie-label-text",nte(t));return A.createElement(xc,Cs({},e,{alignmentBaseline:"middle",className:i}),r)};function ate(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var c=Ut(n),u=Es(i),f=Es(a),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=e.map((v,y)=>{var w=(v.startAngle+v.endAngle)/2,x=ot(v.cx,v.cy,v.outerRadius+h,w),S=Yt(Yt(Yt(Yt({},c),v),{},{stroke:"none"},u),{},{index:y,textAnchor:Zee(x.x,v.cx)},x),_=Yt(Yt(Yt(Yt({},c),v),{},{fill:"none",stroke:v.fill},f),{},{index:y,points:[ot(v.cx,v.cy,v.outerRadius,w),x],key:"line"});return A.createElement(sr,{zIndex:nn.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},A.createElement(Xt,null,a&&rte(a,_),ite(i,S,xt(v,o))))});return A.createElement(Xt,{className:"recharts-pie-labels"},m)}function ste(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?A.createElement(xS,{label:i}):A.createElement(ate,{sectors:e,props:n,showLabels:r})}function ote(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:o}=t,c=me(nc),u=me(v3),f=me(cX),{onMouseEnter:h,onClick:m,onMouseLeave:v}=i,y=mg(i,Hee),w=_ee(h,i.dataKey,o),x=Cee(v),S=jee(m,i.dataKey,o);return e==null||e.length===0?null:A.createElement(A.Fragment,null,e.map((_,C)=>{if(_?.startAngle===0&&_?.endAngle===0&&e.length!==1)return null;var j=f==null||f===o,T=String(C)===c&&(u==null||i.dataKey===u)&&j,k=c?r:null,N=n&&T?n:k,P=Yt(Yt({},_),{},{stroke:_.stroke,tabIndex:-1,[YD]:C,[WD]:o});return A.createElement(Xt,Cs({key:"sector-".concat(_?.startAngle,"-").concat(_?.endAngle,"-").concat(_.midAngle,"-").concat(C),tabIndex:-1,className:"recharts-pie-sector"},Td(y,_,C),{onMouseEnter:w(_,C),onMouseLeave:x(_,C),onClick:S(_,C)}),A.createElement(iI,Cs({option:a??N,index:C,shapeType:"sector",isActive:T},P)))}))}function lte(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:c,endAngle:u,dataKey:f,nameKey:h,tooltipType:m}=n,v=Math.abs(n.minAngle),y=tte(c,u),w=Math.abs(y),x=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(N=>xt(N,f,0)!==0).length,_=(w>=360?S:S-1)*x,C=w-S*v-_,j=r.reduce((N,P)=>{var L=xt(P,f,0);return N+(Se(L)?L:0)},0),T;if(j>0){var k;T=r.map((N,P)=>{var L=xt(N,f,0),B=xt(N,h,P),H=ete(n,a,N),z=(Se(L)?L:0)/j,$,ne=Yt(Yt({},N),i&&i[P]&&i[P].props);P?$=k.endAngle+Yn(y)*x*(L!==0?1:0):$=c;var Q=$+Yn(y)*((L!==0?v:0)+z*C),ie=($+Q)/2,M=(H.innerRadius+H.outerRadius)/2,I=[{name:B,value:L,payload:ne,dataKey:f,type:m,graphicalItemId:n.id}],G=ot(H.cx,H.cy,M,ie);return k=Yt(Yt(Yt(Yt({},n.presentationProps),{},{percent:z,cornerRadius:typeof o=="string"?parseFloat(o):o,name:B,tooltipPayload:I,midAngle:ie,middleRadius:M,tooltipPosition:G},ne),H),{},{value:L,dataKey:f,startAngle:$,endAngle:Q,payload:ne,paddingAngle:Yn(y)*x}),k})}return T}function cte(t){var{showLabels:e,sectors:n,children:r}=t,i=A.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return A.createElement(TZ,{value:e?i:void 0},r)}function ute(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:c,animationEasing:u,activeShape:f,inactiveShape:h,onAnimationStart:m,onAnimationEnd:v}=e,y=Id(e,"recharts-pie-"),w=n.current,[x,S]=A.useState(!1),_=A.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),C=A.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);return A.createElement(cte,{showLabels:!x,sectors:i},A.createElement(Ld,{animationId:y,begin:o,duration:c,isActive:a,easing:u,onAnimationStart:C,onAnimationEnd:_,key:y},j=>{var T=[],k=i&&i[0],N=k?.startAngle;return i?.forEach((P,L)=>{var B=w&&w[L],H=L>0?bo(P,"paddingAngle",0):0;if(B){var z=fn(B.endAngle-B.startAngle,P.endAngle-P.startAngle,j),$=Yt(Yt({},P),{},{startAngle:N+H,endAngle:N+z+H});T.push($),N=$.endAngle}else{var{endAngle:ne,startAngle:Q}=P,ie=fn(0,ne-Q,j),M=Yt(Yt({},P),{},{startAngle:N+H,endAngle:N+ie+H});T.push(M),N=M.endAngle}}),n.current=T,A.createElement(Xt,null,A.createElement(ote,{sectors:T,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:r}))}),A.createElement(ste,{showLabels:!x,sectors:i,props:e}),e.children)}var dte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:nn.area};function fte(t){var{id:e}=t,n=mg(t,qee),{hide:r,className:i,rootTabIndex:a}=t,o=A.useMemo(()=>nI(t.children,dg),[t.children]),c=me(h=>ree(h,e,o)),u=A.useRef(null),f=$e("recharts-pie",i);return r||c==null?(u.current=null,A.createElement(Xt,{tabIndex:a,className:f})):A.createElement(sr,{zIndex:t.zIndex},A.createElement(Qee,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:c,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),A.createElement(Xt,{tabIndex:a,className:f},A.createElement(ute,{props:Yt(Yt({},n),{},{sectors:c}),previousSectorsRef:u,id:e})))}function lI(t){var e=$t(t,dte),{id:n}=e,r=mg(e,Gee),i=Ut(r);return A.createElement(kS,{id:n,type:"pie"},a=>A.createElement(A.Fragment,null,A.createElement(oI,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),A.createElement(Xee,Cs({},r,{id:a})),A.createElement(fte,Cs({},r,{id:a}))))}lI.displayName="Pie";var hte=["points"];function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mte(t,e,n){return(e=pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=gte(t,"string");return typeof e=="symbol"?e:e+""}function gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(null,arguments)}function vte(t,e){if(t==null)return{};var n,r,i=yte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bte(t){var{option:e,dotProps:n,className:r}=t;if(A.isValidElement(e))return A.cloneElement(e,n);if(typeof e=="function")return e(n);var i=$e(r,typeof e!="boolean"?e.className:""),a=n??{},{points:o}=a,c=vte(a,hte);return A.createElement(wS,up({},c,{className:i}))}function xte(t,e){return t==null?!1:e?!0:t.length===1}function cI(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:c,clipPathId:u,zIndex:f=nn.scatter}=t;if(!xte(e,n))return null;var h=rI(n),m=NU(n),v=e.map((w,x)=>{var S,_,C=Ob(Ob(Ob({r:3},o),m),{},{index:x,cx:(S=w.x)!==null&&S!==void 0?S:void 0,cy:(_=w.y)!==null&&_!==void 0?_:void 0,dataKey:a,value:w.value,payload:w.payload,points:e});return A.createElement(bte,{key:"dot-".concat(x),option:n,dotProps:C,className:i})}),y={};return c&&u!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),A.createElement(sr,{zIndex:f},A.createElement(Xt,up({className:r},y),v))}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){wte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wte(t,e,n){return(e=Ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=Ate(t,"string");return typeof e=="symbol"?e:e+""}function Ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ete={xAxis:{},yAxis:{},zAxis:{}},uI=wr({name:"cartesianAxis",initialState:Ete,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Mt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Mt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Mt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Mt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Mt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Mt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Mt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Mt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Mt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);t.yAxis[n]=mO(mO({},t.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:_te,replaceXAxis:Cte,removeXAxis:jte,addYAxis:kte,replaceYAxis:Nte,removeYAxis:Tte,addZAxis:Ole,replaceZAxis:Ple,removeZAxis:Mle,updateYAxisWidth:Ote}=uI.actions,Pte=uI.reducer,Mte=Y([Pn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Dte=Y([Mte,La,Ia],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),NS=()=>me(Dte),Rte=()=>me(mX);function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lte(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=zte(t,"string");return typeof e=="symbol"?e:e+""}function zte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bte=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var c={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=Pb(Pb(Pb({},c),Es(i)),W1(i)),f;return A.isValidElement(i)?f=A.cloneElement(i,u):typeof i=="function"?f=i(u):f=A.createElement(wS,u),A.createElement(Xt,{className:"recharts-active-dot",clipPath:o},f)};function dI(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=nn.activeDot}=t,c=me(nc),u=Rte();if(e==null||u==null)return null;var f=e.find(h=>u.includes(h.payload));return rn(f)?null:A.createElement(sr,{zIndex:o},A.createElement(Bte,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=$te(t,"string");return typeof e=="symbol"?e:e+""}function $te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fI=(t,e)=>wc(t,"radiusAxis",e),Hte=Y([fI],t=>{if(t!=null)return{scale:t}}),qte=Y([Hd,fI],(t,e)=>{if(!(t==null||e==null))return dp(dp({},t),{},{scale:e})}),Gte=(t,e,n,r)=>Sc(t,"radiusAxis",e,r),hI=(t,e,n)=>fc(t,n),mI=(t,e,n)=>wc(t,"angleAxis",n),Kte=Y([hI,mI],(t,e)=>{if(!(t==null||e==null))return dp(dp({},t),{},{scale:e})}),Vte=(t,e,n,r)=>Sc(t,"angleAxis",n,r),Yte=Y([hI,mI,hc],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),Wte=(t,e,n,r,i)=>i,Xte=Y([nt,qte,Gte,Kte,Vte],(t,e,n,r,i)=>Ra(t,"radiusAxis")?Xl(e,n,!1):Xl(r,i,!1)),Qte=Y([SS,Wte],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n?.dataKey}}),Zte=Y([Hte,Yte,eg,Qte,Xte],(t,e,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:c}=n;if(!(t==null||e==null||a==null||i==null||r==null)){var u=a.slice(o,c+1);return lne({radiusAxis:t,angleAxis:e,displayedData:u,dataKey:r,bandSize:i})}}),Jte=["id"];function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(null,arguments)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e,n){return(e=tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tne(t){var e=nne(t,"string");return typeof e=="symbol"?e:e+""}function nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rne(t,e){if(t==null)return{};var n,r,i=ine(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ine(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TS(t,e){return t&&t!=="none"?t:e}var ane=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:TS(r,i),value:lc(n,e),payload:t}]},sne=A.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:c,id:u}=t,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:lc(a,e),hide:o,type:c,color:TS(n,i),unit:"",graphicalItemId:u}};return A.createElement(jS,{tooltipEntrySettings:f})});function one(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n,{id:a}=n,o=rne(n,Jte),c=Ut(o);return A.createElement(cI,{points:e,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:c})}function lne(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=t,{cx:o,cy:c}=n,u=!1,f=[],h=n.type!=="number"?a??0:0;r.forEach((v,y)=>{var w=xt(v,n.dataKey,y),x=xt(v,i),S=n.scale(w)+h,_=Array.isArray(x)?F3(x):x,C=rn(_)?0:e.scale(_);Array.isArray(x)&&x.length>=2&&(u=!0),f.push(xr(xr({},ot(o,c,C,S)),{},{name:w,value:x,cx:o,cy:c,radius:C,angle:S,payload:v}))});var m=[];return u&&f.forEach(v=>{if(Array.isArray(v.value)){var y=v.value[0],w=rn(y)?0:e.scale(y);m.push(xr(xr({},v),{},{radius:w},ot(o,c,w,v.angle)))}else m.push(v)}),{points:f,isRange:u,baseLinePoints:m}}function cne(t){var{showLabels:e,points:n,children:r}=t,i=n.map(a=>{var o,c={x:a.x,y:a.y,width:0,lowerWidth:0,upperWidth:0,height:0};return xr(xr({},c),{},{value:(o=a.value)!==null&&o!==void 0?o:"",payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return A.createElement($3,{value:e?i:void 0},r)}function une(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:a,connectNulls:o}=r,c=h=>{var{onMouseEnter:m}=r;m&&m(r,h)},u=h=>{var{onMouseLeave:m}=r;m&&m(r,h)},f;return A.isValidElement(i)?f=A.cloneElement(i,xr(xr({},r),{},{points:e})):typeof i=="function"?f=i(xr(xr({},r),{},{points:e})):f=A.createElement(q3,gd({},hn(r),{onMouseEnter:c,onMouseLeave:u,points:e,baseLinePoints:a?n:void 0,connectNulls:o})),A.createElement(Xt,{className:"recharts-radar-polygon"},f,A.createElement(one,{props:r,points:e}))}var yO=(t,e,n)=>(r,i)=>{var a=t&&t[Math.floor(i*e)];return a?xr(xr({},r),{},{x:fn(a.x,r.x,n),y:fn(a.y,r.y,n)}):xr(xr({},r),{},{x:fn(r.cx,r.x,n),y:fn(r.cy,r.y,n)})};function dne(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=e,v=n.current,y=r.current,w=v?v.length/i.length:1,x=y?y.length/a.length:1,S=Id(e,"recharts-radar-"),[_,C]=A.useState(!1),j=!_,T=A.useCallback(()=>{typeof h=="function"&&h(),C(!1)},[h]),k=A.useCallback(()=>{typeof m=="function"&&m(),C(!0)},[m]);return A.createElement(cne,{showLabels:j,points:i},A.createElement(Ld,{animationId:S,begin:c,duration:u,isActive:o,easing:f,key:"radar-".concat(S),onAnimationEnd:T,onAnimationStart:k},N=>{var P=N===1?i:i.map(yO(v,w,N)),L=N===1?a:a?.map(yO(y,x,N));return N>0&&(n.current=P,r.current=L),A.createElement(une,{points:P,baseLinePoints:L,props:e})}),A.createElement(xS,{label:e.label}),e.children)}function fne(t){var e=A.useRef(void 0),n=A.useRef(void 0);return A.createElement(dne,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var hne={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:nn.area};function mne(t){var{hide:e,className:n,points:r}=t;if(e)return null;var i=$e("recharts-radar",n);return A.createElement(sr,{zIndex:t.zIndex},A.createElement(Xt,{className:i},A.createElement(fne,t)),A.createElement(dI,{points:r,mainColor:TS(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function pne(t){var e=Wn(),n=me(r=>Zte(r,t.radiusAxisId,t.angleAxisId,e,t.id));return n?.points==null?null:A.createElement(mne,gd({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}function pI(t){var e=$t(t,hne);return A.createElement(kS,{id:e.id,type:"radar"},n=>A.createElement(A.Fragment,null,A.createElement(oI,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),A.createElement(aI,{legendPayload:ane(e)}),A.createElement(sne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:n}),A.createElement(pne,gd({},e,{id:n}))))}pI.displayName="Radar";var gI=t=>{var{chartData:e}=t,n=yt(),r=Wn();return A.useEffect(()=>r?()=>{}:(n(uT(e)),()=>{n(uT(void 0))}),[e,n,r]),null},bO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vI=wr({name:"brush",initialState:bO,reducers:{setBrushSettings(t,e){return e.payload==null?bO:e.payload}}}),{setBrushSettings:Dle}=vI.actions,gne=vI.reducer;function vne(t,e,n){return(e=yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yne(t){var e=bne(t,"string");return typeof e=="symbol"?e:e+""}function bne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class OS{static create(e){return new OS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}vne(OS,"EPS",1e-4);function xne(t){return(t%180+180)%180}var wne=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xne(i),o=a*Math.PI/180,c=Math.atan(r/n),u=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},Sne={dots:[],areas:[],lines:[]},yI=wr({name:"referenceElements",initialState:Sne,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=wi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=wi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=wi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Rle,removeDot:Lle,addArea:Ile,removeArea:zle,addLine:Ble,removeLine:Fle}=yI.actions,Ane=yI.reducer,Ene=A.createContext(void 0),_ne=t=>{var{children:e}=t,[n]=A.useState("".concat(ed("recharts"),"-clip")),r=NS();if(r==null)return null;var{x:i,y:a,width:o,height:c}=r;return A.createElement(Ene.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:c,width:o}))),e)};function bI(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Cne(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return wne(r,n)}function jne(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:c}=t;return e===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function vd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function kne(t,e){return bI(t,e+1)}function Nne(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:c}=e,u=0,f=1,h=o,m=function(){var w=r?.[u];if(w===void 0)return{v:bI(r,f)};var x=u,S,_=()=>(S===void 0&&(S=n(w,x)),S),C=w.coordinate,j=u===0||vd(t,C,_,h,c);j||(u=0,h=o,f+=1),j&&(h=C+t*(_()/2+i),u+=f)},v;f<=a.length;)if(v=m(),v)return v.v;return[]}function Tne(t,e,n,r,i){var a=(r||[]).slice(),o=a.length;if(o===0)return[];for(var{start:c,end:u}=e,f=1;f<=o;f++){for(var h=(o-1)%f,m=c,v=!0,y=function(){var C=r[w],j=w,T,k=()=>(T===void 0&&(T=n(C,j)),T),N=C.coordinate,P=w===h||vd(t,N,k,m,u);if(!P)return v=!1,1;P&&(m=N+t*(k()/2+i))},w=h;w<o&&!y();w+=f);if(v){for(var x=[],S=h;S<o;S+=f)x.push(r[S]);return x}}return[]}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Mne(t,"string");return typeof e=="symbol"?e:e+""}function Mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dne(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:c}=e,{end:u}=e,f=function(v){var y=a[v],w,x=()=>(w===void 0&&(w=n(y,v)),w);if(v===o-1){var S=t*(y.coordinate+t*x()/2-u);a[v]=y=Gn(Gn({},y),{},{tickCoord:S>0?y.coordinate-S*t:y.coordinate})}else a[v]=y=Gn(Gn({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var _=vd(t,y.tickCoord,x,c,u);_&&(u=y.tickCoord-t*(x()/2+i),a[v]=Gn(Gn({},y),{},{isShow:!0}))}},h=o-1;h>=0;h--)f(h);return a}function Rne(t,e,n,r,i,a){var o=(r||[]).slice(),c=o.length,{start:u,end:f}=e;if(a){var h=r[c-1],m=n(h,c-1),v=t*(h.coordinate+t*m/2-f);if(o[c-1]=h=Gn(Gn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate}),h.tickCoord!=null){var y=vd(t,h.tickCoord,()=>m,u,f);y&&(f=h.tickCoord-t*(m/2+i),o[c-1]=Gn(Gn({},h),{},{isShow:!0}))}}for(var w=a?c-1:c,x=function(C){var j=o[C],T,k=()=>(T===void 0&&(T=n(j,C)),T);if(C===0){var N=t*(j.coordinate-t*k()/2-u);o[C]=j=Gn(Gn({},j),{},{tickCoord:N<0?j.coordinate-N*t:j.coordinate})}else o[C]=j=Gn(Gn({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var P=vd(t,j.tickCoord,k,u,f);P&&(u=j.tickCoord+t*(k()/2+i),o[C]=Gn(Gn({},j),{},{isShow:!0}))}},S=0;S<w;S++)x(S);return o}function PS(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:u,tickFormatter:f,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(Se(u)||Vp.isSsr){var v;return(v=kne(i,Se(u)?u:0))!==null&&v!==void 0?v:[]}var y=[],w=c==="top"||c==="bottom"?"width":"height",x=h&&w==="width"?Lu(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(j,T)=>{var k=typeof f=="function"?f(j.value,T):j.value;return w==="width"?Cne(Lu(k,{fontSize:e,letterSpacing:n}),x,m):Lu(k,{fontSize:e,letterSpacing:n})[w]},_=i.length>=2?Yn(i[1].coordinate-i[0].coordinate):1,C=jne(a,_,w);return u==="equidistantPreserveStart"?Nne(_,C,S,i,o):u==="equidistantPreserveEnd"?Tne(_,C,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=Rne(_,C,S,i,o,u==="preserveStartEnd"):y=Dne(_,C,S,i,o),y.filter(j=>j.isShow))}var Lne=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>o&&(o=m.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+c+(n?r:0);return Math.round(f)}return 0},Ine=["axisLine","width","height","className","hide","ticks","axisType"];function zne(t,e){if(t==null)return{};var n,r,i=Bne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o.apply(null,arguments)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){Fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fne(t,e,n){return(e=Une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Une(t){var e=$ne(t,"string");return typeof e=="symbol"?e:e+""}function $ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ca={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:nn.axis};function Hne(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:u}=t;if(!c)return null;var f=dn(dn(dn({},u),Ut(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=dn(dn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(a==="left"&&!o||a==="right"&&o);f=dn(dn({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return A.createElement("line",_o({},f,{className:$e("recharts-cartesian-axis-line",bo(c,"className"))}))}function qne(t,e,n,r,i,a,o,c,u){var f,h,m,v,y,w,x=c?-1:1,S=t.tickSize||o,_=Se(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,v=n+ +!c*i,m=v-x*S,w=m-x*u,y=_;break;case"left":m=v=t.coordinate,h=e+ +!c*r,f=h-x*S,y=f-x*u,w=_;break;case"right":m=v=t.coordinate,h=e+ +c*r,f=h+x*S,y=f+x*u,w=_;break;default:f=h=t.coordinate,v=n+ +c*i,m=v+x*S,w=m+x*u,y=_;break}return{line:{x1:f,y1:m,x2:h,y2:v},tick:{x:y,y:w}}}function Gne(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Kne(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Vne(t){var{option:e,tickProps:n,value:r}=t,i,a=$e(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,dn(dn({},n),{},{className:a}));else if(typeof e=="function")i=e(dn(dn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=$e(o,e?.className)),i=A.createElement(xc,_o({},n,{className:o}),r)}return i}var Yne=A.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:c,padding:u,tickTextProps:f,orientation:h,mirror:m,x:v,y,width:w,height:x,tickSize:S,tickMargin:_,fontSize:C,letterSpacing:j,getTicksConfig:T,events:k,axisType:N}=t,P=PS(dn(dn({},T),{},{ticks:n}),C,j),L=Gne(h,m),B=Kne(h,m),H=Ut(T),z=Es(r),$={};typeof i=="object"&&($=i);var ne=dn(dn({},H),{},{fill:"none"},$),Q=P.map(I=>dn({entry:I},qne(I,v,y,w,x,h,S,m,_))),ie=Q.map(I=>{var{entry:G,line:R}=I;return A.createElement(Xt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&A.createElement("line",_o({},ne,R,{className:$e("recharts-cartesian-axis-tick-line",bo(i,"className"))})))}),M=Q.map((I,G)=>{var{entry:R,tick:oe}=I,F=dn(dn(dn(dn({textAnchor:L,verticalAnchor:B},H),{},{stroke:"none",fill:a},z),oe),{},{index:G,payload:R,visibleTicksCount:P.length,tickFormatter:o,padding:u},f);return A.createElement(Xt,_o({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Td(k,R,G)),r&&A.createElement(Vne,{option:r,tickProps:F,value:"".concat(typeof o=="function"?o(R.value,G):R.value).concat(c||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},M.length>0&&A.createElement(sr,{zIndex:nn.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:e},M)),ie.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ie))}),Wne=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:c,axisType:u}=t,f=zne(t,Ine),[h,m]=A.useState(""),[v,y]=A.useState(""),w=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Lne({ticks:w.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=A.useCallback(S=>{if(S){var _=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=_;var C=_[0];if(C){var j=window.getComputedStyle(C),T=j.fontSize,k=j.letterSpacing;(T!==h||k!==v)&&(m(T),y(k))}}},[h,v]);return o||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(sr,{zIndex:t.zIndex},A.createElement(Xt,{className:$e("recharts-cartesian-axis",a)},A.createElement(Hne,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ut(t)}),A.createElement(Yne,{ref:x,axisType:u,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),A.createElement(dZ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},A.createElement(bZ,{label:t.label,labelRef:t.labelRef}),t.children)))}),MS=A.forwardRef((t,e)=>{var n=$t(t,Ca);return A.createElement(Wne,_o({},n,{ref:e}))});MS.displayName="CartesianAxis";var Xne=["x1","y1","x2","y2","key"],Qne=["offset"],Zne=["xAxisId","yAxisId"],Jne=["xAxisId","yAxisId"];function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return(e=tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return typeof e=="symbol"?e:e+""}function nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function io(){return io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},io.apply(null,arguments)}function fp(t,e){if(t==null)return{};var n,r,i=rre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ire=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:c}=t;return A.createElement("rect",{x:r,y:i,ry:c,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xI(t){var{option:e,lineItemProps:n}=t,r;if(A.isValidElement(e))r=A.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:o,x2:c,y2:u,key:f}=n,h=fp(n,Xne),m=(i=Ut(h))!==null&&i!==void 0?i:{},{offset:v}=m,y=fp(m,Qne);r=A.createElement("line",io({},y,{x1:a,y1:o,x2:c,y2:u,fill:"none",key:f}))}return r}function are(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=fp(t,Zne),u=i.map((f,h)=>{var m=Kn(Kn({},c),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return A.createElement(xI,{key:"line-".concat(h),option:r,lineItemProps:m})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function sre(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=fp(t,Jne),u=i.map((f,h)=>{var m=Kn(Kn({},c),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return A.createElement(xI,{option:r,lineItemProps:m,key:"line-".concat(h)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function ore(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:c,horizontal:u=!0}=t;if(!u||!e||!e.length||c==null)return null;var f=c.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var h=f.map((m,v)=>{var y=!f[v+1],w=y?i+o-m:f[v+1]-m;if(w<=0)return null;var x=v%e.length;return A.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:w,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function lre(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:c,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var h=f.map((m,v)=>{var y=!f[v+1],w=y?i+o-m:f[v+1]-m;if(w<=0)return null;var x=v%n.length;return A.createElement("rect",{key:"react-".concat(v),x:m,y:a,width:w,height:c,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var cre=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return GD(PS(Kn(Kn(Kn({},Ca),n),{},{ticks:KD(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},ure=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return GD(PS(Kn(Kn(Kn({},Ca),n),{},{ticks:KD(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},dre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:nn.grid};function wI(t){var e=sw(),n=ow(),r=tR(),i=Kn(Kn({},$t(t,dre)),{},{x:Se(t.x)?t.x:r.left,y:Se(t.y)?t.y:r.top,width:Se(t.width)?t.width:r.width,height:Se(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:c,y:u,width:f,height:h,syncWithTicks:m,horizontalValues:v,verticalValues:y}=i,w=Wn(),x=me(B=>ZN(B,"xAxis",a,w)),S=me(B=>ZN(B,"yAxis",o,w));if(!Yi(f)||!Yi(h)||!Se(c)||!Se(u))return null;var _=i.verticalCoordinatesGenerator||cre,C=i.horizontalCoordinatesGenerator||ure,{horizontalPoints:j,verticalPoints:T}=i;if((!j||!j.length)&&typeof C=="function"){var k=v&&v.length,N=C({yAxis:S?Kn(Kn({},S),{},{ticks:k?v:S.ticks}):void 0,width:e??f,height:n??h,offset:r},k?!0:m);Lm(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(j=N)}if((!T||!T.length)&&typeof _=="function"){var P=y&&y.length,L=_({xAxis:x?Kn(Kn({},x),{},{ticks:P?y:x.ticks}):void 0,width:e??f,height:n??h,offset:r},P?!0:m);Lm(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(T=L)}return A.createElement(sr,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(ire,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(ore,io({},i,{horizontalPoints:j})),A.createElement(lre,io({},i,{verticalPoints:T})),A.createElement(are,io({},i,{offset:r,horizontalPoints:j,xAxis:x,yAxis:S})),A.createElement(sre,io({},i,{offset:r,verticalPoints:T,xAxis:x,yAxis:S}))))}wI.displayName="CartesianGrid";var fre={},SI=wr({name:"errorBars",initialState:fre,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ule,replaceErrorBar:$le,removeErrorBar:Hle}=SI.actions,hre=SI.reducer,mre=["children"];function pre(t,e){if(t==null)return{};var n,r,i=gre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},yre=A.createContext(vre);function bre(t){var{children:e}=t,n=pre(t,mre);return A.createElement(yre.Provider,{value:n},e)}function AI(t,e){var n,r,i=me(f=>Ba(f,t)),a=me(f=>Fa(f,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Cn.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:jn.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function xre(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=NS(),{needClipX:a,needClipY:o,needClip:c}=AI(e,n);if(!c||!i)return null;var{x:u,y:f,width:h,height:m}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?u:u-h/2,y:o?f:f-m/2,width:a?h:h*2,height:o?m:m*2}))}var EI=(t,e,n,r)=>QL(t,"xAxis",e,r),_I=(t,e,n,r)=>XL(t,"xAxis",e,r),CI=(t,e,n,r)=>QL(t,"yAxis",n,r),jI=(t,e,n,r)=>XL(t,"yAxis",n,r),wre=Y([nt,EI,CI,_I,jI],(t,e,n,r,i)=>Ra(t,"xAxis")?Xl(e,r,!1):Xl(n,i,!1)),Sre=(t,e,n,r,i)=>i;function Are(t){return t.type==="line"}var Ere=Y([NL,Sre],(t,e)=>t.filter(Are).find(n=>n.id===e)),_re=Y([nt,EI,CI,_I,jI,Ere,wre,Rw],(t,e,n,r,i,a,o,c)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=c;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:v}=a,y;if(v!=null&&v.length>0?y=v:y=u?.slice(f,h+1),y!=null)return fie({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:o,displayedData:y})}});function Cre(t){var e=Es(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,o=Number(i),c=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=r),{r:o,strokeWidth:c}}return{r:n,strokeWidth:r}}var Mb={exports:{}},Db={};var AO;function jre(){if(AO)return Db;AO=1;var t=ic();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,c=t.useDebugValue;return Db.useSyncExternalStoreWithSelector=function(u,f,h,m,v){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=o(function(){function S(k){if(!_){if(_=!0,C=k,k=m(k),v!==void 0&&w.hasValue){var N=w.value;if(v(N,k))return j=N}return j=k}if(N=j,n(C,k))return N;var P=m(k);return v!==void 0&&v(N,P)?(C=k,N):(C=k,j=P)}var _=!1,C,j,T=h===void 0?null:h;return[function(){return S(f())},T===null?void 0:function(){return S(T())}]},[f,h,m,v]);var x=r(u,y[0],y[1]);return a(function(){w.hasValue=!0,w.value=x},[x]),c(x),x},Db}var EO;function kre(){return EO||(EO=1,Mb.exports=jre()),Mb.exports}kre();function Nre(t){t()}function Tre(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Nre(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var _O={notify(){},get:()=>[]};function Ore(t,e){let n,r=_O,i=0,a=!1;function o(x){h();const S=r.subscribe(x);let _=!1;return()=>{_||(_=!0,S(),m())}}function c(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(u),r=Tre())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_O)}function v(){a||(a=!0,h())}function y(){a&&(a=!1,m())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return w}var Pre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mre=Pre(),Dre=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rre=Dre(),Lre=()=>Mre||Rre?A.useLayoutEffect:A.useEffect,Ire=Lre();function CO(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function zre(t,e){if(CO(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!CO(t[n[i]],e[n[i]]))return!1;return!0}var Bre=Symbol.for("react-redux-context"),Fre=typeof globalThis<"u"?globalThis:{};function Ure(){if(!A.createContext)return{};const t=Fre[Bre]??=new Map;let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var $re=Ure();function Hre(t){const{children:e,context:n,serverState:r,store:i}=t,a=A.useMemo(()=>{const u=Ore(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=A.useMemo(()=>i.getState(),[i]);Ire(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const c=n||$re;return A.createElement(c.Provider,{value:a},e)}var qre=Hre,Gre=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Kre(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function DS(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Gre.has(r)){if(t[r]==null&&e[r]==null)continue;if(!zre(t[r],e[r]))return!1}else if(!Kre(t[r],e[r]))return!1;return!0}var Vre=["id"],Yre=["type","layout","connectNulls","needClip","shape"],Wre=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yd.apply(null,arguments)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Zre(t,"string");return typeof e=="symbol"?e:e+""}function Zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RS(t,e){if(t==null)return{};var n,r,i=Jre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eie=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:lc(n,e),payload:t}]},tie=A.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:c,unit:u,tooltipType:f,id:h}=t,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:lc(o,e),hide:c,type:f,color:r,unit:u,graphicalItemId:h}};return A.createElement(jS,{tooltipEntrySettings:m})}),kI=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function nie(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var rie=(t,e,n)=>{var r=n.reduce((m,v)=>m+v);if(!r)return kI(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,c=[],u=0,f=0;u<n.length;f+=n[u],++u)if(f+n[u]>a){c=[...n.slice(0,u),a-f];break}var h=c.length%2===0?[0,o]:[o];return[...nie(n,i),...c,...h].map(m=>"".concat(m,"px")).join(", ")};function iie(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r,{id:c}=r,u=RS(r,Vre),f=Ut(u);return A.createElement(cI,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:o,clipPathId:e})}function aie(t){var{showLabels:e,children:n,points:r}=t,i=A.useMemo(()=>r?.map(a=>{var o,c,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Bi(Bi({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement($3,{value:e?i:void 0},n)}function kO(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:c,connectNulls:u,needClip:f,shape:h}=a,m=RS(a,Yre),v=Bi(Bi({},hn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:c,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return A.createElement(A.Fragment,null,r?.length>1&&A.createElement(iI,yd({shapeType:"curve",option:h},v,{pathRef:n})),A.createElement(iie,{points:r,clipPathId:e,props:a}))}function sie(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function oie(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:c,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:m,animateNewValues:v,width:y,height:w,onAnimationEnd:x,onAnimationStart:S}=n,_=i.current,C=Id(o,"recharts-line-"),j=A.useRef(C),[T,k]=A.useState(!1),N=!T,P=A.useCallback(()=>{typeof x=="function"&&x(),k(!1)},[x]),L=A.useCallback(()=>{typeof S=="function"&&S(),k(!0)},[S]),B=sie(r.current),H=A.useRef(0);j.current!==C&&(H.current=a.current,j.current=C);var z=H.current;return A.createElement(aie,{points:o,showLabels:N},n.children,A.createElement(Ld,{animationId:C,begin:f,duration:h,isActive:u,easing:m,onAnimationEnd:P,onAnimationStart:L,key:C},$=>{var ne=fn(z,B+z,$),Q=Math.min(ne,B),ie;if(u)if(c){var M="".concat(c).split(/[,\s]+/gim).map(R=>parseFloat(R));ie=rie(Q,B,M)}else ie=kI(B,Q);else ie=c==null?void 0:String(c);if($>0&&B>0&&(i.current=o,a.current=Math.max(a.current,Q)),_){var I=_.length/o.length,G=$===1?o:o.map((R,oe)=>{var F=Math.floor(oe*I);if(_[F]){var V=_[F];return Bi(Bi({},R),{},{x:fn(V.x,R.x,$),y:fn(V.y,R.y,$)})}return v?Bi(Bi({},R),{},{x:fn(y*2,R.x,$),y:fn(w/2,R.y,$)}):Bi(Bi({},R),{},{x:R.x,y:R.y})});return i.current=G,A.createElement(kO,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:ie})}return A.createElement(kO,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:ie})}),A.createElement(xS,{label:n.label}))}function lie(t){var{clipPathId:e,props:n}=t,r=A.useRef(null),i=A.useRef(0),a=A.useRef(null);return A.createElement(oie,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var cie=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:xt(t.payload,e)}};class uie extends A.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:c,left:u,width:f,height:h,id:m,needClip:v,zIndex:y}=this.props;if(e)return null;var w=$e("recharts-line",i),x=m,{r:S,strokeWidth:_}=Cre(n),C=rI(n),j=S*2+_,T=v?"url(#clipPath-".concat(C?"":"dots-").concat(x,")"):void 0;return A.createElement(sr,{zIndex:y},A.createElement(Xt,{className:w},v&&A.createElement("defs",null,A.createElement(xre,{clipPathId:x,xAxisId:a,yAxisId:o}),!C&&A.createElement("clipPath",{id:"clipPath-dots-".concat(x)},A.createElement("rect",{x:u-j/2,y:c-j/2,width:f+j,height:h+j}))),A.createElement(bre,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:cie,errorBarOffset:0},A.createElement(lie,{props:this.props,clipPathId:x}))),A.createElement(dI,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var NI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:nn.line,type:"linear"};function die(t){var e=$t(t,NI),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:u,hide:f,isAnimationActive:h,label:m,legendType:v,xAxisId:y,yAxisId:w,id:x}=e,S=RS(e,Wre),{needClip:_}=AI(y,w),C=NS(),j=Dd(),T=Wn(),k=me(H=>_re(H,y,w,T,x));if(j!=="horizontal"&&j!=="vertical"||k==null||C==null)return null;var{height:N,width:P,x:L,y:B}=C;return A.createElement(uie,yd({},S,{id:x,connectNulls:c,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:h,hide:f,label:m,legendType:v,xAxisId:y,yAxisId:w,points:k,layout:j,height:N,width:P,left:L,top:B,needClip:_}))}function fie(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:c,displayedData:u}=t;return u.map((f,h)=>{var m=xt(f,o);if(e==="horizontal"){var v=nk({axis:n,ticks:i,bandSize:c,entry:f,index:h}),y=rn(m)?null:r.scale(m);return{x:v,y,value:m,payload:f}}var w=rn(m)?null:n.scale(m),x=nk({axis:r,ticks:a,bandSize:c,entry:f,index:h});return w==null||x==null?null:{x:w,y:x,value:m,payload:f}}).filter(Boolean)}function hie(t){var e=$t(t,NI),n=Wn();return A.createElement(kS,{id:e.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(kee,{legendPayload:eie(e)}),A.createElement(tie,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),A.createElement(Uee,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),A.createElement(die,yd({},e,{id:r}))))}var LS=A.memo(hie,DS);LS.displayName="Line";var mie=["domain","range"],pie=["domain","range"];function NO(t,e){if(t==null)return{};var n,r,i=gie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TO(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function TI(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=NO(t,mie),{domain:a,range:o}=e,c=NO(e,pie);return!TO(n,a)||!TO(r,o)?!1:DS(i,c)}var vie=["dangerouslySetInnerHTML","ticks","scale"],yie=["id","scale"];function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n1.apply(null,arguments)}function OO(t,e){if(t==null)return{};var n,r,i=bie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xie(t){var e=yt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(_te(t)):n.current!==t&&e(Cte({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(jte(n.current)),n.current=null)},[e]),null}var wie=t=>{var{xAxisId:e,className:n}=t,r=me(XD),i=Wn(),a="xAxis",o=me(_=>YL(_,a,e,i)),c=me(_=>iW(_,e)),u=me(_=>uW(_,e)),f=me(_=>CL(_,e));if(c==null||u==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:v}=t,y=OO(t,vie),{id:w,scale:x}=f,S=OO(f,yie);return A.createElement(MS,n1({},y,S,{x:u.x,y:u.y,width:c.width,height:c.height,className:$e("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},Sie={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:Cn.allowDecimals,allowDuplicatedCategory:Cn.allowDuplicatedCategory,angle:Cn.angle,axisLine:Ca.axisLine,height:Cn.height,hide:!1,includeHidden:Cn.includeHidden,interval:Cn.interval,minTickGap:Cn.minTickGap,mirror:Cn.mirror,orientation:Cn.orientation,padding:Cn.padding,reversed:Cn.reversed,scale:Cn.scale,tick:Cn.tick,tickCount:Cn.tickCount,tickLine:Ca.tickLine,tickSize:Ca.tickSize,type:Cn.type,xAxisId:0},Aie=t=>{var e=$t(t,Sie);return A.createElement(A.Fragment,null,A.createElement(xie,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),A.createElement(wie,e))},IS=A.memo(Aie,TI);IS.displayName="XAxis";var Eie=["dangerouslySetInnerHTML","ticks","scale"],_ie=["id","scale"];function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1.apply(null,arguments)}function PO(t,e){if(t==null)return{};var n,r,i=Cie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jie(t){var e=yt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(kte(t)):n.current!==t&&e(Nte({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(Tte(n.current)),n.current=null)},[e]),null}var kie=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=A.useRef(null),o=A.useRef(null),c=me(XD),u=Wn(),f=yt(),h="yAxis",m=me(N=>hW(N,e)),v=me(N=>fW(N,e)),y=me(N=>YL(N,h,e,u)),w=me(N=>jL(N,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!m||bS(i)||A.isValidElement(i)||w==null)){var N=a.current;if(N){var P=N.getCalculatedWidth();Math.round(m.width)!==Math.round(P)&&f(Ote({id:e,width:P}))}}},[y,m,f,i,e,r,w]),m==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:x,ticks:S,scale:_}=t,C=PO(t,Eie),{id:j,scale:T}=w,k=PO(w,_ie);return A.createElement(MS,r1({},C,k,{ref:a,labelRef:o,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:$e("recharts-".concat(h," ").concat(h),n),viewBox:c,ticks:y,axisType:h}))},Nie={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,angle:jn.angle,axisLine:Ca.axisLine,hide:!1,includeHidden:jn.includeHidden,interval:jn.interval,minTickGap:jn.minTickGap,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,tickLine:Ca.tickLine,tickSize:Ca.tickSize,type:jn.type,width:jn.width,yAxisId:0},Tie=t=>{var e=$t(t,Nie);return A.createElement(A.Fragment,null,A.createElement(jie,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),A.createElement(kie,e))},zS=A.memo(Tie,TI);zS.displayName="YAxis";var Oie=(t,e)=>e,BS=Y([Oie,nt,hc,Sn,h3,Ua,jX,Pn],DX),FS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},OI=ai("mouseClick"),PI=Pd();PI.startListening({actionCreator:OI,effect:(t,e)=>{var n=t.payload,r=BS(e.getState(),FS(n));r?.activeIndex!=null&&e.dispatch(_W({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var i1=ai("mouseMove"),MI=Pd(),Bh=null;MI.startListening({actionCreator:i1,effect:(t,e)=>{var n=t.payload;Bh!==null&&cancelAnimationFrame(Bh);var r=FS(n);Bh=requestAnimationFrame(()=>{var i=e.getState(),a=lS(i,i.tooltip.settings.shared);if(a==="axis"){var o=BS(i,r);o?.activeIndex!=null?e.dispatch(a3({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(i3())}Bh=null})}});function Pie(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var MO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},DI=wr({name:"rootProps",initialState:MO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:MO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Mie=DI.reducer,{updateOptions:Die}=DI.actions,RI=wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Rie}=RI.actions,Lie=RI.reducer,LI=ai("keyDown"),II=ai("focus"),US=Pd();US.startListening({actionCreator:LI,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=cS(i,bc(n),Kd(n),Xd(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=Ua(n);if(a==="Enter"){var f=ap(n,"axis","hover",String(i.index));e.dispatch(Xx({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=pW(n),m=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,y=c+v*m;if(!(u==null||y>=u.length||y<0)){var w=ap(n,"axis","hover",String(y));e.dispatch(Xx({active:!0,activeIndex:y.toString(),activeCoordinate:w}))}}}}}});US.startListening({actionCreator:II,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=ap(n,"axis","hover",String(a));e.dispatch(Xx({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Jr=ai("externalEvent"),zI=Pd(),Rb=new Map;zI.startListening({actionCreator:Jr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=Rb.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var c=e.getState(),u={activeCoordinate:dX(c),activeDataKey:v3(c),activeIndex:nc(c),activeLabel:g3(c),activeTooltipIndex:nc(c),isTooltipActive:fX(c)};n(u,r)}finally{Rb.delete(i)}});Rb.set(i,o)}}});var Iie=Y([vc],t=>t.tooltipItemPayloads),zie=Y([Iie,Wd,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),BI=ai("touchMove"),FI=Pd();FI.startListening({actionCreator:BI,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=lS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var o=BS(r,FS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(a3({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var c,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(YD),m=(c=f.getAttribute(WD))!==null&&c!==void 0?c:void 0,v=yc(r).find(x=>x.id===m);if(h==null||v==null||m==null)return;var{dataKey:y}=v,w=zie(r,h,m);e.dispatch(r3({activeDataKey:y,activeIndex:h,activeCoordinate:w,activeGraphicalItemId:m}))}}}});var Bie=gD({brush:gne,cartesianAxis:Pte,chartData:dQ,errorBars:hre,graphicalItems:Bee,layout:zq,legend:HG,options:sQ,polarAxis:bJ,polarOptions:Lie,referenceElements:Ane,rootProps:Mie,tooltip:CW,zIndex:YX}),Fie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return cq({reducer:Bie,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([PI.middleware,MI.middleware,US.middleware,zI.middleware,FI.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(OD({type:"raf"}))},devTools:{serialize:{replacer:Pie},name:"recharts-".concat(n)}})};function UI(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Wn(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=Fie(e,r));var o=Z1;return A.createElement(qre,{context:o,store:a.current},n)}function Uie(t){var{layout:e,margin:n}=t,r=yt(),i=Wn();return A.useEffect(()=>{i||(r(Rq(e)),r(Dq(n)))},[r,i,e,n]),null}var $I=A.memo(Uie,DS);function HI(t){var e=yt();return A.useEffect(()=>{e(Die(t))},[e,t]),null}function DO(t){var{zIndex:e,isPanorama:n}=t,r=A.useRef(null),i=yt();return A.useLayoutEffect(()=>(r.current&&i(KX({zIndex:e,element:r.current,isPanorama:n})),()=>{i(VX({zIndex:e,isPanorama:n}))}),[i,e,n]),A.createElement("g",{tabIndex:-1,ref:r})}function RO(t){var{children:e,isPanorama:n}=t,r=me(LX);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return A.createElement(A.Fragment,null,i.map(o=>A.createElement(DO,{key:o,zIndex:o,isPanorama:n})),e,a.map(o=>A.createElement(DO,{key:o,zIndex:o,isPanorama:n})))}var $ie=["children"];function Hie(t,e){if(t==null)return{};var n,r,i=qie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(null,arguments)}var Gie={width:"100%",height:"100%",display:"block"},Kie=A.forwardRef((t,e)=>{var n=sw(),r=ow(),i=fR();if(!Yi(n)||!Yi(r))return null;var{children:a,otherAttributes:o,title:c,desc:u}=t,f,h;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),A.createElement(U1,hp({},o,{title:c,desc:u,role:h,tabIndex:f,width:n,height:r,style:Gie,ref:e}),a)}),Vie=t=>{var{children:e}=t,n=me(Up);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return A.createElement(U1,{width:r,height:i,x:o,y:a},e)},LO=A.forwardRef((t,e)=>{var{children:n}=t,r=Hie(t,$ie),i=Wn();return i?A.createElement(Vie,null,A.createElement(RO,{isPanorama:!0},n)):A.createElement(Kie,hp({ref:e},r),A.createElement(RO,{isPanorama:!1},n))});function Yie(){var t=yt(),[e,n]=A.useState(null),r=me(Jq);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;pn(a)&&a!==r&&t(Iq(a))}},[e,t,r]),n}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xie(t,e,n){return(e=Qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qie(t){var e=Zie(t,"string");return typeof e=="symbol"?e:e+""}function Zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Co.apply(null,arguments)}var Jie=()=>(xQ(),null);function mp(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var eae=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[a,o]=A.useState({containerWidth:mp((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:mp((r=t.style)===null||r===void 0?void 0:r.height)}),c=A.useCallback((f,h)=>{o(m=>{var v=Math.round(f),y=Math.round(h);return m.containerWidth===v&&m.containerHeight===y?m:{containerWidth:v,containerHeight:y}})},[]),u=A.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=f.getBoundingClientRect();c(h,m);var v=w=>{var{width:x,height:S}=w[0].contentRect;c(x,S)},y=new ResizeObserver(v);y.observe(f),i.current=y}},[e,c]);return A.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),A.createElement(A.Fragment,null,A.createElement(Hp,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",Co({ref:u},t)))}),tae=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=A.useState({containerWidth:mp(n),containerHeight:mp(r)}),o=A.useCallback((u,f)=>{a(h=>{var m=Math.round(u),v=Math.round(f);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),c=A.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();o(f,h)}},[e,o]);return A.createElement(A.Fragment,null,A.createElement(Hp,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",Co({ref:c},t)))}),nae=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement(Hp,{width:n,height:r}),A.createElement("div",Co({ref:e},t)))}),rae=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return ka(n)||ka(r)?A.createElement(tae,Co({},t,{ref:e})):A.createElement(nae,Co({},t,{ref:e}))});function iae(t){return t===!0?eae:rae}var aae=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:v,onTouchEnd:y,onTouchMove:w,onTouchStart:x,style:S,width:_,responsive:C,dispatchTouchEvents:j=!0}=t,T=A.useRef(null),k=yt(),[N,P]=A.useState(null),[L,B]=A.useState(null),H=Yie(),z=aw(),$=z?.width>0?z.width:_,ne=z?.height>0?z.height:i,Q=A.useCallback(te=>{H(te),typeof e=="function"&&e(te),P(te),B(te),te!=null&&(T.current=te)},[H,e,P,B]),ie=A.useCallback(te=>{k(OI(te)),k(Jr({handler:a,reactEvent:te}))},[k,a]),M=A.useCallback(te=>{k(i1(te)),k(Jr({handler:f,reactEvent:te}))},[k,f]),I=A.useCallback(te=>{k(i3()),k(Jr({handler:h,reactEvent:te}))},[k,h]),G=A.useCallback(te=>{k(i1(te)),k(Jr({handler:m,reactEvent:te}))},[k,m]),R=A.useCallback(()=>{k(II())},[k]),oe=A.useCallback(te=>{k(LI(te.key))},[k]),F=A.useCallback(te=>{k(Jr({handler:o,reactEvent:te}))},[k,o]),V=A.useCallback(te=>{k(Jr({handler:c,reactEvent:te}))},[k,c]),ce=A.useCallback(te=>{k(Jr({handler:u,reactEvent:te}))},[k,u]),ue=A.useCallback(te=>{k(Jr({handler:v,reactEvent:te}))},[k,v]),ge=A.useCallback(te=>{k(Jr({handler:x,reactEvent:te}))},[k,x]),Ee=A.useCallback(te=>{j&&k(BI(te)),k(Jr({handler:w,reactEvent:te}))},[k,j,w]),he=A.useCallback(te=>{k(Jr({handler:y,reactEvent:te}))},[k,y]),lt=iae(C);return A.createElement(E3.Provider,{value:N},A.createElement(MM.Provider,{value:L},A.createElement(lt,{width:$??S?.width,height:ne??S?.height,className:$e("recharts-wrapper",r),style:Wie({position:"relative",cursor:"default",width:$,height:ne},S),onClick:ie,onContextMenu:F,onDoubleClick:V,onFocus:R,onKeyDown:oe,onMouseDown:ce,onMouseEnter:M,onMouseLeave:I,onMouseMove:G,onMouseUp:ue,onTouchEnd:he,onTouchMove:Ee,onTouchStart:ge,ref:Q},A.createElement(Jie,null),n)))}),sae=["width","height","responsive","children","className","style","compact","title","desc"];function oae(t,e){if(t==null)return{};var n,r,i=lae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qI=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:c,compact:u,title:f,desc:h}=t,m=oae(t,sae),v=Ut(m);return u?A.createElement(A.Fragment,null,A.createElement(Hp,{width:n,height:r}),A.createElement(LO,{otherAttributes:v,title:f,desc:h},a)):A.createElement(aae,{className:o,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(LO,{otherAttributes:v,title:f,desc:h,ref:e},A.createElement(_ne,null,a)))});function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(null,arguments)}var cae={top:5,right:5,bottom:5,left:5},uae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:cae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},dae=A.forwardRef(function(e,n){var r,i=$t(e.categoricalChartProps,uae),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:f}=e,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return A.createElement(UI,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},A.createElement(gI,{chartData:f.data}),A.createElement($I,{layout:i.layout,margin:i.margin}),A.createElement(HI,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(qI,a1({},i,{ref:n})))}),fae=["axis"],GI=A.forwardRef((t,e)=>A.createElement(dae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fae,tooltipPayloadSearcher:yS,categoricalChartProps:t,ref:e}));function hae(t){var e=yt();return A.useEffect(()=>{e(Rie(t))},[e,t]),null}var mae=["layout"];function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(null,arguments)}function pae(t,e){if(t==null)return{};var n,r,i=gae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vae={top:5,right:5,bottom:5,left:5},$S={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},KI=A.forwardRef(function(e,n){var r,i=$t(e.categoricalChartProps,$S),{layout:a}=i,o=pae(i,mae),{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return A.createElement(UI,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},A.createElement(gI,{chartData:i.data}),A.createElement($I,{layout:a,margin:i.margin}),A.createElement(HI,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(hae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement(qI,s1({},o,{ref:n})))});function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return(e=bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wae=["item"],Sae=BO(BO({},$S),{},{layout:"centric",startAngle:0,endAngle:360}),FO=A.forwardRef((t,e)=>{var n=$t(t,Sae);return A.createElement(KI,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wae,tooltipPayloadSearcher:yS,categoricalChartProps:n,ref:e})});function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aae(t,e,n){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=_ae(t,"string");return typeof e=="symbol"?e:e+""}function _ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cae=["axis"],jae=$O($O({},$S),{},{layout:"centric",startAngle:90,endAngle:-270}),kae=A.forwardRef((t,e)=>{var n=$t(t,jae);return A.createElement(KI,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cae,tooltipPayloadSearcher:yS,categoricalChartProps:n,ref:e})});function Nae(){const{data:t}=B1(),[e,n]=A.useState([]),[r,i]=A.useState([]),[a,o]=A.useState(0),[c,u]=A.useState({name:"Gelecein Uzman",title:"",goal:"DUS 2026 Hedefi",date:"2026-10-15",motto:"Bugn dnden daha iyi ol."}),[f,h]=A.useState({show:!1,message:""});A.useEffect(()=>{const j=localStorage.getItem("user_profile");j&&u(JSON.parse(j)),(async()=>{const k=await bm();n(k)})()},[]);const m=[{id:1,category:"Protetik",content:"Ante Kanunu: Abutment dilerin kk yzey alanlar toplam, restore edilecek dilerin kk yzey alanlar toplamna eit veya ondan byk olmaldr."},{id:2,category:"Patoloji",content:"Ameloblastoma: En sk grlen odontojenik tmrdr. Nks riski yksektir."},{id:3,category:"Anatomi",content:"Foramen Ovale'den geen yaplar: N. Mandibularis (V3), A. Meningea Accessoria (MALE)."},{id:4,category:"Periodontoloji",content:"Gracey Kretler: 1/2 n, 5/6 n/Premolar, 7/8 Bukkal/Lingual, 11/12 Mezyal, 13/14 Distal."},{id:5,category:"Farmakoloji",content:"Lokal Anestezikler: Na+ kanallarn bloke eder. Enflamasyonda pH dt iin etki azalr."}];A.useEffect(()=>{const T=[...m.map(k=>({id:`system-${k.id}`,content:k.content,category:k.category,sourceId:null,isFavorite:!1,isSystemPearl:!0})),...e];for(let k=T.length-1;k>0;k--){const N=Math.floor(Math.random()*(k+1));[T[k],T[N]]=[T[N],T[k]]}i(T)},[e]);const v=A.useMemo(()=>{let j=0;const T={};Object.keys(Tl).forEach(N=>T[N]=0),t.forEach(N=>{N.subjects.forEach(P=>{P.topics.forEach(L=>{j++,T[L.status]!==void 0?T[L.status]++:T["not-started"]++})})});const k=Math.round((j-T["not-started"])/j*100)||0;return{totalTopics:j,statusCounts:T,completionRate:k}},[t]),y=Object.keys(v.statusCounts).filter(j=>v.statusCounts[j]>0).map(j=>({name:Tl[j].label,value:v.statusCounts[j]})),w={"not-started":"#334155",studying:"#2563eb",finished:"#059669",review1:"#ca8a04",review2:"#ea580c",questions:"#9333ea"},x=j=>w[j]||"#ccc",S=c.date?new Date(c.date):new Date("2026-10-15"),C=Math.ceil((S-new Date)/(1e3*60*60*24));return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-primary to-blue-400",children:["Hogeldin, ",c.name||"ampiyon"," "]}),p.jsxs("p",{className:"text-muted-foreground mt-1 flex items-center gap-2",children:[p.jsx(mM,{size:14,className:"text-primary"}),p.jsxs("span",{className:"italic",children:['"',c.motto||"Bugn dnden daha iyi ol.",'"']})]})]}),c.name&&p.jsx("div",{className:"text-right hidden md:block",children:p.jsx("span",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-widest",children:c.title})})]}),p.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 rounded-3xl p-8 text-white shadow-2xl relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform duration-700",children:p.jsx(tm,{size:140})}),p.jsx("div",{className:"absolute -bottom-10 -left-10 p-8 opacity-5",children:p.jsx(QF,{size:140})}),p.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 px-3 py-1 rounded-full mb-3 backdrop-blur-sm border border-white/10",children:[p.jsx(tm,{size:14,className:"text-yellow-300"}),p.jsx("span",{className:"text-xs font-bold tracking-wide text-indigo-100",children:"ANA HEDEF"})]}),p.jsx("h2",{className:"text-3xl font-black mb-1",children:c.goal||"Byk Hedef Belirle"}),p.jsx("p",{className:"text-indigo-100 opacity-80 max-w-md",children:"Her gn atlan kk admlar, zirveye giden yolu ksaltr. Devam et!"})]}),p.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsx("span",{className:"text-7xl font-mono font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-white to-indigo-200 drop-shadow-sm",children:C>0?C:0}),p.jsx("span",{className:"text-xl font-bold opacity-80",children:"GN"})]}),p.jsx("p",{className:"text-xs font-medium text-indigo-200 uppercase tracking-widest opacity-70",children:C>0?"Byk Gne Kalan":"Hedef Tarihi Geldi!"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-5 flex flex-col justify-between shadow-sm hover:border-primary/50 transition-colors group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl text-blue-500 group-hover:scale-110 transition-transform",children:p.jsx(Kl,{size:24})}),p.jsx("span",{className:"text-[10px] font-bold text-muted-foreground bg-secondary px-2 py-1 rounded-full uppercase",children:"Toplam"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-black",children:v.totalTopics}),p.jsx("p",{className:"text-xs font-semibold text-muted-foreground",children:"Mfredattaki Konular"})]})]}),p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-5 flex flex-col justify-between shadow-sm hover:border-emerald-500/50 transition-colors group",children:[p.jsx("div",{className:"flex justify-between items-start mb-2",children:p.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl text-emerald-500 group-hover:scale-110 transition-transform",children:p.jsx(tm,{size:24})})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-3xl font-black",children:[v.completionRate,"%"]}),p.jsx("p",{className:"text-xs font-semibold text-muted-foreground",children:"Genel lerleme"})]})]}),p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-5 flex flex-col justify-between shadow-sm hover:border-purple-500/50 transition-colors group",children:[p.jsx("div",{className:"flex justify-between items-start mb-2",children:p.jsx("div",{className:"p-3 bg-purple-500/10 rounded-xl text-purple-500 group-hover:scale-110 transition-transform",children:p.jsx(Wb,{size:24})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-black",children:v.statusCounts.questions}),p.jsx("p",{className:"text-xs font-semibold text-muted-foreground",children:"Biten (Soru zlen)"})]})]}),p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-5 flex flex-col justify-between shadow-sm hover:border-yellow-500/50 transition-colors group",children:[p.jsx("div",{className:"flex justify-between items-start mb-2",children:p.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-xl text-yellow-500 group-hover:scale-110 transition-transform",children:p.jsx($i,{size:24})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-black",children:v.statusCounts.studying}),p.jsx("p",{className:"text-xs font-semibold text-muted-foreground",children:"Aktif allan"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-card border border-border rounded-3xl p-6 shadow-sm min-h-[400px]",children:[p.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[p.jsx(FO,{className:"w-5 h-5 text-muted-foreground"}),"Konu Durum Dalm"]}),v.totalTopics>0?p.jsx(Im,{width:"100%",height:300,children:p.jsxs(FO,{children:[p.jsx(lI,{data:y,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:5,dataKey:"value",children:y.map((j,T)=>{const k=Object.keys(Tl).find(N=>Tl[N].label===j.name);return p.jsx(dg,{fill:x(k),stroke:"transparent"},`cell-${T}`)})}),p.jsx(sp,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",borderRadius:"12px",color:"#f8fafc"},itemStyle:{color:"#f8fafc"}}),p.jsx(uw,{layout:"horizontal",verticalAlign:"bottom",align:"center",wrapperStyle:{paddingTop:"20px"}})]})}):p.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground bg-muted/20 rounded-2xl border border-dashed border-border/50",children:"Henz veri yok. Mfredattan konu semeye bala!"})]}),p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-950 rounded-3xl p-8 border border-white/5 relative overflow-hidden min-h-[300px] flex flex-col justify-between shadow-2xl",children:[p.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 pointer-events-none",children:p.jsx($i,{size:180})}),r.length>0?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative z-10 w-full",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"bg-emerald-500/20 text-emerald-400 text-[10px] font-black px-3 py-1 rounded-full uppercase tracking-wider shadow-glow-emerald",children:"HAP BLG DOZU"}),p.jsx("span",{className:"text-xs text-slate-400 border border-white/10 px-2 py-0.5 rounded backdrop-blur-sm",children:r[a]?.category})]}),p.jsx("button",{onClick:async()=>{const j=r[a];if(j.isSystemPearl){const k={id:`saved-${Date.now()}`,content:j.content,category:j.category,sourceId:null,folderId:null,isFavorite:!0,createdAt:new Date().toISOString()};await Ru(k),h({show:!0,message:" Hap Bilgi Havuzu'na eklendi!"}),setTimeout(()=>h({show:!1,message:""}),3e3)}else{const k=await wM(j.id);h({show:!0,message:k?.isFavorite?" Favorilere eklendi!":"Favorilerden karld"}),setTimeout(()=>h({show:!1,message:""}),3e3)}const T=await bm();n(T)},className:"p-2 rounded-full hover:bg-white/10 transition-all group",children:p.jsx(zl,{size:20,className:r[a]?.isFavorite?"fill-yellow-500 text-yellow-500":"text-slate-500 group-hover:text-yellow-400"})})]}),p.jsxs("p",{className:"text-lg md:text-xl text-slate-200 leading-relaxed font-medium mb-8 line-clamp-6",children:['"',r[a]?.content,'"']})]}),p.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>o(j=>j===0?r.length-1:j-1),className:"p-3 bg-white/5 hover:bg-white/10 rounded-xl transition-colors",children:p.jsx(lM,{size:20,className:"text-slate-300"})}),p.jsxs("span",{className:"text-xs font-mono text-slate-500 px-2",children:[a+1,"/",r.length]}),p.jsx("button",{onClick:()=>o(j=>j===r.length-1?0:j+1),className:"p-3 bg-white/5 hover:bg-white/10 rounded-xl transition-colors",children:p.jsx(M1,{size:20,className:"text-slate-300"})})]}),r[a]?.sourceId&&p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 text-blue-400 rounded-xl text-xs font-bold hover:bg-blue-500/30 transition-colors border border-blue-500/20",children:[p.jsx(uM,{size:14})," KAYNAK"]})]})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[p.jsx($i,{size:48,className:"mb-4 opacity-50"}),p.jsx("p",{children:"Henz hap bilgi yok."})]})]})})]}),f.show&&p.jsxs("div",{className:"fixed bottom-8 right-8 bg-emerald-600 text-white px-6 py-4 rounded-2xl shadow-2xl animate-in slide-in-from-bottom-5 fade-in duration-300 z-50 flex items-center gap-3 font-bold",children:[p.jsx(Wb,{size:20,className:"text-emerald-200"}),f.message]})]})}const er=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),o1=[.001,0,0,.001,0,0],Lb=1.35,Nr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},bs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},bd="pdfjs_internal_editor_",Ie={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},We={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Tae={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},l1={TRIANGLES:1,LATTICE:2},vn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},lm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},un={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},jl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},pg={ERRORS:0,WARNINGS:1,INFOS:5},xd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Au={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Oae={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let gg=pg.WARNINGS;function Pae(t){Number.isInteger(t)&&(gg=t)}function Mae(){return gg}function vg(t){gg>=pg.INFOS&&console.info(`Info: ${t}`)}function Re(t){gg>=pg.WARNINGS&&console.warn(`Warning: ${t}`)}function St(t){throw new Error(t)}function Xe(t,e){t||St(e)}function Dae(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function VI(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=Bae(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return Dae(r)?r:null}function YI(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&VI(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Le(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Po=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class HO extends Po{constructor(e,n){super(e,"PasswordException"),this.code=n}}class Ib extends Po{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class c1 extends Po{constructor(e){super(e,"InvalidPDFException")}}class pp extends Po{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class Rae extends Po{constructor(e){super(e,"FormatError")}}class js extends Po{constructor(e){super(e,"AbortException")}}function WI(t){(typeof t!="object"||t?.length===void 0)&&St("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),o=t.subarray(i,a);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function Zd(t){typeof t!="string"&&St("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function Lae(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Iae(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function zae(){try{return new Function(""),!0}catch{return!1}}class xn{static get isLittleEndian(){return Le(this,"isLittleEndian",Iae())}static get isEvalSupported(){return Le(this,"isEvalSupported",zae())}static get isOffscreenCanvasSupported(){return Le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Le(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Le(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Le(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Le(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return Le(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const zb=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class pe{static makeHexColor(e,n,r){return`#${zb[e]}${zb[n]}${zb[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],a=e[r+1];e[r]=i*n[0]+a*n[2]+n[4],e[r+1]=i*n[1]+a*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],a=n[1],o=n[2],c=n[3],u=n[4],f=n[5];for(let h=0;h<6;h+=2){const m=e[r+h],v=e[r+h+1];e[r+h]=m*i+v*o+u,e[r+h+1]=m*a+v*c+f}}static applyInverseTransform(e,n){const r=e[0],i=e[1],a=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/a,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(e,n,r){const i=n[0],a=n[1],o=n[2],c=n[3],u=n[4],f=n[5],h=e[0],m=e[1],v=e[2],y=e[3];let w=i*h+u,x=w,S=i*v+u,_=S,C=c*m+f,j=C,T=c*y+f,k=T;if(a!==0||o!==0){const N=a*h,P=a*v,L=o*m,B=o*y;w+=L,_+=L,S+=B,x+=B,C+=N,k+=N,T+=P,j+=P}r[0]=Math.min(r[0],w,S,x,_),r[1]=Math.min(r[1],C,T,j,k),r[2]=Math.max(r[2],w,S,x,_),r[3]=Math.max(r[3],C,T,j,k)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],a=e[2],o=e[3],c=r**2+i**2,u=r*a+i*o,f=a**2+o**2,h=(c+f)/2,m=Math.sqrt(h**2-(c*f-u**2));n[0]=Math.sqrt(h+m||1),n[1]=Math.sqrt(h-m||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>o?null:[r,a,i,o]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,a){a[0]=Math.min(a[0],e,r),a[1]=Math.min(a[1],n,i),a[2]=Math.max(a[2],e,r),a[3]=Math.max(a[3],n,i)}static#e(e,n,r,i,a,o,c,u,f,h){if(f<=0||f>=1)return;const m=1-f,v=f*f,y=v*f,w=m*(m*(m*e+3*f*n)+3*v*r)+y*i,x=m*(m*(m*a+3*f*o)+3*v*c)+y*u;h[0]=Math.min(h[0],w),h[1]=Math.min(h[1],x),h[2]=Math.max(h[2],w),h[3]=Math.max(h[3],x)}static#t(e,n,r,i,a,o,c,u,f,h,m,v){if(Math.abs(f)<1e-12){Math.abs(h)>=1e-12&&this.#e(e,n,r,i,a,o,c,u,-m/h,v);return}const y=h**2-4*m*f;if(y<0)return;const w=Math.sqrt(y),x=2*f;this.#e(e,n,r,i,a,o,c,u,(-h+w)/x,v),this.#e(e,n,r,i,a,o,c,u,(-h-w)/x,v)}static bezierBoundingBox(e,n,r,i,a,o,c,u,f){f[0]=Math.min(f[0],e,c),f[1]=Math.min(f[1],n,u),f[2]=Math.max(f[2],e,c),f[3]=Math.max(f[3],n,u),this.#t(e,r,a,c,n,i,o,u,3*(-e+3*(r-a)+c),6*(e-2*r+a),3*(r-e),f),this.#t(e,r,a,c,n,i,o,u,3*(-n+3*(i-o)+u),6*(n-2*i+o),3*(i-n),f)}}function Bae(t){return decodeURIComponent(escape(t))}let Bb=null,qO=null;function Fae(t){return Bb||(Bb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,qO=new Map([["","t"]])),t.replaceAll(Bb,(e,n,r)=>n?n.normalize("NFKC"):qO.get(r))}function XI(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),WI(t)}const Dl="pdfjs_internal_id_";function Uae(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...a]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const o=a.length;let c=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const u of a)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function tr(t,e,n){return Math.min(Math.max(t,e),n)}function QI(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(WI(t))}function $ae(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Zd(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class wd{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){if(!a)return;let o=null;const c=a.name;if(c==="#text")o=a.value;else if(wd.shouldBuildText(c))a?.attributes?.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&n.push({str:o}),!!a.children)for(const u of a.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class ZI{static setupStorage(e,n,r,i,a){const o=i.getValue(n,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),a==="print")break;e.addEventListener("input",c=>{i.setValue(n,{value:c.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",c=>{i.setValue(n,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),a==="print")break;e.addEventListener("input",c=>{i.setValue(n,{value:c.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const c of r.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const u=c.target.options,f=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(n,{value:f})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:o}=n,c=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[u,f]of Object.entries(o))if(f!=null)switch(u){case"class":f.length&&e.setAttribute(u,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!c||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,f)}c&&a.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:a,linkService:r});const c=a!=="richText",u=e.div;if(u.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=m}c&&u.setAttribute("class","xfaLayer xfaFont");const f=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);o.append(m),c&&wd.shouldBuildText(i.name)&&f.push(m)}return{textDivs:f}}const h=[[i,-1,o]];for(;h.length>0;){const[m,v,y]=h.at(-1);if(v+1===m.children.length){h.pop();continue}const w=m.children[++h.at(-1)[1]];if(w===null)continue;const{name:x}=w;if(x==="#text"){const _=document.createTextNode(w.value);f.push(_),y.append(_);continue}const S=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,x):document.createElement(x);if(y.append(S),w.attributes&&this.setAttributes({html:S,element:w,storage:n,intent:a,linkService:r}),w.children?.length>0)h.push([w,-1,S]);else if(w.value){const _=document.createTextNode(w.value);c&&wd.shouldBuildText(x)&&f.push(_),S.append(_)}}for(const m of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ga="http://www.w3.org/2000/svg";class rc{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Jd(t,e="text"){if(Ou(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class ef{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=o,r*=n;const u=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let h,m,v,y;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,m=0,v=0,y=1;break;case 90:h=0,m=1,v=1,y=0;break;case 270:h=0,m=-1,v=-1,y=0;break;case 0:h=1,m=0,v=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,y=-y);let w,x,S,_;h===0?(w=Math.abs(f-e[1])*r+a,x=Math.abs(u-e[0])*r+o,S=(e[3]-e[1])*r,_=(e[2]-e[0])*r):(w=Math.abs(u-e[0])*r+a,x=Math.abs(f-e[1])*r+o,S=(e[2]-e[0])*r,_=(e[3]-e[1])*r),this.transform=[h*r,m*r,v*r,y*r,w-h*r*u-v*r*f,x-m*r*u-y*r*f],this.width=S,this.height=_}get rawDims(){const e=this.viewBox;return Le(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new ef({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){const r=[e,n];return pe.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];pe.applyTransform(n,this.transform);const r=[e[2],e[3]];return pe.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return pe.applyInverseTransform(r,this.transform),r}}class HS extends Po{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function yg(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function qS(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Hae(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function qae(t,e="document.pdf"){if(typeof t!="string")return e;if(yg(t))return Re('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=c=>{try{let u=decodeURIComponent(c);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:c):u}catch{return c}},a=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(a.test(o))return i(o);if(r.searchParams.size>0){const c=Array.from(r.searchParams.values()).reverse();for(const f of c)if(a.test(f))return i(f);const u=Array.from(r.searchParams.keys()).reverse();for(const f of u)if(a.test(f))return i(f)}if(r.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(u)return i(u[0])}return e}class GO{started=Object.create(null);times=[];time(e){e in this.started&&Re(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Re(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function Ou(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function oi(t){t.preventDefault()}function Wt(t){t.preventDefault(),t.stopPropagation()}function Gae(t){console.log("Deprecated API usage: "+t)}class u1{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(n[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(n[6],10);u=u>=0&&u<=59?u:0;const f=n[7]||"Z";let h=parseInt(n[8],10);h=h>=0&&h<=23?h:0;let m=parseInt(n[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(o+=h,c+=m):f==="+"&&(o-=h,c-=m),new Date(Date.UTC(r,i,a,o,c,u))}}function Kae(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new ef({viewBox:a,userUnit:1,scale:e,rotation:n})}function tf(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Re(`Not a valid color format: "${t}"`),[0,0,0])}function Vae(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,tf(r))}e.remove()}function zt(t){const{a:e,b:n,c:r,d:i,e:a,f:o}=t.getTransform();return[e,n,r,i,a,o]}function Ri(t){const{a:e,b:n,c:r,d:i,e:a,f:o}=t.getTransform().invertSelf();return[e,n,r,i,a,o]}function jo(t,e,n=!1,r=!0){if(e instanceof ef){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:o}=t,c=xn.isCSSRoundSupported,u=`var(--total-scale-factor) * ${i}px`,f=`var(--total-scale-factor) * ${a}px`,h=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,m=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!n||e.rotation%180===0?(o.width=h,o.height=m):(o.width=m,o.height=h)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Xi{constructor(){const{pixelRatio:e}=Xi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,a=-1){let o=1/0,c=1/0,u=1/0;r=Xi.capPixels(r,a),r>0&&(o=Math.sqrt(r/(e*n))),i!==-1&&(c=i/e,u=i/n);const f=Math.min(o,c,u);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const d1=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Yae{static get isDarkMode(){return Le(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Wae{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Le(this,"commentForegroundColor",tf(r))}}function Xae(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function KO(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.max(n,r,i),o=Math.min(n,r,i),c=(a+o)/2;if(a===o)e[0]=e[1]=0;else{const u=a-o;switch(e[1]=c<.5?u/(a+o):u/(2-a-o),a){case n:e[0]=((r-i)/u+(r<i?6:0))*60;break;case r:e[0]=((i-n)/u+2)*60;break;case i:e[0]=((n-r)/u+4)*60;break}}e[2]=c}function f1(t,e){const n=t[0],r=t[1],i=t[2],a=(1-Math.abs(2*i-1))*r,o=a*(1-Math.abs(n/60%2-1)),c=i-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+c,e[1]=o+c,e[2]=c;break;case 1:e[0]=o+c,e[1]=a+c,e[2]=c;break;case 2:e[0]=c,e[1]=a+c,e[2]=o+c;break;case 3:e[0]=c,e[1]=o+c,e[2]=a+c;break;case 4:e[0]=o+c,e[1]=c,e[2]=a+c;break;case 5:case 6:e[0]=a+c,e[1]=c,e[2]=o+c;break}}function VO(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function YO(t,e,n){f1(t,n),n.map(VO);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];f1(e,n),n.map(VO);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const WO=new Map;function Qae(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=WO.get(n);if(r)return r;const i=new Float32Array(9),a=i.subarray(0,3),o=i.subarray(3,6);KO(t,o);const c=i.subarray(6,9);KO(e,c);const u=c[2]<.5,f=u?12:4.5;if(o[2]=u?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),YO(o,c,a)<f){let h,m;u?(h=o[2],m=1):(h=0,m=o[2]);const v=.005;for(;m-h>v;){const y=o[2]=(h+m)/2;u===YO(o,c,a)<f?h=y:m=y}o[2]=u?m:h}return f1(o,a),r=pe.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),WO.set(n,r),r}function JI({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const a=document.createElement("p");a.dir=e||"auto";const o=t.split(/(?:\r\n?|\n)/);for(let c=0,u=o.length;c<u;++c){const f=o[c];a.append(document.createTextNode(f)),c<u-1&&a.append(document.createElement("br"))}i.append(a)}else ZI.render({xfaHtml:t,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",n),r.append(i)}function e5(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case Au.moveTo:e.moveTo(t[n++],t[n++]);break;case Au.lineTo:e.lineTo(t[n++],t[n++]);break;case Au.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case Au.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case Au.closePath:e.closePath();break;default:Re(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}class zu{#e=null;#t=null;#r;#n=null;#s=null;#a=null;#i=null;#o=null;static#c=null;constructor(e){this.#r=e,zu.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#r._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",oi,{signal:n}),e.addEventListener("pointerdown",zu.#l,{signal:n}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:a}=e,o=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#f(e){this.#r._focusEventsAllowed=!1,Wt(e)}#d(e){this.#r._focusEventsAllowed=!0,Wt(e)}#h(e){const n=this.#r._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#f.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",oi,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",zu.#c[e]),this.#h(r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#n.append(r)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#h(n),this.#n.append(n,this.#g),this.#s=e}addComment(e,n=null){if(this.#a)return;const r=e.renderForToolbar();if(!r)return;this.#h(r);const i=this.#i=this.#g;n?(this.#n.insertBefore(r,n),this.#n.insertBefore(i,n)):this.#n.append(r,i),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#h(n),this.#n.append(n,this.#g)}async addEditSignatureButton(e){const n=this.#o=await e.renderEditButton(this.#r);this.#h(n),this.#n.append(n,this.#g)}removeButton(e){e==="comment"&&(this.#a?.removeToolbarCommentButton(),this.#a=null,this.#i?.remove(),this.#i=null)}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Zae{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#r._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",oi,{signal:n});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#s(e,n){let r=0,i=0;for(const a of e){const o=a.y+a.height;if(o<r)continue;const c=a.x+(n?a.width:0);if(o>r){i=c,r=o;continue}n?c>i&&(i=c):c<i&&(i=c)}return[n?1-i:i,r]}show(e,n,r){const[i,a]=this.#s(n,r),{style:o}=this.#t||=this.#n();e.append(this.#t),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,n,r,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const o=document.createElement("span");a.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",r);const c=this.#r._signal;c instanceof AbortSignal&&!c.aborted&&(a.addEventListener("contextmenu",oi,{signal:c}),a.addEventListener("click",i,{signal:c})),this.#e.append(a)}}function t5(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class st{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(st.#t||=new Set).add(e)}static setPointer(e,n){st.#e||=n,st.#n??=e}static setTimeStamp(e){st.#r=e}static isSamePointerId(e){return st.#e===e}static isSamePointerIdOrRemove(e){return st.#e===e?!0:(st.#t?.delete(e),!1)}static isSamePointerType(e){return st.#n===e}static isInitializedAndDifferentPointerType(e){return st.#n!==null&&!st.isSamePointerType(e)}static isSameTimeStamp(e){return st.#r===e}static isUsingMultiplePointers(){return st.#t?.size>=1}static clearPointerType(){st.#n=null}static clearPointerIds(){st.#e=NaN,st.#t=null}static clearTimeStamp(){st.#r=NaN}}class Jae{#e=0;get id(){return`${bd}${this.#e++}`}}class GS{#e=XI();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Le(this,"_isSVGFittingCanvas",a)}async#n(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await Jd(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=GS._isSVGFittingCanvas,o=new FileReader,c=new Image,u=new Promise((f,h)=>{c.onload=()=>{r.bitmap=c,r.isSvg=!0,f()},o.onload=async()=>{const m=r.svgUrl=o.result;c.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=o.onerror=h});o.readAsDataURL(i),await u}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Re(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return this.#n(`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const r=await n;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const n=this.#r.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class ese{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(i&&e(),this.#t)return;const u={cmd:e,undo:n,post:r,type:a};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(u);return}if(o&&this.#e[this.#n].type===a){c&&(u.undo=this.#e[this.#n].undo),this.#e[this.#n]=u;return}const f=this.#n+1;f===this.#r?this.#e.splice(0,1):(this.#n=f,f<this.#e.length&&this.#e.splice(f)),this.#e.push(u)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class nf{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=xn.platform;for(const[r,i,a={}]of e)for(const o of r){const c=o.startsWith("mac+");n&&c?(this.callbacks.set(o.slice(4),{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1))):!n&&!c&&(this.callbacks.set(o,{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:o=[],checker:c=null}}=r;c&&!c(e,n)||(i.bind(e,...o,n)(),a||Wt(n))}}class KS{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Vae(e),Le(this,"_colors",e)}convert(e){const n=tf(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,o)=>a===n[o]))return KS._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?pe.makeHexColor(...n):e}}class ks{#e=new AbortController;#t=null;#r=null;#n=new Map;#s=new Map;#a=null;#i=null;#o=null;#c=new ese;#l=null;#f=null;#d=null;#h=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#_=null;#A=null;#w=null;#j=null;#x=!1;#E=null;#T=new Jae;#k=!1;#N=!1;#I=!1;#P=null;#D=null;#z=null;#R=null;#q=null;#C=Ie.NONE;#S=new Set;#M=null;#B=null;#U=null;#V=null;#K=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#$=[0,0];#L=null;#G=null;#Z=null;#J=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=ks.prototype,n=o=>o.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Le(this,"_keyboardManager",new nf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#G.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}constructor(e,n,r,i,a,o,c,u,f,h,m,v,y,w,x,S){const _=this._signal=this.#e.signal;this.#G=e,this.#Z=n,this.#J=r,this.#a=i,this.#l=a,this.#B=o,this.#K=u,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:_}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:_}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:_}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:_}),c._on("setpreference",this.onSetPreference.bind(this),{signal:_}),c._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:_}),window.addEventListener("pointerdown",()=>{this.#N=!0},{capture:!0,signal:_}),window.addEventListener("pointerup",()=>{this.#N=!1},{capture:!0,signal:_}),this.#se(),this.#fe(),this.#te(),this.#i=u.annotationStorage,this.#_=u.filterFactory,this.#U=f,this.#j=h||null,this.#v=m,this.#b=v,this.#y=y,this.#q=w||null,this.viewParameters={realScale:rc.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=S!==!1,a?.setSidebarUiManager(this)}destroy(){this.#F?.resolve(),this.#F=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#n.clear(),this.#m.clear(),this.#R?.clear(),this.#t=null,this.#S.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#B?.destroy(),this.#E?.hide(),this.#E=null,this.#z?.destroy(),this.#z=null,this.#r=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy(),this.#K=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Le(this,"hcmFilter",this.#U?this.#_.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Le(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Le(this,"_highlightColors",this.#j?new Map(this.#j.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Le(this,"highlightColors",null);const n=new Map,r=!!this.#U;for(const[i,a]of e){const o=i.endsWith("_HCM");if(r&&o){n.set(i.replace("_HCM",""),a);continue}!r&&!o&&n.set(i,a)}return Le(this,"highlightColors",n)}get highlightColorNames(){return Le(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#z=e}editAltText(e,n=!1){this.#a?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,r,i){this.#l?.showDialog(this,e,n,r,i)}selectComment(e,n){this.#s.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,r=void 0){this.#l?.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#s.has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#B?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#B}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){e==="enableNewAltTextWhenAddingImage"&&(this.#y=n)}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#G.focus()}findParent(e,n){for(const r of this.#s.values()){const{x:i,y:a,width:o,height:c}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&n>=a&&n<=a+c)return r}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*rc.PDF_TO_CSS_UNITS;for(const n of this.#m)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#s.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:c}=r,u=r.toString(),h=this.#Q(r).closest(".textLayer"),m=this.getSelectionBoxes(h);if(!m)return;r.empty();const v=this.#ee(h),y=this.#C===Ie.NONE,w=()=>{const x=v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:m,anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:c,text:u});y&&this.showAllEditors("highlight",!0,!0),n&&x?.editComment()};if(y){this.switchToMode(Ie.HIGHLIGHT,w);return}w()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Q(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#E||=new Zae(this),this.#E.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const n=`${bd}${e}`,r=this.#i.getRawValue(n);return r&&this.#i.remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#ae(){const e=document.getSelection();if(!e||e.isCollapsed){this.#M&&(this.#E?.hide(),this.#M=null,this.#O({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#M)return;const i=this.#Q(e).closest(".textLayer");if(!i){this.#M&&(this.#E?.hide(),this.#M=null,this.#O({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#M=n,this.#O({hasSelectedText:!0}),!(this.#C!==Ie.HIGHLIGHT&&this.#C!==Ie.NONE)&&(this.#C===Ie.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#C===Ie.HIGHLIGHT?this.#ee(i):null;if(a?.toggleDrawing(),this.#N){const o=new AbortController,c=this.combinedSignal(o),u=f=>{f.type==="pointerup"&&f.button!==0||(o.abort(),a?.toggleDrawing(!0),f.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}else a?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#C===Ie.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#ie()}#se(){document.addEventListener("selectionchange",this.#ae.bind(this),{signal:this._signal})}#oe(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#S)if(n.div.contains(e)){this.#D=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[e,n]=this.#D;this.#D=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#P)return;this.#P=new AbortController;const e=this.combinedSignal(this.#P);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#P?.abort(),this.#P=null}#ue(){if(this.#f)return;this.#f=new AbortController;const e=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#f?.abort(),this.#f=null}#fe(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#S){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){Re(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const u of r){const f=await i.deserialize(u);if(!f)return;a.push(f)}const o=()=>{for(const u of a)this.#ne(u);this.#re(a)},c=()=>{for(const u of a)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(a){Re(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==Ie.NONE&&!this.isEditorHandlingKeyboard&&ks._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#O(e){Object.entries(e).some(([r,i])=>this.#Y[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,e)}),this.#C===Ie.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#H([[We.HIGHLIGHT_FREE,!0]]))}#H(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#O({isEditing:this.#C!==Ie.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const n of this.#u)this.#H(n.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#s.get(this.#h)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#s.set(e.pageIndex,e),this.#k?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,a=!1,o=!1){if(this.#C!==e&&!(this.#F&&(await this.#F.promise,!this.#F))){if(this.#F=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#C===Ie.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=e,e===Ie.NONE){this.setEditingState(!1),this.#me();for(const c of this.#n.values())c.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#F.resolve();return}for(const c of this.#n.values())c.addStandaloneCommentButton();e===Ie.SIGNATURE&&await this.#B?.loadSignatures(),r&&st.clearPointerType(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const c of this.#s.values())c.updateMode(e);if(e===Ie.POPUP){this.#r||=await this.#K.getAnnotationsByType(new Set(this.#u.map(f=>f._editorType)));const c=new Set,u=[];for(const f of this.#n.values()){const{annotationElementId:h,hasComment:m,deleted:v}=f;h&&c.add(h),m&&!v&&u.push(f.getData())}for(const f of this.#r){const{id:h,popupRef:m,contentsObj:v}=f;m&&v?.str&&!c.has(h)&&!this.#g.has(h)&&u.push(f)}this.#l?.showSidebar(u)}if(!n){i&&this.addNewEditorFromKeyboard(),this.#F.resolve();return}for(const c of this.#n.values())c.uid===n?(this.setSelected(c),o?c.editComment():a?c.enterInEditMode():c.focus()):c.unselect();this.#F.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#u){switch(e){case We.CREATE:this.currentLayer.addNewEditor(n);return;case We.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#V||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of this.#S)r.updateParams(e,n);else for(const r of this.#u)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const a of this.#n.values())a.editorType===e&&a.show(n);(this.#V?.get(We.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#H([[We.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#I!==e){this.#I=e;for(const n of this.#s.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#he(){if(!this.#k){this.#k=!0;const e=[];for(const n of this.#s.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#me(){if(this.unselectAll(),this.#k){this.#k=!1;for(const e of this.#s.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#R?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const n=this.#s.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#H(e.propertiesToUpdate))}get#pe(){let e=null;for(e of this.#S);return e}updateUI(e){this.#pe===e&&this.#H(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#H(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#S.has(e)){this.#S.delete(e),e.unselect(),this.#O({hasSelectedEditor:this.hasSelection});return}this.#S.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const n of this.#S)n!==e&&n.unselect();this.#S.clear(),this.#S.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(e){return this.#S.has(e)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(e){e.unselect(),this.#S.delete(e),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#O({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#c.add(e),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#c.cleanType(e)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#S],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},i=()=>{for(const a of n)this.#ne(a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const n of this.#S)n.unselect();this.#S.clear();for(const n of e)n.isEmpty()||(this.#S.add(n),n.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#S)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#C!==Ie.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#S)e.unselect();this.#S.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#$[0]+=e,this.#$[1]+=n;const[i,a]=this.#$,o=[...this.#S],c=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#$[0]=this.#$[1]=0,this.addCommands({cmd:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(i,a),u.translationDone())},undo:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(-i,-a),u.translationDone())},mustExec:!1})},c);for(const u of o)u.translateInPage(e,n),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#S)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let n=!1;for(const[{x:i,y:a,pageIndex:o},c]of e)c.newX=i,c.newY=a,c.newPageIndex=o,n||=i!==c.savedX||a!==c.savedY||o!==c.savedPageIndex;if(!n)return!1;const r=(i,a,o,c)=>{if(this.#n.has(i.id)){const u=this.#s.get(c);u?i._setParentAndPosition(u,a,o):(i.pageIndex=c,i.x=a,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:o,newPageIndex:c}]of e)r(i,a,o,c)},undo:()=>{for(const[i,{savedX:a,savedY:o,savedPageIndex:c}]of e)r(i,a,o,c)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#p)for(const r of this.#p.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#C}isEditingMode(){return this.#C!==Ie.NONE}get imageManager(){return Le(this,"imageManager",new GS)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let f=0,h=n.rangeCount;f<h;f++)if(!e.contains(n.getRangeAt(f).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:o}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(f,h,m,v)=>({x:(h-i)/o,y:1-(f+m-r)/a,width:v/o,height:m/a});break;case"180":c=(f,h,m,v)=>({x:1-(f+m-r)/a,y:1-(h+v-i)/o,width:m/a,height:v/o});break;case"270":c=(f,h,m,v)=>({x:1-(h+v-i)/o,y:(f-r)/a,width:v/o,height:m/a});break;default:c=(f,h,m,v)=>({x:(f-r)/a,y:(h-i)/o,width:m/a,height:v/o});break}const u=[];for(let f=0,h=n.rangeCount;f<h;f++){const m=n.getRangeAt(f);if(!m.collapsed)for(const{x:v,y,width:w,height:x}of m.getClientRects())w===0||x===0||u.push(c(v,y,w,x))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#o||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const n=this.#o?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#C===Ie.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#R?.get(e);i&&(i.setCanvas(n,r),this.#R.delete(e))}addMissingCanvas(e,n){(this.#R||=new Map).set(e,n)}}class zi{#e=null;#t=!1;#r=null;#n=null;#s=null;#a=null;#i=!1;#o=null;#c=null;#l=null;#f=null;#d=!1;static#h=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,zi.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){zi._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",zi.#h.missing),n.setAttribute("data-l10n-id",zi.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#c._uiManager._signal;e.addEventListener("contextmenu",oi,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#i=!0,i(a))},{signal:r}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#f=await zi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#o.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#f),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(this.#l=r,this.#f=i),!(this.#e===e&&this.#t===n)&&(a||(this.#e=e,this.#t=n),this.#p())}toggle(e=!1){this.#r&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",zi.#h[this.#g]),this.#n?.setAttribute("data-l10n-id",zi.#h[`${this.#g}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#s;if(!n){this.#s=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const i=100,a=this.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#s.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#s?.classList.remove("show")},{signal:a})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#c.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class Fh{#e=null;#t=null;#r=!1;#n=null;#s=null;#a=null;#i=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#f(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#f(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:r}=this.#e.getBoundingClientRect(),{x:i,y:a,width:o,height:c}=this.#n.parent.boundingClientRect;return[(e-i)/o,(n+r-a)/c]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#f(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",oi,{signal:r}),n&&(e.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,Wt(a)},{capture:!0,signal:r}),e.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,Wt(a)},{capture:!0,signal:r})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#r=!0,i(a))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=this.#n.commentButtonPosition;const{width:h,height:m,x:v,y}=this.#n;r=v+r*h,i=y+i*m}const a=this.#n.parent.boundingClientRect,{x:o,y:c,width:u,height:f}=a;this.#n._uiManager.editComment(this.#n,o+r*u,c+i*f,{...e,parentDimensions:a})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#c||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#s}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#a=null),e===null){this.#i="",this.#c=!0;return}this.#i=e,this.#o=new Date,this.#c=!1}setInitialText(e,n=null){this.#s=e,this.data=e,this.#o=null,this.#a=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#a=null,this.#o=null,this.#n=null,this.#r=!1,this.#c=!1}}class bg{#e;#t=!1;#r=null;#n;#s;#a;#i;#o=null;#c;#l=null;#f;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:o=null,signal:c}){this.#e=e,this.#r=r,this.#n=n,this.#s=i,this.#a=a,this.#i=o,this.#f=new AbortController,this.#c=AbortSignal.any([c,this.#f.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Xi.pixelRatio}#h(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,a=AbortSignal.any([this.#c,i.signal]),o=this.#e,c={capture:!0,signal:a,passive:!1},u=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};o.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Wt(f),u(f))},c),o.addEventListener("pointerup",u,c),o.addEventListener("pointercancel",u,c);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#c,this.#d.signal]),a=this.#e,o={signal:i,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),o);const c=this.#p.bind(this);a.addEventListener("touchend",c,o),a.addEventListener("touchcancel",c,o),o.capture=!0,a.addEventListener("pointerdown",Wt,o),a.addEventListener("pointermove",Wt,o),a.addEventListener("pointercancel",Wt,o),a.addEventListener("pointerup",Wt,o),this.#s?.()}if(Wt(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;Wt(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:o,screenY:c}=r,u=this.#l,{touch0X:f,touch0Y:h,touch1X:m,touch1Y:v}=u,y=m-f,w=v-h,x=o-i,S=c-a,_=Math.hypot(x,S)||1,C=Math.hypot(y,w)||1;if(!this.#t&&Math.abs(C-_)<=bg.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=i,u.touch0Y=a,u.touch1X=o,u.touch1Y=c,!this.#t){this.#t=!0;return}const j=[(i+o)/2,(a+c)/2];this.#a?.(j,C,_)}#p(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(Wt(e),this.#l=null,this.#t=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#o?.abort(),this.#o=null}}class Ce{#e=null;#t=null;#r=null;#n=null;#s=null;#a=!1;#i=null;#o="";#c=null;#l=null;#f=null;#d=null;#h=null;#g="";#p=!1;#u=null;#m=!1;#v=!1;#b=!1;#y=null;#_=0;#A=0;#w=null;#j=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#E=Ce._zIndex++;static _borderLineWidth=-1;static _colorManager=new KS;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Ce.prototype._resizeWithKeyboard,n=ks.TRANSLATE_SMALL,r=ks.TRANSLATE_BIG;return Le(this,"_resizerKeyboardManager",new nf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Ce.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,o];const[c,u]=this.parentDimensions;this.x=e.x/c,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Le(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new tse({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Ce._l10n??=e,Ce._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Ce._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Ce._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){St("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#L(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#T([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#T(this.parentDimensions,e,n)}translateInPage(e,n){this.#u||=[this.x,this.y,this.width,this.height],this.#T(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#u||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[u,f]=this.getBaseTranslation();o+=u,c+=f;const{style:h}=r;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Ce,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:a,y:o,width:c,height:u}=this;if(c*=r,u*=i,a*=r,o*=i,this._mustFixPosition)switch(e){case 0:a=tr(a,0,r-c),o=tr(o,0,i-u);break;case 90:a=tr(a,0,r-u),o=tr(o,c,i);break;case 180:a=tr(a,c,r),o=tr(o,u,i);break;case 270:a=tr(a,u,r),o=tr(o,0,i-c);break}this.x=a/=r,this.y=o/=i;const[f,h]=this.getBaseTranslation();a+=f,o+=h,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#k(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return Ce.#k(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return Ce.#k(e,n,360-this.parentRotation)}#N(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#P.bind(this,r),{signal:n}),i.addEventListener("contextmenu",oi,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#c)}#P(e,n){n.preventDefault();const{isMac:r}=xn.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#R.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Wt,{passive:!1,signal:o}),window.addEventListener("contextmenu",oi,{signal:o}),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const f=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=c,this.div.style.cursor=u,this.#z()};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})}#D(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#z(){if(!this.#f)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#f;this.#f=null;const a=this.x,o=this.y,c=this.width,u=this.height;a===e&&o===n&&c===r&&u===i||this.addCommands({cmd:this.#D.bind(this,a,o,c,u),undo:this.#D.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#R(e,n){const[r,i]=this.parentDimensions,a=this.x,o=this.y,c=this.width,u=this.height,f=Ce.MIN_SIZE/r,h=Ce.MIN_SIZE/i,m=this.#N(this.rotation),v=(M,I)=>[m[0]*M+m[2]*I,m[1]*M+m[3]*I],y=this.#N(360-this.rotation),w=(M,I)=>[y[0]*M+y[2]*I,y[1]*M+y[3]*I];let x,S,_=!1,C=!1;switch(e){case"topLeft":_=!0,x=(M,I)=>[0,0],S=(M,I)=>[M,I];break;case"topMiddle":x=(M,I)=>[M/2,0],S=(M,I)=>[M/2,I];break;case"topRight":_=!0,x=(M,I)=>[M,0],S=(M,I)=>[0,I];break;case"middleRight":C=!0,x=(M,I)=>[M,I/2],S=(M,I)=>[0,I/2];break;case"bottomRight":_=!0,x=(M,I)=>[M,I],S=(M,I)=>[0,0];break;case"bottomMiddle":x=(M,I)=>[M/2,I],S=(M,I)=>[M/2,0];break;case"bottomLeft":_=!0,x=(M,I)=>[0,I],S=(M,I)=>[M,0];break;case"middleLeft":C=!0,x=(M,I)=>[0,I/2],S=(M,I)=>[M,I/2];break}const j=x(c,u),T=S(c,u);let k=v(...T);const N=Ce._round(a+k[0]),P=Ce._round(o+k[1]);let L=1,B=1,H,z;if(n.fromKeyboard)({deltaX:H,deltaY:z}=n);else{const{screenX:M,screenY:I}=n,[G,R]=this.#l;[H,z]=this.screenToPageTranslation(M-G,I-R),this.#l[0]=M,this.#l[1]=I}if([H,z]=w(H/r,z/i),_){const M=Math.hypot(c,u);L=B=Math.max(Math.min(Math.hypot(T[0]-j[0]-H,T[1]-j[1]-z)/M,1/c,1/u),f/c,h/u)}else C?L=tr(Math.abs(T[0]-j[0]-H),f,1)/c:B=tr(Math.abs(T[1]-j[1]-z),h,1)/u;const $=Ce._round(c*L),ne=Ce._round(u*B);k=v(...S($,ne));const Q=N-k[0],ie=P-k[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=$,this.height=ne,this.x=Q,this.y=ie,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new zu(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(zi.initialize(Ce._l10n),this.#r=new zi(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Fh(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#s){this._uiManager.isEditingMode()&&this.#s.classList.remove("hidden");return}this.hasComment&&(this.#s=this.#n.renderForStandalone(),this.div.append(this.#s))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#s=null}hideStandaloneCommentButton(){this.#s?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=this.#n;return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Fh(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(this.#n||=new Fh(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Fh(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[o]=this.pageTranslation,c=o+a+1,u=i-100,f=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,u,f,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),t5(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#j||=new bg({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#q(){this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const o=this.#N(this.rotation),c=(N,P)=>[o[0]*N+o[2]*P,o[1]*N+o[3]*P],[u,f]=this.parentDimensions,h=this.x,m=this.y,v=this.width,y=this.height,w=Ce.MIN_SIZE/u,x=Ce.MIN_SIZE/f;a=Math.max(Math.min(a,1/v,1/y),w/v,x/y);const S=Ce._round(v*a),_=Ce._round(y*a);if(S===v&&_===y)return;this.#u||=[h,m,v,y];const C=c(v/2,y/2),j=Ce._round(h+C[0]),T=Ce._round(m+C[1]),k=c(S/2,_/2);this.x=j-k[0],this.y=T-k[1],this.width=S,this.height=_,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#z()}pointerdown(e){const{isMac:n}=xn.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#B(e);return}this.#M(e)}#M(e){const{isMac:n}=xn.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:a},c=f=>{i.abort(),this.#i=null,this.#p=!1,this._uiManager.endDragSession()||this.#M(f),r&&this._onStopDragging()};n&&(this.#_=e.clientX,this.#A=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",f=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:m,pointerId:v}=f;if(v!==this.#i){Wt(f);return}const[y,w]=this.screenToPageTranslation(h-this.#_,m-this.#A);this.#_=h,this.#A=m,this._uiManager.dragSelectedEditors(y,w)},o),window.addEventListener("touchmove",Wt,o),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#j||f.isPrimary)&&c(f),Wt(f)},o));const u=f=>{if(!this.#i||this.#i===f.pointerId){c(f);return}Wt(f)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,o]=this.pageDimensions,[c,u]=this.pageTranslation,f=e/i,h=n/i,m=this.x*a,v=this.y*o,y=this.width*a,w=this.height*o;switch(r){case 0:return[m+f+c,o-v-h-w+u,m+f+y+c,o-v-h+u];case 90:return[m+h+c,o-v+f+u,m+h+w+c,o-v+f+y+u];case 180:return[m-f-y+c,o-v+h+u,m-f+c,o-v+h+w+u];case 270:return[m-h-w+c,o-v-f-y+u,m-h+c,o-v-f+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,o]=e,c=a-r,u=o-i;switch(this.rotation){case 0:return[r,n-o,c,u];case 90:return[r,n-i,u,c];case 180:return[a,n-i,c,u];case 270:return[a,n-o,u,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Ce._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:a,richText:o},uid:c,pageIndex:u,creationDate:f,modificationDate:h}=this;return{id:c,pageIndex:u,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:f,modificationDate:r||h,popupRef:!a,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:o}=window;return n<o&&i>0&&e<a&&r>0}#U(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[a,o]=i.pageDimensions,[c,u,f,h]=i.getRectInCurrentCoords(e.rect,o);return i.x=c/a,i.y=u/o,i.width=f/a,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#L(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#j?.destroy(),this.#j=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,a,o]=this.getPDFRect();return[Ce._round(r+(a-r)*e),Ce._round(i+(o-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#c.children;if(!this.#t){this.#t=Array.from(n);const o=this.#V.bind(this),c=this.#K.bind(this),u=this._uiManager._signal;for(const f of this.#t){const h=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",o,{signal:u}),f.addEventListener("blur",c,{signal:u}),f.addEventListener("focus",this.#Y.bind(this,h),{signal:u}),f.setAttribute("data-l10n-id",Ce._l10nResizer[h])}}const r=this.#t[0];let i=0;for(const o of n){if(o===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==i){if(a<i)for(let c=0;c<i-a;c++)this.#c.append(this.#c.firstElementChild);else if(a>i)for(let c=0;c<a-i;c++)this.#c.firstElementChild.before(this.#c.lastElementChild);let o=0;for(const c of n){const f=this.#t[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ce._l10nResizer[f])}}this.#$(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#V(e){Ce._resizerKeyboardManager.exec(this,e)}#K(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#L()}#Y(e){this.#g=this.#b?e:""}#$(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#b&&this.#R(this.#g,{deltaX:e,deltaY:n,fromKeyboard:!0})}#L(){this.#b=!1,this.#$(-1),this.#z()}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#w||=new Map;const{action:r}=e;let i=this.#w.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(r),this.#w.size===0&&(this.#w=null)},Ce._telemetryTimeout),this.#w.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstElementChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class tse extends Ce{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const XO=3285377520,Qr=4294901760,Li=65535;class n5{constructor(e){this.h1=e?e&4294967295:XO,this.h2=e?e&4294967295:XO}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let x=0,S=e.length;x<S;x++){const _=e.charCodeAt(x);_<=255?n[r++]=_:(n[r++]=_>>>8,n[r++]=_&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,o=new Uint32Array(n.buffer,0,i);let c=0,u=0,f=this.h1,h=this.h2;const m=3432918353,v=461845907,y=m&Li,w=v&Li;for(let x=0;x<i;x++)x&1?(c=o[x],c=c*m&Qr|c*y&Li,c=c<<15|c>>>17,c=c*v&Qr|c*w&Li,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(u=o[x],u=u*m&Qr|u*y&Li,u=u<<15|u>>>17,u=u*v&Qr|u*w&Li,h^=u,h=h<<13|h>>>19,h=h*5+3864292196);switch(c=0,a){case 3:c^=n[i*4+2]<<16;case 2:c^=n[i*4+1]<<8;case 1:c^=n[i*4],c=c*m&Qr|c*y&Li,c=c<<15|c>>>17,c=c*v&Qr|c*w&Li,i&1?f^=c:h^=c}this.h1=f,this.h2=h}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Qr|e*36045&Li,n=n*4283543511&Qr|((n<<16|e>>>16)*2950163797&Qr)>>>16,e^=n>>>1,e=e*444984403&Qr|e*60499&Li,n=n*3301882366&Qr|((n<<16|e>>>16)*3120437893&Qr)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const h1=Object.freeze({map:null,hash:"",transfer:void 0});class VS{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof Ce&&this.#r.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof Ce)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[a,o]of Object.entries(n))r[a]!==o&&(i=!0,r[a]=o);else i=!0,this.#n.set(e,n);i&&this.#s(),n instanceof Ce&&((this.#r||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#s(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new r5(this)}get serializable(){if(this.#n.size===0)return h1;const e=new Map,n=new n5,r=[],i=Object.create(null);let a=!1;for(const[o,c]of this.#n){const u=c instanceof Ce?c.serialize(!1,i):c;u&&(e.set(o,u),n.update(`${o}:${JSON.stringify(u)}`),a||=!!u.bitmap)}if(a)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:h1}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const a of this.#n.values()){if(!(a instanceof Ce)){a.popup&&(a.popup.deleted?i+=1:r+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(r+=1);const o=a.telemetryFinalData;if(!o)continue;const{type:c}=o;n.has(c)||n.set(c,Object.getPrototypeOf(a).constructor),e||=Object.create(null);const u=e[c]||=new Map;for(const[f,h]of Object.entries(o)){if(f==="type")continue;let m=u.get(f);m||(m=new Map,u.set(f,m));const v=m.get(h)??0;m.set(h,v+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[a,o]of n)e[a]=o.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const n of this.#r.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class r5 extends VS{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,a=structuredClone(n,i?{transfer:i}:null);this.#e={map:a,hash:r,transfer:i}}get print(){St("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Le(this,"modifiedIds",{ids:new Set,hash:""})}}class nse{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(Xe(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:o}=e,c=new FontFace(i,a,o);this.addNativeFontFace(c);try{await c.load(),this.#e.add(i),r?.(e)}catch{Re(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}St("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Re(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Le(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Le(this,"isSyncFontLoadingSupported",er||xn.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(Xe(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Le(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(T,k){return T.charCodeAt(k)<<24|T.charCodeAt(k+1)<<16|T.charCodeAt(k+2)<<8|T.charCodeAt(k+3)&255}function i(T,k,N,P){const L=T.substring(0,k),B=T.substring(k+N);return L+P+B}let a,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let f=0;function h(T,k){if(++f>30){Re("Load test font never loaded."),k();return}if(u.font="30px "+T,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,T,k))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=i(v,976,m.length,m);const w=16,x=1482184792;let S=r(v,w);for(a=0,o=m.length-3;a<o;a+=4)S=S-x+r(m,a)|0;a<m.length&&(S=S-x+r(m+"XXX",a)|0),v=i(v,w,4,Lae(S));const _=`url(data:font/opentype;base64,${btoa(v)});`,C=`@font-face {font-family:"${m}";src:${_}}`;this.insertRule(C);const j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(const T of[e.loadedName,m]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=T,j.append(k)}this._document.body.append(j),h(m,()=>{j.remove(),n.complete()})}}class rse{#e;constructor(e,n=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${QI(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(o){Re(`getPathGenerator - ignoring character: "${o}".`)}const a=e5(i?.path);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){Le(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){Le(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class Ul{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,r={};let i=0;for(const f of Ul.strings){const h=n.encode(e[f]);r[f]=h,i+=4+h.length}const a=new ArrayBuffer(i),o=new Uint8Array(a),c=new DataView(a);let u=0;for(const f of Ul.strings){const h=r[f],m=h.length;c.setUint32(u,m),o.set(h,u+4),u+=4+m}return Xe(u===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){Xe(e<Ul.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class $l{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,r={};let i=0;for(const v of $l.strings){const y=n.encode(e[v]);r[v]=y,i+=4+y.length}i+=4;let a,o,c=1+i;e.style&&(a=n.encode(e.style.style),o=n.encode(e.style.weight),c+=4+a.length+4+o.length);const u=new ArrayBuffer(c),f=new Uint8Array(u),h=new DataView(u);let m=0;h.setUint8(m++,e.guessFallback?1:0),h.setUint32(m,0),m+=4,i=0;for(const v of $l.strings){const y=r[v],w=y.length;i+=4+w,h.setUint32(m,w),f.set(y,m+4),m+=4+w}return h.setUint32(m-i-4,i),e.style&&(h.setUint32(m,a.length),f.set(a,m+4),m+=4+a.length,h.setUint32(m,o.length),f.set(o,m+4),m+=4+o.length),Xe(m<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(m)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){Xe(e<$l.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const i=this.#t.getUint32(e),a=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:a}}}class vt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#s=this.#n+1+6;#a;#i;#o;constructor({data:e,extra:n}){this.#a=e,this.#i=new TextDecoder,this.#o=new DataView(this.#a),n&&Object.assign(this,n)}#c(e){Xe(e<vt.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=this.#o.getUint8(n)>>r&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return Xe(e<vt.numbers.length,"Invalid number index"),this.#o.getFloat64(vt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=vt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=vt.#r;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#o.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=vt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}#f(e){Xe(e<vt.strings.length,"Invalid string index");let n=vt.#s+4;for(let a=0;a<e;a++)n+=this.#o.getUint32(n)+4;const r=this.#o.getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,n+4,r)),this.#i.decode(i)}get fallbackName(){return this.#f(0)}get loadedName(){return this.#f(1)}get mimetype(){return this.#f(2)}get name(){return this.#f(3)}get data(){let e=vt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const a=this.#o.getUint32(e);if(a!==0)return new Uint8Array(this.#a,e+4,a)}clearData(){let e=vt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const a=this.#o.getUint32(e);new Uint8Array(this.#a,e+4,a).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=vt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#a,e+4,i)),new Ul(a.buffer)}get systemFontInfo(){let e=vt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,e+4,r)),new $l(i.buffer)}static write(e){const n=e.systemFontInfo?$l.write(e.systemFontInfo):null,r=e.cssFontInfo?Ul.write(e.cssFontInfo):null,i=new TextEncoder,a={};let o=0;for(const x of vt.strings)a[x]=i.encode(e[x]),o+=4+a[x].length;const c=vt.#s+4+o+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(c),f=new Uint8Array(u),h=new DataView(u);let m=0;const v=vt.bools.length;let y=0,w=0;for(let x=0;x<v;x++){const S=e[vt.bools[x]];y|=(S===void 0?0:S?2:1)<<w,w+=2,(w===8||x===v-1)&&(h.setUint8(m++,y),y=0,w=0)}Xe(m===vt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const x of vt.numbers)h.setFloat64(m,e[x]),m+=8;if(Xe(m===vt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(m++,4);for(const x of e.bbox)h.setInt16(m,x,!0),m+=2}else h.setUint8(m++,0),m+=8;if(Xe(m===vt.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(m++,6);for(const x of e.fontMatrix)h.setFloat64(m,x,!0),m+=8}else h.setUint8(m++,0),m+=48;if(Xe(m===vt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(m++,1);for(const x of e.defaultVMetrics)h.setInt16(m,x,!0),m+=2}else h.setUint8(m++,0),m+=6;Xe(m===vt.#s,"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(vt.#s,0),m+=4;for(const x of vt.strings){const S=a[x],_=S.length;h.setUint32(m,_),f.set(S,m+4),m+=4+_}if(h.setUint32(vt.#s,m-vt.#s-4),!n)h.setUint32(m,0),m+=4;else{const x=n.byteLength;h.setUint32(m,x),Xe(m+4+x<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(n),m+4),m+=4+x}if(!r)h.setUint32(m,0),m+=4;else{const x=r.byteLength;h.setUint32(m,x),Xe(m+4+x<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(r),m+4),m+=4+x}return e.data===void 0?(h.setUint32(m,0),m+=4):(h.setUint32(m,e.data.length),f.set(e.data,m+4),m+=4+e.data.length),Xe(m<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(m)}}class kn{static#e=0;static#t=1;static#r=2;static#n=3;static#s=4;static#a=8;static#i=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],a=[],o=[],c=[],u=null,f=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],o=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,u=e[1],i=e[2],a=e[3],c=e[4]||[],r=e[6],f=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(i.length/2),m=Math.floor(a.length/3),v=o.length,y=c.length;let w=0;for(const k of c)w+=1,w=Math.ceil(w/4)*4,w+=4+k.coords.length*4,w+=4+k.colors.length*4,k.verticesPerRow!==void 0&&(w+=4);const x=20+h*8+m*3+v*8+(r?16:0)+(f?3:0)+w,S=new ArrayBuffer(x),_=new DataView(S),C=new Uint8Array(S);_.setUint8(kn.#e,n),_.setUint8(kn.#t,r?1:0),_.setUint8(kn.#r,f?1:0),_.setUint8(kn.#n,u),_.setUint32(kn.#s,h,!0),_.setUint32(kn.#a,m,!0),_.setUint32(kn.#i,v,!0),_.setUint32(kn.#o,y,!0);let j=20;new Float32Array(S,j,h*2).set(i),j+=h*8,C.set(a,j),j+=m*3;for(const[k,N]of o)_.setFloat32(j,k,!0),j+=4,_.setUint32(j,parseInt(N.slice(1),16),!0),j+=4;if(r)for(const k of r)_.setFloat32(j,k,!0),j+=4;f&&(C.set(f,j),j+=3);for(let k=0;k<c.length;k++){const N=c[k];_.setUint8(j,N.type),j+=1,j=Math.ceil(j/4)*4,_.setUint32(j,N.coords.length,!0),j+=4,new Int32Array(S,j,N.coords.length).set(N.coords),j+=N.coords.length*4,_.setUint32(j,N.colors.length,!0),j+=4,new Int32Array(S,j,N.colors.length).set(N.colors),j+=N.colors.length*4,N.verticesPerRow!==void 0&&(_.setUint32(j,N.verticesPerRow,!0),j+=4)}return S}getIR(){const e=this.view,n=this.data[kn.#e],r=!!this.data[kn.#t],i=!!this.data[kn.#r],a=e.getUint32(kn.#s,!0),o=e.getUint32(kn.#a,!0),c=e.getUint32(kn.#i,!0),u=e.getUint32(kn.#o,!0);let f=20;const h=new Float32Array(this.buffer,f,a*2);f+=a*8;const m=new Uint8Array(this.buffer,f,o*3);f+=o*3;const v=[];for(let S=0;S<c;++S){const _=e.getFloat32(f,!0);f+=4;const C=e.getUint32(f,!0);f+=4,v.push([_,`#${C.toString(16).padStart(6,"0")}`])}let y=null;if(r){y=[];for(let S=0;S<4;++S)y.push(e.getFloat32(f,!0)),f+=4}let w=null;i&&(w=new Uint8Array(this.buffer,f,3),f+=3);const x=[];for(let S=0;S<u;++S){const _=e.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const C=e.getUint32(f,!0);f+=4;const j=new Int32Array(this.buffer,f,C);f+=C*4;const T=e.getUint32(f,!0);f+=4;const k=new Int32Array(this.buffer,f,T);f+=T*4;const N={type:_,coords:j,colors:k};_===l1.LATTICE&&(N.verticesPerRow=e.getUint32(f,!0),f+=4),x.push(N)}if(n===1)return["RadialAxial","axial",y,v,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",y,v,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(n===3){const S=this.data[kn.#n];let _=null;if(h.length>0){let C=h[0],j=h[0],T=h[1],k=h[1];for(let N=0;N<h.length;N+=2){const P=h[N],L=h[N+1];C=C>P?P:C,T=T>L?L:T,j=j<P?P:j,k=k<L?L:k}_=[C,T,j,k]}return["Mesh",S,h,m,x,_,y,w]}throw new Error(`Unsupported pattern kind: ${n}`)}}class ise{static write(e){let n,r;return xn.isFloat16ArraySupported?(r=new ArrayBuffer(e.length*2),n=new Float16Array(r)):(r=new ArrayBuffer(e.length*4),n=new Float32Array(r)),n.set(e),r}#e;constructor(e){this.#e=e}get path(){return xn.isFloat16ArraySupported?new Float16Array(this.#e):new Float32Array(this.#e)}}function ase(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(er)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function sse(t){if(er&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Zd(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Uh(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const m1=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,ose=t=>typeof t=="object"&&typeof t?.name=="string",lse=Uae.bind(null,m1,ose);class cse{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:a}=r;if(a.aborted){Re("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const $h={DATA:1,ERROR:2},cn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function QO(){}function gr(t){if(t instanceof js||t instanceof c1||t instanceof HO||t instanceof pp||t instanceof Ib)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||St('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new js(t.message);case"InvalidPDFException":return new c1(t.message);case"PasswordException":return new HO(t.message,t.code);case"ResponseException":return new pp(t.message,t.status,t.missing);case"UnknownErrorException":return new Ib(t.message,t.details)}return new Ib(t.message,t.toString())}class Pu{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===$h.DATA)i.resolve(e.data);else if(e.callback===$h.ERROR)i.reject(gr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(o){a.postMessage({sourceName:r,targetName:i,callback:$h.DATA,callbackId:e.callbackId,data:o})},function(o){a.postMessage({sourceName:r,targetName:i,callback:$h.ERROR,callbackId:e.callbackId,reason:gr(o)})});return}if(e.streamId){this.#r(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(o){a.reject(o)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,o=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:f=>{const h=Promise.withResolvers();return this.streamControllers[a]={controller:f,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:c,action:e,streamId:a,data:n,desiredSize:f.desiredSize},i),h.promise},pull:f=>{const h=Promise.withResolvers();return this.streamControllers[a].pullCall=h,u.postMessage({sourceName:o,targetName:c,stream:cn.PULL,streamId:a,desiredSize:f.desiredSize}),h.promise},cancel:f=>{Xe(f instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[a].cancelCall=h,this.streamControllers[a].isClosed=!0,u.postMessage({sourceName:o,targetName:c,stream:cn.CANCEL,streamId:a,reason:gr(f)}),h.promise}},r)}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,o=this,c=this.actionHandler[e.action],u={enqueue(f,h=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=h,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:cn.ENQUEUE,streamId:n,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:cn.CLOSE,streamId:n}),delete o.streamSinks[n])},error(f){Xe(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:cn.ERROR,streamId:n,reason:gr(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[n]=u,Promise.try(c,e.data,u).then(function(){a.postMessage({sourceName:r,targetName:i,stream:cn.START_COMPLETE,streamId:n,success:!0})},function(f){a.postMessage({sourceName:r,targetName:i,stream:cn.START_COMPLETE,streamId:n,reason:gr(f)})})}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,o=this.streamControllers[n],c=this.streamSinks[n];switch(e.stream){case cn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(gr(e.reason));break;case cn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(gr(e.reason));break;case cn.PULL:if(!c){a.postMessage({sourceName:r,targetName:i,stream:cn.PULL_COMPLETE,streamId:n,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||QO).then(function(){a.postMessage({sourceName:r,targetName:i,stream:cn.PULL_COMPLETE,streamId:n,success:!0})},function(f){a.postMessage({sourceName:r,targetName:i,stream:cn.PULL_COMPLETE,streamId:n,reason:gr(f)})});break;case cn.ENQUEUE:if(Xe(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case cn.CLOSE:if(Xe(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#s(o,n);break;case cn.ERROR:Xe(o,"error should have stream controller"),o.controller.error(gr(e.reason)),this.#s(o,n);break;case cn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(gr(e.reason)),this.#s(o,n);break;case cn.CANCEL:if(!c)break;const u=gr(e.reason);Promise.try(c.onCancel||QO,u).then(function(){a.postMessage({sourceName:r,targetName:i,stream:cn.CANCEL_COMPLETE,streamId:n,success:!0})},function(f){a.postMessage({sourceName:r,targetName:i,stream:cn.CANCEL_COMPLETE,streamId:n,reason:gr(f)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#s(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class i5{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){St("Abstract method `_createCanvas` called.")}}class use extends i5{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class a5{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){St("Abstract method `_fetch` called.")}}class ZO extends a5{async _fetch(e){const n=await Jd(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Zd(n)}}class s5{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}class dse extends s5{#e;#t;#r;#n;#s;#a;#i=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#s=n}get#o(){return this.#t||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#r){const e=this.#s.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#s.createElementNS(ga,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#s.createElementNS(ga,"defs"),e.append(r),r.append(this.#r),this.#s.body.append(e)}return this.#r}#f(e){if(e.length===1){const u=e[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=u[m]/255;const h=f.join(",");return[h,h,h]}const[n,r,i]=e,a=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)a[u]=n[u]/255,o[u]=r[u]/255,c[u]=i[u]/255;return[a.join(","),o.join(","),c.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#s.URL;n!==this.#s.baseURI&&(yg(n)?Re('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=YI(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#o.get(e);if(n)return n;const[r,i,a]=this.#f(e),o=e.length===1?r:`${r}${i}${a}`;if(n=this.#o.get(o),n)return this.#o.set(e,n),n;const c=`g_${this.#n}_transfer_map_${this.#i++}`,u=this.#d(c);this.#o.set(e,u),this.#o.set(o,u);const f=this.#p(c);return this.#m(r,i,a,f),u}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let a=this.#c.get(i);if(a?.key===r||(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#c.set(i,a)),!e||!n))return a.url;const o=this.#b(e);e=pe.makeHexColor(...o);const c=this.#b(n);if(n=pe.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const u=new Array(256);for(let y=0;y<=255;y++){const w=y/255;u[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=u.join(","),h=`g_${this.#n}_hcm_filter`,m=a.filter=this.#p(h);this.#m(f,f,f,m),this.#g(m);const v=(y,w)=>{const x=o[y]/255,S=c[y]/255,_=new Array(w+1);for(let C=0;C<=w;C++)_[C]=x+C/w*(S-x);return _.join(",")};return this.#m(v(0,5),v(1,5),v(2,5),m),a.url=this.#d(h),a.url}addAlphaFilter(e){let n=this.#o.get(e);if(n)return n;const[r]=this.#f([e]),i=`alpha_${r}`;if(n=this.#o.get(i),n)return this.#o.set(e,n),n;const a=`g_${this.#n}_alpha_map_${this.#i++}`,o=this.#d(a);this.#o.set(e,o),this.#o.set(i,o);const c=this.#p(a);return this.#v(r,c),o}addLuminosityFilter(e){let n=this.#o.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#f([e]),i=`luminosity_${r}`):i="luminosity",n=this.#o.get(i),n)return this.#o.set(e,n),n;const a=`g_${this.#n}_luminosity_map_${this.#i++}`,o=this.#d(a);this.#o.set(e,o),this.#o.set(i,o);const c=this.#p(a);return this.#h(c),e&&this.#v(r,c),o}addHighlightHCMFilter(e,n,r,i,a){const o=`${n}-${r}-${i}-${a}`;let c=this.#c.get(e);if(c?.key===o||(c?(c.filter?.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},this.#c.set(e,c)),!n||!r))return c.url;const[u,f]=[n,r].map(this.#b.bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,y]=[i,a].map(this.#b.bind(this));m<h&&([h,m,v,y]=[m,h,y,v]),this.#l.style.color="";const w=(_,C,j)=>{const T=new Array(256),k=(m-h)/j,N=_/255,P=(C-_)/(255*j);let L=0;for(let B=0;B<=j;B++){const H=Math.round(h+B*k),z=N+B*P;for(let $=L;$<=H;$++)T[$]=z;L=H+1}for(let B=L;B<256;B++)T[B]=T[L-1];return T.join(",")},x=`g_${this.#n}_hcm_${e}_filter`,S=c.filter=this.#p(x);return this.#g(S),this.#m(w(v[0],y[0],5),w(v[1],y[1],5),w(v[2],y[2],5),S),c.url=this.#d(x),c.url}destroy(e=!1){e&&this.#a?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#i=0)}#h(e){const n=this.#s.createElementNS(ga,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#g(e){const n=this.#s.createElementNS(ga,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#p(e){const n=this.#s.createElementNS(ga,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#u(e,n,r){const i=this.#s.createElementNS(ga,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#m(e,n,r,i){const a=this.#s.createElementNS(ga,"feComponentTransfer");i.append(a),this.#u(a,"feFuncR",e),this.#u(a,"feFuncG",n),this.#u(a,"feFuncB",r)}#v(e,n){const r=this.#s.createElementNS(ga,"feComponentTransfer");n.append(r),this.#u(r,"feFuncA",e)}#b(e){return this.#l.style.color=e,tf(getComputedStyle(this.#l).getPropertyValue("color"))}}class o5{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){St("Abstract method `_fetch` called.")}}class JO extends o5{async _fetch(e){const n=await Jd(e,"arraybuffer");return new Uint8Array(n)}}class l5{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){St("Abstract method `_fetch` called.")}}class eP extends l5{async _fetch(e){const n=await Jd(e,"arraybuffer");return new Uint8Array(n)}}er&&Re("Please use the `legacy` build in Node.js environments.");async function YS(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class fse extends s5{}class hse extends i5{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class mse extends a5{async _fetch(e){return YS(e)}}class pse extends o5{async _fetch(e){return YS(e)}}class gse extends l5{async _fetch(e){return YS(e)}}const Al="__forcedDependency",{floor:tP,ceil:nP}=Math;function Hh(t,e,n,r,i,a){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],a)}const p1=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class vse{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===p1}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const qh=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class yse{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Al]:[]};#r=new Map;#n=[];#s=[];#a=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#f=new Map;#d=new Map;#h;#g;#p;#u;#m;constructor(e,n,r=!1){this.#h=e.width,this.#g=e.height,this.#v(n),r&&(this.#m=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,n){const r=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(r),this.#u=new Uint32Array(r),n&&n.length>0?(this.#u.set(n),this.#u.fill(p1,n.length)):this.#u.fill(p1)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Al]:{__proto__:this.#t[Al]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(qh(this.#m,e)?.dependencies.add(r),this.#u[e]=this.#u[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(qh(this.#m,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}beginMarkedContent(e){return this.#s.push(e),this}endMarkedContent(e){const n=this.#s.pop();return n!==void 0&&(qh(this.#m,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}pushBaseTransform(e){return this.#a.push(pe.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#r.set(e,n),this}recordSimpleDataFromNamed(e,n,r){this.#e[e]=this.#r.get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Al,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Al,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,n,r,i,a,o){const c=pe.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform()),u=[1/0,1/0,-1/0,-1/0];pe.axialAlignedBoundingBox([r,a,i,o],c,u);const f=pe.intersect(this.#i,u);return f?(this.#i[0]=f[0],this.#i[1]=f[1],this.#i[2]=f[2],this.#i[3]=f[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,n,r,i,a,o){const c=this.#i;if(c[0]===1/0)return this;const u=pe.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform());if(c[0]===-1/0)return pe.axialAlignedBoundingBox([r,a,i,o],u,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return pe.axialAlignedBoundingBox([r,a,i,o],u,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],c[3])),this}recordCharacterBBox(e,n,r,i=1,a=0,o=0,c){const u=r.bbox;let f,h;if(u&&(f=u[2]!==u[0]&&u[3]!==u[1]&&this.#d.get(r),f!==!1&&(h=[0,0,0,0],pe.axialAlignedBoundingBox(u,r.fontMatrix,h),(i!==1||a!==0||o!==0)&&pe.scaleMinMax([i,0,0,-i,a,o],h),f)))return this.recordBBox(e,n,h[0],h[2],h[1],h[3]);if(!c)return this.recordFullPageBBox(e);const m=c();return u&&h&&f===void 0&&(f=h[0]<=a-m.actualBoundingBoxLeft&&h[2]>=a+m.actualBoundingBoxRight&&h[1]<=o-m.actualBoundingBoxAscent&&h[3]>=o+m.actualBoundingBoxDescent,this.#d.set(r,f),f)?this.recordBBox(e,n,h[0],h[2],h[1],h[3]):this.recordBBox(e,n,a-m.actualBoundingBoxLeft,a+m.actualBoundingBoxRight,o-m.actualBoundingBoxAscent,o+m.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#h,this.#i[2]),this.#o[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const r=this.#l,i=this.#e,a=this.#t;for(const o of n)o in this.#e?r.add(i[o]):o in a&&a[o].forEach(r.add,r);return this}recordNamedDependency(e,n){return this.#r.has(n)&&this.#l.add(this.#r.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Al]),this.#m){const r=qh(this.#m,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#s.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#c===e){const r=tP(this.#o[0]*256/this.#h),i=tP(this.#o[1]*256/this.#g),a=nP(this.#o[2]*256/this.#h),o=nP(this.#o[3]*256/this.#g);Hh(this.#p,e,r,i,a,o);for(const c of this.#l)c!==e&&Hh(this.#p,c,r,i,a,o);for(const c of this.#n)c!==e&&Hh(this.#p,c,r,i,a,o);for(const c of this.#s)c!==e&&Hh(this.#p,c,r,i,a,o);n||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,n=!1){const r=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#c===e&&(this.#c=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#f.get(e);return this.#f.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new vse(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class gp{#e;#t;#r;#n=0;#s=0;constructor(e,n,r){if(e instanceof gp&&e.#r===!!r)return e;this.#e=e,this.#t=n,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#s++,this.#e.save(this.#t),this}restore(e){return this.#s>0&&(this.#e.restore(this.#t),this.#s--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,r,i,a,o){return this.#r||this.#e.recordClipBox(this.#t,n,r,i,a,o),this}recordBBox(e,n,r,i,a,o){return this.#r||this.#e.recordBBox(this.#t,n,r,i,a,o),this}recordCharacterBBox(e,n,r,i,a,o,c){return this.#r||this.#e.recordCharacterBBox(this.#t,n,r,i,a,o,c),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Zr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},$n={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function g1(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class WS{isModifyingCurrentTransform(){return!1}getPattern(){St("Abstract method `getPattern` called.")}}class bse extends WS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,n=null){let r,i=this._p0,a=this._p1;if(n&&(i=i.slice(),a=a.slice(),pe.applyTransform(i,n),pe.applyTransform(a,n)),this._type==="axial")r=e.createLinearGradient(i[0],i[1],a[0],a[1]);else if(this._type==="radial"){let o=this._r0,c=this._r1;if(n){const u=new Float32Array(2);pe.singularValueDecompose2dScale(n,u),o*=u[0],c*=u[0]}r=e.createRadialGradient(i[0],i[1],o,a[0],a[1],c)}for(const o of this._colorStops)r.addColorStop(o[0],o[1]);return r}getPattern(e,n,r,i){let a;if(i===$n.STROKE||i===$n.FILL){if(this.isOriginBased()){let v=pe.transform(r,n.baseTransform);this.matrix&&(v=pe.transform(v,this.matrix));const y=.001,w=Math.hypot(v[0],v[1]),x=Math.hypot(v[2],v[3]),S=(v[0]*v[2]+v[1]*v[3])/(w*x);if(Math.abs(S)<y)if(this.isRadial()){if(Math.abs(w-x)<y)return this._createGradient(e,v)}else return this._createGradient(e,v)}const o=n.current.getClippedPathBoundingBox(i,zt(e))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,f=n.cachedCanvases.getCanvas("pattern",c,u),h=f.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=pe.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...n.baseTransform),this.matrix&&h.transform(...this.matrix),g1(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),a=e.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(r);a.setTransform(m)}else g1(e,this._bbox),a=this._createGradient(e);return a}}function Fb(t,e,n,r,i,a,o,c){const u=e.coords,f=e.colors,h=t.data,m=t.width*4;let v;u[n+1]>u[r+1]&&(v=n,n=r,r=v,v=a,a=o,o=v),u[r+1]>u[i+1]&&(v=r,r=i,i=v,v=o,o=c,c=v),u[n+1]>u[r+1]&&(v=n,n=r,r=v,v=a,a=o,o=v);const y=(u[n]+e.offsetX)*e.scaleX,w=(u[n+1]+e.offsetY)*e.scaleY,x=(u[r]+e.offsetX)*e.scaleX,S=(u[r+1]+e.offsetY)*e.scaleY,_=(u[i]+e.offsetX)*e.scaleX,C=(u[i+1]+e.offsetY)*e.scaleY;if(w>=C)return;const j=f[a],T=f[a+1],k=f[a+2],N=f[o],P=f[o+1],L=f[o+2],B=f[c],H=f[c+1],z=f[c+2],$=Math.round(w),ne=Math.round(C);let Q,ie,M,I,G,R,oe,F;for(let V=$;V<=ne;V++){if(V<S){const he=V<w?0:(w-V)/(w-S);Q=y-(y-x)*he,ie=j-(j-N)*he,M=T-(T-P)*he,I=k-(k-L)*he}else{let he;V>C?he=1:S===C?he=0:he=(S-V)/(S-C),Q=x-(x-_)*he,ie=N-(N-B)*he,M=P-(P-H)*he,I=L-(L-z)*he}let ce;V<w?ce=0:V>C?ce=1:ce=(w-V)/(w-C),G=y-(y-_)*ce,R=j-(j-B)*ce,oe=T-(T-H)*ce,F=k-(k-z)*ce;const ue=Math.round(Math.min(Q,G)),ge=Math.round(Math.max(Q,G));let Ee=m*V+ue*4;for(let he=ue;he<=ge;he++)ce=(Q-he)/(Q-G),ce<0?ce=0:ce>1&&(ce=1),h[Ee++]=ie-(ie-R)*ce|0,h[Ee++]=M-(M-oe)*ce|0,h[Ee++]=I-(I-F)*ce|0,h[Ee++]=255}}function xse(t,e,n){const r=e.coords,i=e.colors;let a,o;switch(e.type){case l1.LATTICE:const c=e.verticesPerRow,u=Math.floor(r.length/c)-1,f=c-1;for(a=0;a<u;a++){let h=a*c;for(let m=0;m<f;m++,h++)Fb(t,n,r[h],r[h+1],r[h+c],i[h],i[h+1],i[h+c]),Fb(t,n,r[h+c+1],r[h+1],r[h+c],i[h+c+1],i[h+1],i[h+c])}break;case l1.TRIANGLES:for(a=0,o=r.length;a<o;a+=3)Fb(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class wse extends WS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,h=Math.ceil(this._bounds[3])-u,m=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=f/m,w=h/v,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/y,scaleY:1/w},S=m+4,_=v+4,C=r.getCanvas("mesh",S,_),j=C.context,T=j.createImageData(m,v);if(n){const N=T.data;for(let P=0,L=N.length;P<L;P+=4)N[P]=n[0],N[P+1]=n[1],N[P+2]=n[2],N[P+3]=255}for(const N of this._figures)xse(T,N,x);return j.putImageData(T,2,2),{canvas:C.canvas,offsetX:c-2*y,offsetY:u-2*w,scaleX:y,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){g1(e,this._bbox);const a=new Float32Array(2);if(i===$n.SHADING)pe.singularValueDecompose2dScale(zt(e),a);else if(this.matrix){pe.singularValueDecompose2dScale(this.matrix,a);const[c,u]=a;pe.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=c,a[1]*=u}else pe.singularValueDecompose2dScale(n.baseTransform,a);const o=this._createMeshCanvas(a,i===$n.SHADING?null:this._background,n.cachedCanvases);return i!==$n.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Sse extends WS{getPattern(){return"hotpink"}}function Ase(t){switch(t[0]){case"RadialAxial":return new bse(t);case"Mesh":return new wse(t);case"Dummy":return new Sse}throw new Error(`Unknown IR type: ${t[0]}`)}const rP={COLORED:1,UNCOLORED:2};class XS{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){const{bbox:r,operatorList:i,paintType:a,tilingType:o,color:c,canvasGraphicsFactory:u}=this;let{xstep:f,ystep:h}=this;f=Math.abs(f),h=Math.abs(h),vg("TilingType: "+o);const m=r[0],v=r[1],y=r[2],w=r[3],x=y-m,S=w-v,_=new Float32Array(2);pe.singularValueDecompose2dScale(this.matrix,_);const[C,j]=_;pe.singularValueDecompose2dScale(this.baseTransform,_);const T=C*_[0],k=j*_[1];let N=x,P=S,L=!1,B=!1;const H=Math.ceil(f*T),z=Math.ceil(h*k),$=Math.ceil(x*T),ne=Math.ceil(S*k);H>=$?N=f:L=!0,z>=ne?P=h:B=!0;const Q=this.getSizeAndScale(N,this.ctx.canvas.width,T),ie=this.getSizeAndScale(P,this.ctx.canvas.height,k),M=e.cachedCanvases.getCanvas("pattern",Q.size,ie.size),I=M.context,G=u.createCanvasGraphics(I,n);if(G.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(G,a,c),I.translate(-Q.scale*m,-ie.scale*v),G.transform(0,Q.scale,0,0,ie.scale,0,0),I.save(),G.dependencyTracker?.save(),this.clipBbox(G,m,v,y,w),G.baseTransform=zt(G.ctx),G.executeOperatorList(i),G.endDrawing(),G.dependencyTracker?.restore(),I.restore(),L||B){const R=M.canvas;L&&(N=f),B&&(P=h);const oe=this.getSizeAndScale(N,this.ctx.canvas.width,T),F=this.getSizeAndScale(P,this.ctx.canvas.height,k),V=oe.size,ce=F.size,ue=e.cachedCanvases.getCanvas("pattern-workaround",V,ce),ge=ue.context,Ee=L?Math.floor(x/f):0,he=B?Math.floor(S/h):0;for(let lt=0;lt<=Ee;lt++)for(let te=0;te<=he;te++)ge.drawImage(R,V*lt,ce*te,V,ce,0,0,V,ce);return{canvas:ue.canvas,scaleX:oe.scale,scaleY:F.scale,offsetX:m,offsetY:v}}return{canvas:M.canvas,scaleX:Q.scale,scaleY:ie.scale,offsetX:m,offsetY:v}}getSizeAndScale(e,n,r){const i=Math.max(XS.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const o=i-n,c=a-r;e.ctx.rect(n,r,o,c),pe.axialAlignedBoundingBox([n,r,i,a],zt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case rP.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;i.fillStyle=a.fillColor=o,i.strokeStyle=a.strokeColor=c;break;case rP.UNCOLORED:i.fillStyle=i.strokeStyle=r,a.fillColor=a.strokeColor=r;break;default:throw new Rae(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,a){let o=r;i!==$n.SHADING&&(o=pe.transform(o,n.baseTransform),this.matrix&&(o=pe.transform(o,this.matrix)));const c=this.createPatternCanvas(n,a);let u=new DOMMatrix(o);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const f=e.createPattern(c.canvas,"repeat");return f.setTransform(u),f}}function Ese({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const c=xn.isLittleEndian?4278190080:255,[u,f]=o?[a,c]:[c,a],h=r>>3,m=r&7,v=t.length;n=new Uint32Array(n.buffer);let y=0;for(let w=0;w<i;w++){for(const S=e+h;e<S;e++){const _=e<v?t[e]:255;n[y++]=_&128?f:u,n[y++]=_&64?f:u,n[y++]=_&32?f:u,n[y++]=_&16?f:u,n[y++]=_&8?f:u,n[y++]=_&4?f:u,n[y++]=_&2?f:u,n[y++]=_&1?f:u}if(m===0)continue;const x=e<v?t[e++]:255;for(let S=0;S<m;S++)n[y++]=x&1<<7-S?f:u}return{srcPos:e,destPos:y}}const iP=16,aP=100,_se=15,sP=10,vr=16,Ub=new DOMMatrix,Or=new Float32Array(2),Rl=new Float32Array([1/0,1/0,-1/0,-1/0]);function Cse(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,a,o,c){e.transform(n,r,i,a,o,c),this.__originalTransform(n,r,i,a,o,c)},t.setTransform=function(n,r,i,a,o,c){e.setTransform(n,r,i,a,o,c),this.__originalSetTransform(n,r,i,a,o,c)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,o,c){e.bezierCurveTo(n,r,i,a,o,c),this.__originalBezierCurveTo(n,r,i,a,o,c)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class jse{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Gh(t,e,n,r,i,a,o,c,u,f){const[h,m,v,y,w,x]=zt(t);if(m===0&&v===0){const C=o*h+w,j=Math.round(C),T=c*y+x,k=Math.round(T),N=(o+u)*h+w,P=Math.abs(Math.round(N)-j)||1,L=(c+f)*y+x,B=Math.abs(Math.round(L)-k)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(y),j,k),t.drawImage(e,n,r,i,a,0,0,P,B),t.setTransform(h,m,v,y,w,x),[P,B]}if(h===0&&y===0){const C=c*v+w,j=Math.round(C),T=o*m+x,k=Math.round(T),N=(c+f)*v+w,P=Math.abs(Math.round(N)-j)||1,L=(o+u)*m+x,B=Math.abs(Math.round(L)-k)||1;return t.setTransform(0,Math.sign(m),Math.sign(v),0,j,k),t.drawImage(e,n,r,i,a,0,0,B,P),t.setTransform(h,m,v,y,w,x),[B,P]}t.drawImage(e,n,r,i,a,o,c,u,f);const S=Math.hypot(h,m),_=Math.hypot(v,y);return[S*u,_*f]}class oP{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=o1;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=vn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,r){r?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=Rl.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=$n.FILL,n=null){const r=this.minMax.slice();if(e===$n.STROKE){n||St("Stroke bounding box must include transform."),pe.singularValueDecompose2dScale(n,Or);const i=Or[0]*this.lineWidth/2,a=Or[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const e=pe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Rl,0)}getClippedPathBoundingBox(e=$n.FILL,n=null){return pe.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function lP(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%vr,a=(n-i)/vr,o=i===0?a:a+1,c=t.createImageData(r,vr);let u=0,f;const h=e.data,m=c.data;let v,y,w,x;if(e.kind===lm.GRAYSCALE_1BPP){const S=h.byteLength,_=new Uint32Array(m.buffer,0,m.byteLength>>2),C=_.length,j=r+7>>3,T=4294967295,k=xn.isLittleEndian?4278190080:255;for(v=0;v<o;v++){for(w=v<a?vr:i,f=0,y=0;y<w;y++){const N=S-u;let P=0;const L=N>j?r:N*8-7,B=L&-8;let H=0,z=0;for(;P<B;P+=8)z=h[u++],_[f++]=z&128?T:k,_[f++]=z&64?T:k,_[f++]=z&32?T:k,_[f++]=z&16?T:k,_[f++]=z&8?T:k,_[f++]=z&4?T:k,_[f++]=z&2?T:k,_[f++]=z&1?T:k;for(;P<L;P++)H===0&&(z=h[u++],H=128),_[f++]=z&H?T:k,H>>=1}for(;f<C;)_[f++]=0;t.putImageData(c,0,v*vr)}}else if(e.kind===lm.RGBA_32BPP){for(y=0,x=r*vr*4,v=0;v<a;v++)m.set(h.subarray(u,u+x)),u+=x,t.putImageData(c,0,y),y+=vr;v<o&&(x=r*i*4,m.set(h.subarray(u,u+x)),t.putImageData(c,0,y))}else if(e.kind===lm.RGB_24BPP)for(w=vr,x=r*w,v=0;v<o;v++){for(v>=a&&(w=i,x=r*w),f=0,y=x;y--;)m[f++]=h[u++],m[f++]=h[u++],m[f++]=h[u++],m[f++]=255;t.putImageData(c,0,v*vr)}else throw new Error(`bad image kind: ${e.kind}`)}function cP(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%vr,a=(n-i)/vr,o=i===0?a:a+1,c=t.createImageData(r,vr);let u=0;const f=e.data,h=c.data;for(let m=0;m<o;m++){const v=m<a?vr:i;({srcPos:u}=Ese({src:f,srcPos:u,dest:h,width:r,height:v,nonBlackColor:0})),t.putImageData(c,0,m*vr)}}function Eu(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Kh(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function uP(t,e){if(e)return!0;pe.singularValueDecompose2dScale(t,Or);const n=Math.fround(Xi.pixelRatio*rc.PDF_TO_CSS_UNITS);return Or[0]<=n&&Or[1]<=n}const kse=["butt","round","square"],Nse=["miter","round","bevel"],Tse={},dP={};class Hl{constructor(e,n,r,i,a,{optionalContentConfig:o,markedContentStack:c=null},u,f,h){this.ctx=e,this.current=new oP(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new jse(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,n,r=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=c,r){const u=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...zt(this.compositeCtx))}this.ctx.save(),Kh(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=zt(this.ctx)}executeOperatorList(e,n,r,i,a){const o=e.argsArray,c=e.fnArray;let u=n||0;const f=o.length;if(f===u)return u;const h=f-u>sP&&typeof r=="function",m=h?Date.now()+_se:0;let v=0;const y=this.commonObjs,w=this.objs;let x,S;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,r),u;if(!a||a(u))if(x=c[u],S=o[u]??null,x!==xd.dependency)S===null?this[x](u):this[x](u,...S);else for(const _ of S){this.dependencyTracker?.recordNamedData(_,u);const C=_.startsWith("g_")?y:w;if(!C.has(_))return C.get(_,r),u}if(u++,u===f)return u;if(h&&++v>sP){if(Date.now()>m)return r(),u;v=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),c=r,u=i,f="prescale1",h,m;for(;a>2&&c>1||o>2&&u>1;){let v=c,y=u;a>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/v),o>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/y),h=this.cachedCanvases.getCanvas(f,v,y),m=h.context,m.clearRect(0,0,v,y),m.drawImage(e,0,0,c,u,0,0,v,y),e=h.canvas,c=v,u=y,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:u}}_createMaskCanvas(e,n){const r=this.ctx,{width:i,height:a}=n,o=this.current.fillColor,c=this.current.patternFill,u=zt(r);let f,h,m,v;if((n.bitmap||n.data)&&n.count>1){const H=n.bitmap||n.data.buffer;h=JSON.stringify(c?u:[u.slice(0,4),o]),f=this._cachedBitmapsMap.get(H),f||(f=new Map,this._cachedBitmapsMap.set(H,f));const z=f.get(h);if(z&&!c){const $=Math.round(Math.min(u[0],u[2])+u[4]),ne=Math.round(Math.min(u[1],u[3])+u[5]);return this.dependencyTracker?.recordDependencies(e,Zr.transformAndFill),{canvas:z,offsetX:$,offsetY:ne}}m=z}m||(v=this.cachedCanvases.getCanvas("maskCanvas",i,a),cP(v.context,n));let y=pe.transform(u,[1/i,0,0,-1/a,0,0]);y=pe.transform(y,[1,0,0,1,0,-a]);const w=Rl.slice();pe.axialAlignedBoundingBox([0,0,i,a],y,w);const[x,S,_,C]=w,j=Math.round(_-x)||1,T=Math.round(C-S)||1,k=this.cachedCanvases.getCanvas("fillCanvas",j,T),N=k.context,P=x,L=S;N.translate(-P,-L),N.transform(...y),m||(m=this._scaleImage(v.canvas,Ri(N)),m=m.img,f&&c&&f.set(h,m)),N.imageSmoothingEnabled=uP(zt(N),n.interpolate),Gh(N,m,0,0,m.width,m.height,0,0,i,a),N.globalCompositeOperation="source-in";const B=pe.transform(Ri(N),[1,0,0,1,-P,-L]);return N.fillStyle=c?o.getPattern(r,this,B,$n.FILL,e):o,N.fillRect(0,0,i,a),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(h,k.canvas)),this.dependencyTracker?.recordDependencies(e,Zr.transformAndFill),{canvas:k.canvas,offsetX:Math.round(P),offsetY:Math.round(L)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=kse[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Nse[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[r,i]of n)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const o=this.ctx=a.context;o.setTransform(this.suspendedCtx.getTransform()),Eu(this.suspendedCtx,o),Cse(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Eu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],o=i[1],c=i[2]-a,u=i[3]-o;c===0||u===0||(this.genericComposeSMask(n.context,r,c,u,n.subtype,n.backdrop,n.transferMap,a,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,o,c,u,f,h,m){let v=e.canvas,y=u-h,w=f-m;if(o)if(y<0||w<0||y+r>v.width||w+i>v.height){const S=this.cachedCanvases.getCanvas("maskExtension",r,i),_=S.context;_.drawImage(v,-y,-w),_.globalCompositeOperation="destination-atop",_.fillStyle=o,_.fillRect(0,0,r,i),_.globalCompositeOperation="source-over",v=S.canvas,y=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(y,w,r,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(y,w,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?n.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(u,f,r,i),n.clip(x),n.globalCompositeOperation="destination-in",n.drawImage(v,y,w,r,i,u,f,r,i),n.restore()}save(e){this.inSMaskMode&&Eu(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Eu(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,a,o,c){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,a,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[a]=r;if(!i){a||=r[0]=new Path2D,this[n](e,a);return}if(this.dependencyTracker!==null){const o=n===xd.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-o,i[2]+o,i[1]-o,i[3]+o).recordDependencies(e,["transform"])}a instanceof Path2D||(a=r[0]=e5(a)),pe.axialAlignedBoundingBox(i,zt(this.ctx),this.current.minMax),this[n](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,Ri(i),$n.STROKE,e),o){const c=new Path2D;c.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=c}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,Zr.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox($n.STROKE,zt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){const i=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const f=a.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=a.getPattern(i,this,Ri(i),$n.FILL,e),f){const h=new Path2D;h.addPath(n,i.getTransform().invertSelf().multiplySelf(f)),n=h}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),this.dependencyTracker?.recordDependencies(e,Zr.fill),c&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,n,u)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,Zr.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Tse}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=dP}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,a=r.getTransform().invertSelf();for(const{transform:o,x:c,y:u,fontSize:f,path:h}of n)h&&i.addPath(h,new DOMMatrix(o).preMultiplySelf(a).translate(c,u).scale(f,-f));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),a=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=i.fontMatrix||o1,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Re("Invalid font matrix for font "+n),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const o=i.loadedName||"sans-serif",c=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const f=i.italic?"italic":"normal";let h=r;r<iP?h=iP:r>aP&&(h=aP),this.current.fontSizeScale=r/h,this.ctx.font=`${f} ${u} ${h}px ${c}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,a,o){const c=this.ctx,u=this.current,f=u.font,h=u.textRenderingMode,m=u.fontSize/u.fontSizeScale,v=h&vn.FILL_STROKE_MASK,y=!!(h&vn.ADD_TO_PATH_FLAG),w=u.patternFill&&!f.missingFile,x=u.patternStroke&&!f.missingFile;let S;if((f.disableFontFace||y||w||x)&&!f.missingFile&&(S=f.getPathGenerator(this.commonObjs,n)),S&&(f.disableFontFace||w||x)){c.save(),c.translate(r,i),c.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(e,c,f);let _;if(v===vn.FILL||v===vn.FILL_STROKE)if(a){_=c.getTransform(),c.setTransform(...a);const C=this.#r(S,_,a);c.fill(C)}else c.fill(S);if(v===vn.STROKE||v===vn.FILL_STROKE)if(o){_||=c.getTransform(),c.setTransform(...o);const{a:C,b:j,c:T,d:k}=_,N=pe.inverseTransform(o),P=pe.transform([C,j,T,k,0,0],N);pe.singularValueDecompose2dScale(P,Or),c.lineWidth*=Math.max(Or[0],Or[1])/m,c.stroke(this.#r(S,_,o))}else c.lineWidth/=m,c.stroke(S);c.restore()}else(v===vn.FILL||v===vn.FILL_STROKE)&&(c.fillText(n,r,i),this.dependencyTracker?.recordCharacterBBox(e,c,f,m,r,i,()=>c.measureText(n))),(v===vn.STROKE||v===vn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,c,f,m,r,i,()=>c.measureText(n)).recordDependencies(e,Zr.stroke),c.strokeText(n,r,i));y&&((this.pendingTextPaths||=[]).push({transform:zt(c),x:r,y:i,fontSize:m,path:S}),this.dependencyTracker?.recordCharacterBBox(e,c,f,m,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Le(this,"isFontSubpixelAAEnabled",r)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Zr.showText).resetBBox(e),this.current.textRenderingMode&vn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const a=r.fontSize;if(a===0){this.dependencyTracker?.recordOperation(e);return}const o=this.ctx,c=r.fontSizeScale,u=r.charSpacing,f=r.wordSpacing,h=r.fontDirection,m=r.textHScale*h,v=n.length,y=i.vertical,w=y?1:-1,x=i.defaultVMetrics,S=a*r.fontMatrix[0],_=r.textRenderingMode===vn.FILL&&!i.disableFontFace&&!r.patternFill;o.save(),r.textMatrix&&o.transform(...r.textMatrix),o.translate(r.x,r.y+r.textRise),h>0?o.scale(m,-1):o.scale(m,1);let C,j;const T=r.textRenderingMode&vn.FILL_STROKE_MASK,k=T===vn.FILL||T===vn.FILL_STROKE,N=T===vn.STROKE||T===vn.FILL_STROKE;if(k&&r.patternFill){o.save();const z=r.fillColor.getPattern(o,this,Ri(o),$n.FILL,e);C=zt(o),o.restore(),o.fillStyle=z}if(N&&r.patternStroke){o.save();const z=r.strokeColor.getPattern(o,this,Ri(o),$n.STROKE,e);j=zt(o),o.restore(),o.strokeStyle=z}let P=r.lineWidth;const L=r.textMatrixScale;if(L===0||P===0?N&&(P=this.getSinglePixelWidth()):P/=L,c!==1&&(o.scale(c,c),P/=c),o.lineWidth=P,i.isInvalidPDFjsFont){const z=[];let $=0;for(const Q of n)z.push(Q.unicode),$+=Q.width;const ne=z.join("");if(o.fillText(ne,0,0),this.dependencyTracker!==null){const Q=o.measureText(ne);this.dependencyTracker.recordBBox(e,this.ctx,-Q.actualBoundingBoxLeft,Q.actualBoundingBoxRight,-Q.actualBoundingBoxAscent,Q.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=$*S*m,o.restore(),this.compose();return}let B=0,H;for(H=0;H<v;++H){const z=n[H];if(typeof z=="number"){B+=w*z*a/1e3;continue}let $=!1;const ne=(z.isSpace?f:0)+u,Q=z.fontChar,ie=z.accent;let M,I,G=z.width;if(y){const F=z.vmetric||x,V=-(z.vmetric?F[1]:G*.5)*S,ce=F[2]*S;G=F?-F[0]:G,M=V/c,I=(B+ce)/c}else M=B/c,I=0;let R;if(i.remeasure&&G>0){R=o.measureText(Q);const F=R.width*1e3/a*c;if(G<F&&this.isFontSubpixelAAEnabled){const V=G/F;$=!0,o.save(),o.scale(V,1),M/=V}else G!==F&&(M+=(G-F)/2e3*a/c)}if(this.contentVisible&&(z.isInFont||i.missingFile)){if(_&&!ie)o.fillText(Q,M,I),this.dependencyTracker?.recordCharacterBBox(e,o,R?{bbox:null}:i,a/c,M,I,()=>R??o.measureText(Q));else if(this.paintChar(e,Q,M,I,C,j),ie){const F=M+a*ie.offset.x/c,V=I-a*ie.offset.y/c;this.paintChar(e,ie.fontChar,F,V,C,j)}}const oe=y?G*S-ne*h:G*S+ne*h;B+=oe,$&&o.restore()}y?r.y-=B:r.x+=B*m,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,a=i.font,o=i.fontSize,c=i.fontDirection,u=a.vertical?1:-1,f=i.charSpacing,h=i.wordSpacing,m=i.textHScale*c,v=i.fontMatrix||o1,y=n.length,w=i.textRenderingMode===vn.INVISIBLE;let x,S,_,C;if(w||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(m,c);const j=this.dependencyTracker;for(this.dependencyTracker=j?new gp(j,e):null,x=0;x<y;++x){if(S=n[x],typeof S=="number"){C=u*S*o/1e3,this.ctx.translate(C,0),i.x+=C*m;continue}const T=(S.isSpace?h:0)+f,k=a.charProcOperatorList[S.operatorListId];k?this.contentVisible&&(this.save(),r.scale(o,o),r.transform(...v),this.executeOperatorList(k),this.restore()):Re(`Type3 character "${S.operatorListId}" is not available.`);const N=[S.width,0];pe.applyTransform(N,v),_=N[0]*o+T,r.translate(_,0),i.x+=_*m}r.restore(),j&&(this.dependencyTracker=j)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,a,o,c){const u=new Path2D;u.rect(i,a,o-i,c-a),this.ctx.clip(u),this.dependencyTracker?.recordBBox(e,this.ctx,i,o,a,c).recordClipBox(e,this.ctx,i,o,a,c),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||zt(this.ctx),a={createCanvasGraphics:(o,c)=>new Hl(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new gp(this.dependencyTracker,c,!0):null)};r=new XS(n,this.ctx,a,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=Ase(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,Ri(r),$n.SHADING,e);const a=Ri(r);if(a){const{width:o,height:c}=r.canvas,u=Rl.slice();pe.axialAlignedBoundingBox([0,0,o,c],a,u);const[f,h,m,v]=u;this.ctx.fillRect(f,h,m-f,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Zr.transform).recordDependencies(e,Zr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){St("Should not call beginInlineImage")}beginImageData(){St("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=zt(this.ctx),r)){pe.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,a,o,c]=r,u=new Path2D;u.rect(i,a,o-i,c-a),this.ctx.clip(u),this.dependencyTracker?.recordClipBox(e,this.ctx,i,o,a,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||vg("TODO: Support non-isolated groups."),n.knockout&&Re("Knockout groups not supported.");const i=zt(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=Rl.slice();pe.axialAlignedBoundingBox(n.bbox,zt(r),a);const o=[0,0,r.canvas.width,r.canvas.height];a=pe.intersect(a,o)||[0,0,0,0];const c=Math.floor(a[0]),u=Math.floor(a[1]),f=Math.max(Math.ceil(a[2])-c,1),h=Math.max(Math.ceil(a[3])-u,1);this.current.startNewPathAndClipBox([0,0,f,h]);let m="groupAt"+this.groupLevel;n.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,f,h),y=v.context;y.translate(-c,-u),y.transform(...i);let w=new Path2D;const[x,S,_,C]=n.bbox;if(w.rect(x,S,_-x,C-S),n.matrix){const j=new Path2D;j.addPath(w,new DOMMatrix(n.matrix)),w=j}y.clip(w),n.smask&&this.smaskStack.push({canvas:v.canvas,context:y,offsetX:c,offsetY:u,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(c,u),r.save()),Eu(r,y),this.ctx=y,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=zt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Rl.slice();pe.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,a,o){if(this.#e(),Kh(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const c=r[2]-r[0],u=r[3]-r[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=c,r[3]=u,pe.singularValueDecompose2dScale(zt(this.ctx),Or);const{viewportScale:f}=this,h=Math.ceil(c*this.outputScaleX*f),m=Math.ceil(u*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(h,m);const{canvas:v,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(n,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(Or[0],0,0,-Or[1],0,u*Or[1]),Kh(this.ctx)}else{Kh(this.ctx),this.endPath(e);const f=new Path2D;f.rect(r[0],r[1],c,u),this.ctx.clip(f)}}this.current=new oP(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,a=this._createMaskCanvas(e,n),o=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+o.width,a.offsetY,a.offsetY+o.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,a=0,o,c){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const u=this.ctx;u.save();const f=zt(u);u.transform(r,i,a,o,0,0);const h=this._createMaskCanvas(e,n);u.setTransform(1,0,0,1,h.offsetX-f[4],h.offsetY-f[5]),this.dependencyTracker?.resetBBox(e);for(let m=0,v=c.length;m<v;m+=2){const y=pe.transform(f,[r,i,a,o,c[m],c[m+1]]);u.drawImage(h.canvas,y[4],y[5]),this.dependencyTracker?.recordBBox(e,this.ctx,y[4],y[4]+h.canvas.width,y[5],y[5]+h.canvas.height)}u.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,Zr.transformAndFill);for(const o of n){const{data:c,width:u,height:f,transform:h}=o,m=this.cachedCanvases.getCanvas("maskCanvas",u,f),v=m.context;v.save();const y=this.getObject(e,c,o);cP(v,y),v.globalCompositeOperation="source-in",v.fillStyle=a?i.getPattern(v,this,Ri(r),$n.FILL,e):i,v.fillRect(0,0,u,f),v.restore(),r.save(),r.transform(...h),r.scale(1,-1),Gh(r,m.canvas,0,0,u,f,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,u,0,f),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){Re("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,a){if(!this.contentVisible)return;const o=this.getObject(e,n);if(!o){Re("Dependent image isn't ready yet");return}const c=o.width,u=o.height,f=[];for(let h=0,m=a.length;h<m;h+=2)f.push({transform:[r,0,0,i,a[h],a[h+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(e,o,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",a.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const r=n.width,i=n.height,a=this.ctx;this.save(e);const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none"),a.scale(1/r,-1/i);let c;if(n.bitmap)c=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)c=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;lP(h,n),c=this.applyTransferMapsToCanvas(h)}const u=this._scaleImage(c,Ri(a));a.imageSmoothingEnabled=uP(zt(a),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,a,0,r,-i,0).recordDependencies(e,Zr.imageXObject).recordOperation(e),Gh(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){if(!this.contentVisible)return;const i=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const o=n.width,c=n.height,f=this.cachedCanvases.getCanvas("inlineImage",o,c).context;lP(f,n),a=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(e);for(const o of r)i.save(),i.transform(...o.transform),i.scale(1,-1),Gh(i,a,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Zr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===dP?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=zt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let o,c;if(r===0&&i===0){const u=Math.abs(n),f=Math.abs(a);if(u===f)if(e===0)o=c=1/u;else{const h=u*e;o=c=h<1?1/h:1}else if(e===0)o=1/u,c=1/f;else{const h=u*e,m=f*e;o=h<1?1/h:1,c=m<1?1/m:1}}else{const u=Math.abs(n*a-r*i),f=Math.hypot(n,r),h=Math.hypot(i,a);if(e===0)o=h/u,c=f/u;else{const m=e*u;o=h>m?h/m:1,c=f>m?f/m:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[a,o]=this.getScaleForStroking();if(a===o){r.lineWidth=(i||1)*a,r.stroke(e);return}const c=r.getLineDash();n&&r.save(),r.scale(a,o),Ub.a=1/a,Ub.d=1/o;const u=new Path2D;if(u.addPath(e,Ub),c.length>0){const f=Math.max(a,o);r.setLineDash(c.map(h=>h/f)),r.lineDashOffset/=f}r.lineWidth=i||1,r.stroke(u),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in xd)Hl.prototype[t]!==void 0&&(Hl.prototype[xd[t]]=Hl.prototype[t]);class go{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class Ose{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const kl=Symbol("INTERNAL");class Pse{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){this.#e=!!(e&Nr.DISPLAY),this.#t=!!(e&Nr.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==kl&&St("Internal method `_setVisible` called."),this.#r=r,this.#n=n}}class Mse{#e=null;#t=new Map;#r=null;#n=null;constructor(e,n=Nr.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new Pse(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(kl,!1);for(const r of e.on)this.#t.get(r)._setVisible(kl,!0);for(const r of e.off)this.#t.get(r)._setVisible(kl,!1);this.#r=this.getHash()}}#s(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let o;if(Array.isArray(a))o=this.#s(a);else if(this.#t.has(a))o=this.#t.get(a).visible;else return Re(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return vg("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Re(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return Re(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return Re(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return Re(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return Re(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return Re(`Unknown optional content policy ${e.policy}.`),!0}return Re(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){Re(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&this.#t.get(o)?._setVisible(kl,!1,!0);i._setVisible(kl,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=this.#t.get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new n5;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class Dse{constructor(e,{disableRange:n=!1,disableStream:r=!1}){Xe(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:o,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,a?.length>0){const u=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,f)=>{this._onReceiveData({begin:u,chunk:f})}),e.addProgressListener((u,f)=>{this._onProgress({loaded:u,total:f})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});Xe(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Xe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Rse(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Lse(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Rse{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=qS(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Lse{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Ise(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let h=c(n);return h=unescape(h),h=u(h),h=f(h),a(h)}if(n=o(t),n){const h=f(n);return a(h)}if(n=r("filename","i").exec(t),n){n=n[1];let h=c(n);return h=f(h),a(h)}function r(h,m){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function i(h,m){if(h){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(h,{fatal:!0}),y=Zd(m);m=v.decode(y),e=!1}catch{}}return m}function a(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function o(h){const m=[];let v;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=y.exec(h))!==null;){let[,x,S,_]=v;if(x=parseInt(x,10),x in m){if(x===0)break;continue}m[x]=[S,_]}const w=[];for(let x=0;x<m.length&&x in m;++x){let[S,_]=m[x];_=c(_),S&&(_=unescape(_),x===0&&(_=u(_))),w.push(_)}return w.join("")}function c(h){if(h.startsWith('"')){const m=h.slice(1).split('\\"');for(let v=0;v<m.length;++v){const y=m[v].indexOf('"');y!==-1&&(m[v]=m[v].slice(0,y),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}h=m.join('"')}return h}function u(h){const m=h.indexOf("'");if(m===-1)return h;const v=h.slice(0,m),w=h.slice(m+1).replace(/^[^']*'/,"");return i(v,w)}function f(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,y,w){if(y==="q"||y==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,S){return String.fromCharCode(parseInt(S,16))}),i(v,w);try{w=atob(w)}catch{}return i(v,w)})}return""}function c5(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function xg(t){return URL.parse(t)?.origin??null}function u5({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function d5(t){const e=t.get("Content-Disposition");if(e){let n=Ise(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(qS(n))return n}return null}function rf(t,e){return new pp(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function f5(t){return t===200||t===206}function h5(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function m5(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Re(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class zse{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=c5(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Xe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Bse(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Fse(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Bse{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,h5(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=xg(a.url),!f5(a.status))throw rf(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const o=a.headers,{allowRangeRequests:c,suggestedLength:u}=u5({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=d5(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new js("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:m5(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Fse{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const o=i.url;fetch(o,h5(a,this._withCredentials,this._abortController)).then(c=>{const u=xg(c.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!f5(c.status))throw rf(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:m5(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const $b=200,Hb=206;function Use(t){const e=t.response;return typeof e!="string"?e:Zd(e).buffer}class $se{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=c5(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,o]of this.headers)n.setRequestHeader(a,o);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Hb):i.expectedStatus=$b,n.responseType="arraybuffer",Xe(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||$b;if(!(a===$b&&r.expectedStatus===Hb)&&a!==r.expectedStatus){r.onError(i.status);return}const c=Use(i);if(a===Hb){const u=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);f?r.onDone({begin:parseInt(f[1],10),chunk:c}):(Re('Missing or invalid "Content-Range" header.'),r.onError(0))}else c?r.onDone({begin:0,chunk:c}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class Hse{constructor(e){this._source=e,this._manager=new $se(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Xe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new qse(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new Gse(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class qse{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=xg(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...f]=c.split(": ");return[u,f.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:o}=u5({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=d5(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=rf(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Gse{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=xg(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=rf(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Kse=/^[a-z][a-z0-9\-+.]+:/i;function Vse(t){if(Kse.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Yse{constructor(e){this.source=e,this.url=Vse(e.url),Xe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Xe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Wse(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Xse(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Wse{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=rf(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new js("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Xse{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const _u=Symbol("INITIAL_DATA");class p5{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:_u}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===_u)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==_u}delete(e){const n=this.#e[e];return!n||n.data===_u?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==_u&&(yield[e,n])}}}const Qse=1e5,fP=30;class Tr{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#a=null;#i=0;#o=0;#c=null;#l=null;#f=0;#d=0;#h=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#_=new WeakMap;static#A=null;static#w=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(u){u.enqueue(e),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=r.scale*Xi.pixelRatio,this.#f=r.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:o,pageY:c}=r.rawDims;this.#v=[1,0,0,-1,-o,c+a],this.#o=i,this.#i=a,Tr.#N(),n.style.setProperty("--min-font-size",Tr.#A),jo(n,r),this.#e.promise.finally(()=>{Tr.#w.delete(this),this.#a=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=xn.platform;return Le(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#s??=n.lang,Object.assign(this.#h,n.styles),this.#j(n.items),e()},this.#e.reject)};return this.#c=this.#p.getReader(),Tr.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Xi.pixelRatio,i=e.rotation;if(i!==this.#f&&(n?.(),this.#f=i,jo(this.#l,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const a={div:null,properties:null,ctx:Tr.#T(this.#s)};for(const o of this.#u)a.properties=this.#m.get(o),a.div=o,this.#E(a)}}cancel(){const e=new js("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#j(e){if(this.#r)return;this.#a.ctx??=Tr.#T(this.#s);const n=this.#u,r=this.#g;for(const i of e){if(n.length>Qse){Re("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),a.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#x(i)}}#x(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(n);const i=pe.transform(this.#v,e.transform);let a=Math.atan2(i[1],i[0]);const o=this.#h[e.fontName];o.vertical&&(a+=Math.PI/2);let c=this.#n&&o.fontSubstitution||o.fontFamily;c=Tr.fontFamilyMap.get(c)||c;const u=Math.hypot(i[2],i[3]),f=u*Tr.#I(c,o,this.#s);let h,m;a===0?(h=i[4],m=i[5]-f):(h=i[4]+f*Math.sin(a),m=i[5]-f*Math.cos(a));const v=n.style;v.left=`${(100*h/this.#o).toFixed(2)}%`,v.top=`${(100*m/this.#i).toFixed(2)}%`,v.setProperty("--font-height",`${u.toFixed(2)}px`),v.fontFamily=c,r.fontSize=u,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);w!==x&&Math.max(w,x)/Math.min(w,x)>1.5&&(y=!0)}if(y&&(r.canvasWidth=o.vertical?e.height:e.width),this.#m.set(n,r),this.#a.div=n,this.#a.properties=r,this.#E(this.#a),r.hasText&&this.#t.append(n),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#t.append(w)}}#E(e){const{div:n,properties:r,ctx:i}=e,{style:a}=n;if(r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=a,{canvasWidth:c,fontSize:u}=r;Tr.#k(i,u*this.#d,o);const{width:f}=i.measureText(n.textContent);f>0&&a.setProperty("--scale-x",c*this.#d/f)}r.angle!==0&&a.setProperty("--rotate",`${r.angle}deg`)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#T(e=null){let n=this.#y.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,n),this.#_.set(n,{size:0,family:""})}return n}static#k(e,n,r){const i=this.#_.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#N(){if(this.#A!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#A=e.getBoundingClientRect().height,e.remove()}static#I(e,n,r){const i=this.#b.get(e);if(i)return i;const a=this.#T(r);a.canvas.width=a.canvas.height=fP,this.#k(a,fP,e);const o=a.measureText(""),c=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let f=.8;return c?f=c/(c+u):(xn.platform.isFirefox&&Re("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?f=n.ascent:n.descent&&(f=1+n.descent)),this.#b.set(e,f),f}}const Zse=100;function QS(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new ZS,{docId:n}=e,r=t.url?ase(t.url):null,i=t.data?sse(t.data):null,a=t.httpHeaders||null,o=t.withCredentials===!0,c=t.password??null,u=t.range instanceof g5?t.range:null,f=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let h=t.worker instanceof Sd?t.worker:null;const m=t.verbosity,v=typeof t.docBaseUrl=="string"&&!yg(t.docBaseUrl)?t.docBaseUrl:null,y=Uh(t.cMapUrl),w=t.cMapPacked!==!1,x=t.CMapReaderFactory||(er?mse:ZO),S=Uh(t.iccUrl),_=Uh(t.standardFontDataUrl),C=t.StandardFontDataFactory||(er?pse:JO),j=Uh(t.wasmUrl),T=t.WasmFactory||(er?gse:eP),k=t.stopAtErrors!==!0,N=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,P=t.isEvalSupported!==!1,L=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!er,B=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!er&&(xn.platform.isFirefox||!globalThis.chrome),H=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,z=typeof t.disableFontFace=="boolean"?t.disableFontFace:er,$=t.fontExtraProperties===!0,ne=t.enableXfa===!0,Q=t.ownerDocument||globalThis.document,ie=t.disableRange===!0,M=t.disableStream===!0,I=t.disableAutoFetch===!0,G=t.pdfBug===!0,R=t.CanvasFactory||(er?hse:use),oe=t.FilterFactory||(er?fse:dse),F=t.enableHWA===!0,V=t.useWasm!==!1,ce=u?u.length:t.length??NaN,ue=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!er&&!z,ge=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(x===ZO&&C===JO&&T===eP&&y&&_&&j&&Ou(y,document.baseURI)&&Ou(_,document.baseURI)&&Ou(j,document.baseURI)),Ee=null;Pae(m);const he={canvasFactory:new R({ownerDocument:Q,enableHWA:F}),filterFactory:new oe({docId:n,ownerDocument:Q}),cMapReaderFactory:ge?null:new x({baseUrl:y,isCompressed:w}),standardFontDataFactory:ge?null:new C({baseUrl:_}),wasmFactory:ge?null:new T({baseUrl:j})};h||(h=Sd.create({verbosity:m,port:go.workerPort}),e._worker=h);const lt={docId:n,apiVersion:"5.4.530",data:i,password:c,disableAutoFetch:I,rangeChunkSize:f,length:ce,docBaseUrl:v,enableXfa:ne,evaluatorOptions:{maxImageSize:N,disableFontFace:z,ignoreErrors:k,isEvalSupported:P,isOffscreenCanvasSupported:L,isImageDecoderSupported:B,canvasMaxAreaInBytes:H,fontExtraProperties:$,useSystemFonts:ue,useWasm:V,useWorkerFetch:ge,cMapUrl:y,iccUrl:S,standardFontDataUrl:_,wasmUrl:j}},te={ownerDocument:Q,pdfBug:G,styleElement:Ee,loadingParams:{disableAutoFetch:I,enableXfa:ne}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Te=h.messageHandler.sendWithPromise("GetDocRequest",lt,i?[i.buffer]:null);let Oe;if(u)Oe=new Dse(u,{disableRange:ie,disableStream:M});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const de=Ou(r)?zse:er?Yse:Hse;Oe=new de({url:r,length:ce,httpHeaders:a,withCredentials:o,rangeChunkSize:f,disableRange:ie,disableStream:M})}return Te.then(de=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Nt=new Pu(n,de,h.port),Ue=new toe(Nt,e,Oe,te,he,F);e._transport=Ue,Nt.send("Ready",null)})}).catch(e._capability.reject),e}class ZS{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${ZS.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class g5{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#s=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#s)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#n)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#r)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){St("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Jse{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Le(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class eoe{#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new GO:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new p5,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new ef({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Le(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:a=bs.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:f=null,pageColors:h=null,printAnnotationStorage:m=null,isEditing:v=!1,recordOperations:y=!1,operationsFilter:w=null}){this._stats?.time("Overall");const x=this._transport.getRenderingIntent(i,a,m,v),{renderingIntent:S,cacheKey:_}=x;this.#e=!1,u||=this._transport.getOptionalContentConfig(S);let C=this._intentStates.get(_);C||(C=Object.create(null),this._intentStates.set(_,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const j=!!(S&Nr.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(x));const T=!!(this._pdfBug&&globalThis.StepperManager?.enabled),k=!this.recordedBBoxes&&(y||T),N=B=>{if(C.renderTasks.delete(P),k){const H=P.gfx?.dependencyTracker.take();H&&(P.stepper&&P.stepper.setOperatorBBoxes(H,P.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=H))}j&&(this.#e=!0),this.#t(),B?(P.capability.reject(B),this._abortOperatorList({intentState:C,reason:B instanceof Error?B:new Error(B)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new Ll({callback:N,params:{canvas:n,canvasContext:e,dependencyTracker:k?new yse(n,C.operatorList.length,T):null,viewport:r,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!j,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:w});(C.renderTasks||=new Set).add(P);const L=P.task;return Promise.all([C.displayReadyCapability.promise,u]).then(([B,H])=>{if(this.destroyed){N();return}if(this._stats?.time("Rendering"),!(H.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:B,optionalContentConfig:H}),P.operatorListChanged()}).catch(N),L}getOperatorList({intent:e="display",annotationMode:n=bs.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,n,r,i,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>wd.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){o.read().then(function({value:u,done:f}){if(f){r(c);return}c.lang??=u.lang,Object.assign(c.styles,u.styles),c.items.push(...u.items),a()},i)}const o=n.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new GO),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:o}=r,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},o).getReader(),f=this._intentStates.get(n);f.streamReader=u;const h=()=>{u.read().then(({value:m,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),h())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();this.#t()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};h()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof HS){let i=Zse;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new js(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var xs,gi,ba,so,yp,oo,lo,rr,cm,v5,y5,Mu,Gl,um;const Pt=class Pt{constructor({name:e=null,port:n=null,verbosity:r=Mae()}={}){Pi(this,rr);Pi(this,xs,Promise.withResolvers());Pi(this,gi,null);Pi(this,ba,null);Pi(this,so,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(Ot(Pt,lo).has(n))throw new Error("Cannot use more than one PDFWorker per port.");Ot(Pt,lo).set(n,this),Mi(this,rr,v5).call(this,n)}else Mi(this,rr,y5).call(this)}get promise(){return Ot(this,xs).promise}get port(){return Ot(this,ba)}get messageHandler(){return Ot(this,gi)}destroy(){this.destroyed=!0,Ot(this,so)?.terminate(),pr(this,so,null),Ot(Pt,lo).delete(Ot(this,ba)),pr(this,ba,null),Ot(this,gi)?.destroy(),pr(this,gi,null)}static create(e){const n=Ot(this,lo).get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Pt(e)}static get workerSrc(){if(go.workerSrc)return go.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Le(this,"_setupFakeWorkerGlobal",(async()=>Ot(this,Gl,um)?Ot(this,Gl,um):(await import(this.workerSrc)).WorkerMessageHandler)())}};xs=new WeakMap,gi=new WeakMap,ba=new WeakMap,so=new WeakMap,yp=new WeakMap,oo=new WeakMap,lo=new WeakMap,rr=new WeakSet,cm=function(){Ot(this,xs).resolve(),Ot(this,gi).send("configure",{verbosity:this.verbosity})},v5=function(e){pr(this,ba,e),pr(this,gi,new Pu("main","worker",e)),Ot(this,gi).on("ready",()=>{}),Mi(this,rr,cm).call(this)},y5=function(){if(Ot(Pt,oo)||Ot(Pt,Gl,um)){Mi(this,rr,Mu).call(this);return}let{workerSrc:e}=Pt;try{Pt._isSameOrigin(window.location,e)||(e=Pt._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Pu("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?Ot(this,xs).reject(new Error("Worker was destroyed")):Mi(this,rr,Mu).call(this)},a=new AbortController;n.addEventListener("error",()=>{Ot(this,so)||i()},{signal:a.signal}),r.on("test",c=>{if(a.abort(),this.destroyed||!c){i();return}pr(this,gi,r),pr(this,ba,n),pr(this,so,n),Mi(this,rr,cm).call(this)}),r.on("ready",c=>{if(a.abort(),this.destroyed){i();return}try{o()}catch{Mi(this,rr,Mu).call(this)}});const o=()=>{const c=new Uint8Array;r.send("test",c,[c.buffer])};o();return}catch{vg("The worker has been disabled.")}Mi(this,rr,Mu).call(this)},Mu=function(){Ot(Pt,oo)||(Re("Setting up fake worker."),pr(Pt,oo,!0)),Pt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Ot(this,xs).reject(new Error("Worker was destroyed"));return}const n=new cse;pr(this,ba,n);const r=`fake${eC(Pt,yp)._++}`,i=new Pu(r+"_worker",r,n);e.setup(i,n),pr(this,gi,new Pu(r,r+"_worker",n)),Mi(this,rr,cm).call(this)}).catch(e=>{Ot(this,xs).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Gl=new WeakSet,um=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Pi(Pt,Gl),Pi(Pt,yp,0),Pi(Pt,oo,!1),Pi(Pt,lo,new WeakMap),er&&(pr(Pt,oo,!0),go.workerSrc||="./pdf.worker.mjs"),Pt._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},Pt._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Pt.fromPort=e=>{if(Gae("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Pt.create(e)};let Sd=Pt;class toe{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#s=null;constructor(e,n,r,i,a,o){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new p5,this.fontLoader=new nse({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#a(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return Le(this,"annotationStorage",new VS)}getRenderingIntent(e,n=bs.ENABLE,r=null,i=!1,a=!1){let o=Nr.DISPLAY,c=h1;switch(e){case"any":o=Nr.ANY;break;case"display":break;case"print":o=Nr.PRINT;break;default:Re(`getRenderingIntent - invalid intent: ${e}`)}const u=o&Nr.PRINT&&r instanceof r5?r:this.annotationStorage;switch(n){case bs.DISABLE:o+=Nr.ANNOTATIONS_DISABLE;break;case bs.ENABLE:break;case bs.ENABLE_FORMS:o+=Nr.ANNOTATIONS_FORMS;break;case bs.ENABLE_STORAGE:o+=Nr.ANNOTATIONS_STORAGE,c=u.serializable;break;default:Re(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(o+=Nr.IS_EDITING),a&&(o+=Nr.OPLIST);const{ids:f,hash:h}=u.modifiedIds,m=[o,c.hash,h];return{renderingIntent:o,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Tr.cleanup(),this._networkStream?.cancelAllRequests(new js("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{Xe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){i.close();return}Xe(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:o}=this._fullReader;return(!i||!a)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{n.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{Xe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:o,done:c}){if(c){i.close();return}Xe(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{a.cancel(o),i.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Jse(r,this))}),e.on("DocException",r=>{n._capability.reject(gr(r))}),e.on("PasswordRequest",r=>{this.#s=Promise.withResolvers();try{if(!n.onPassword)throw gr(r);const i=a=>{a instanceof Error?this.#s.reject(a):this.#s.resolve({password:a})};n.onPassword(i,r.code)}catch(i){this.#s.reject(i)}return this.#s.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const m=a.error;Re(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}const o=new vt(a),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(m,v)=>globalThis.FontInspector.fontAdded(m,v):null,u=new rse(o,c,a.extra,a.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:f}=a;Xe(f,"The imageRef must be defined.");for(const m of this.#t.values())for(const[,v]of m.objs)if(v?.ref===f)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":this.commonObjs.resolve(r,new ise(a));break;case"Image":this.commonObjs.resolve(r,a);break;case"Pattern":const h=new kn(a);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,o])=>{if(this.destroyed)return;const c=this.#t.get(i);if(!c.objs.has(r)){if(c._intentStates.size===0){o?.bitmap?.close();return}switch(a){case"Image":case"Pattern":c.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Re("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#r.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#n.set(a.refStr,e);const o=new eoe(n,a,this,this._params.pdfBug);return this.#t.set(n,o),o});return this.#r.set(n,i),i}getPageIndex(e){return m1(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(n=>new Mse(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new Ose(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:i[2]}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Tr.cleanup()}}cachedPageNumber(e){if(!m1(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class noe{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class Ll{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:o,pageIndex:c,canvasFactory:u,filterFactory:f,useRequestAnimationFrame:h=!1,pdfBug:m=!1,pageColors:v=null,enableHWA:y=!1,operationsFilter:w=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=f,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new noe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=y,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(Ll.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ll.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:a,dependencyTracker:o}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Hl(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Ll.#t.delete(this._canvas),e||=new HS(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ll.#t.delete(this._canvas),this.callback())))}}const b5="5.4.530",roe="50cc4adac";class ti{#e=null;#t=null;#r;#n=null;#s=!1;#a=!1;#i=null;#o;#c=null;#l=null;static#f=null;static get _keyboardManager(){return Le(this,"_keyboardManager",new nf([[["Escape","mac+Escape"],ti.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ti.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ti.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ti.prototype._moveToPrevious],[["Home","mac+Home"],ti.prototype._moveToBeginning],[["End","mac+End"],ti.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#a=!1,this.#i=e):this.#a=!0,this.#l=e?._uiManager||n,this.#o=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",ti.#f||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:n}),e.addEventListener("keydown",this.#g.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",oi,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",ti.#f[r]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=i,a.ariaSelected=i===this.#r,a.addEventListener("click",this.#h.bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",this.#g.bind(this),{signal:n}),e}#h(e,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:We.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const n=e.target.getAttribute("data-color");n&&this.#h(n,e)}_moveToNext(e){if(!this.#m){this.#p(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#p(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#m){this.#p(e);return}this.#n.lastElementChild?.focus()}#g(e){ti._keyboardManager.exec(this,e)}#p(e){if(this.#m){this.hideDropdown();return}if(this.#s=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#m){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Ad{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,Ad.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Ad.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(n,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function hP(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Cu(t){return Math.max(0,Math.min(255,255*t))}class mP{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Cu(e),[e,e,e]}static G_HTML([e]){const n=hP(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Cu)}static RGB_HTML(e){return`#${e.map(hP).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Cu(1-Math.min(1,e+i)),Cu(1-Math.min(1,r+i)),Cu(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,o=1-r,c=Math.min(i,a,o);return["CMYK",i,a,o,c]}}class ioe{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){St("Abstract method `_createSVG` called.")}}class vp extends ioe{_createSVG(e){return document.createElementNS(ga,e)}}const aoe=9,ko=new WeakSet,soe=new Date().getTimezoneOffset()*60*1e3;class qb{static create(e){switch(e.data.annotationType){case un.LINK:return new JS(e);case un.TEXT:return new loe(e);case un.WIDGET:switch(e.data.fieldType){case"Tx":return new coe(e);case"Btn":return e.data.radioButton?new x5(e):e.data.checkBox?new doe(e):new foe(e);case"Ch":return new hoe(e);case"Sig":return new uoe(e)}return new Mo(e);case un.POPUP:return new v1(e);case un.FREETEXT:return new w5(e);case un.LINE:return new poe(e);case un.SQUARE:return new goe(e);case un.CIRCLE:return new voe(e);case un.POLYLINE:return new S5(e);case un.CARET:return new boe(e);case un.INK:return new eA(e);case un.POLYGON:return new yoe(e);case un.HIGHLIGHT:return new A5(e);case un.UNDERLINE:return new xoe(e);case un.SQUIGGLY:return new woe(e);case un.STRIKEOUT:return new Soe(e);case un.STAMP:return new E5(e);case un.FILEATTACHMENT:return new Aoe(e);default:return new Ft(e)}}}class Ft{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ft._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let a=-1/0,o=-1/0;if(n?.length>=8){for(let c=0;c<n.length;c+=8)n[c+1]>o?(o=n[c+1],a=n[c+2]):n[c+1]===o&&(a=Math.max(a,n[c+2]));return[a,o]}if(r?.length>=1){for(const c of r)for(let u=0,f=c.length;u<f;u+=2)c[u+1]>o?(o=c[u+1],a=c[u]):c[u+1]===o&&(a=Math.max(a,c[u]));if(a!==1/0)return[a,o]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:o}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-a)/r,e[1]=100*(e[1]-o)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${bd}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${bd}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:r}=e;n&&this.#n(n);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:c,pageY:u}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-c)/a}%`,n.top=`${100*(o-e[3]+u)/o}%`,i===0?(n.width=`${100*(e[2]-e[0])/a}%`,n.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof Mo)&&!(this instanceof JS)&&(a.tabIndex=0);const{style:o}=a;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof v1){const{rotation:x}=n;return!n.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:c,height:u}=this;if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const x=n.borderStyle.horizontalCornerRadius,S=n.borderStyle.verticalCornerRadius;if(x>0||S>0){const C=`calc(${x}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;o.borderRadius=C}else if(this instanceof x5){const C=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=C}switch(n.borderStyle.style){case jl.SOLID:o.borderStyle="solid";break;case jl.DASHED:o.borderStyle="dashed";break;case jl.BEVELED:Re("Unimplemented border style: beveled");break;case jl.INSET:Re("Unimplemented border style: inset");break;case jl.UNDERLINE:o.borderBottomStyle="solid";break}const _=n.borderColor||null;_?(this.#t=!0,o.borderColor=pe.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):o.borderWidth=0}const f=pe.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:m,pageX:v,pageY:y}=i.rawDims;o.left=`${100*(f[0]-v)/h}%`,o.top=`${100*(f[1]-y)/m}%`;const{rotation:w}=n;return n.hasOwnCanvas||w===0?(o.width=`${100*c/h}%`,o.height=`${100*u/m}%`):this.setRotation(w,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:o}=this;e%180!==0&&([a,o]=[o,a]),n.style.width=`${100*a/r}%`,n.style.height=`${100*o/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],o=a[0],c=a.slice(1);i.target.style[r]=mP[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[r]:mP[`${o}_rgb`](c)})};return Le(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const o=r[i];if(o){const c={detail:{[i]:a},target:e};o(c),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,S,_,C]=e.subarray(2,6);if(i===x&&a===S&&n===_&&r===C)return}const{style:o}=this.container;let c;if(this.#t){const{borderColor:x,borderWidth:S}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const u=i-n,f=a-r,{svgFactory:h}=this,m=h.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const v=h.createElement("defs");m.append(v);const y=h.createElement("clipPath"),w=`clippath_${this.data.id}`;y.setAttribute("id",w),y.setAttribute("clipPathUnits","objectBoundingBox"),v.append(y);for(let x=2,S=e.length;x<S;x+=8){const _=e[x],C=e[x+1],j=e[x+2],T=e[x+3],k=h.createElement("rect"),N=(j-n)/u,P=(a-C)/f,L=(_-j)/u,B=(C-T)/f;k.setAttribute("x",N),k.setAttribute("y",P),k.setAttribute("width",L),k.setAttribute("height",B),y.append(k),c?.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${P}" width="${L}" height="${B}"/>`)}this.#t&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${w})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),this.#r=new v1({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){St("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:o,exportValues:c}of i){if(a===-1||o===n)continue;const u=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${o}"]`);if(f&&!ko.has(f)){Re(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:u,domElement:f})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,o=i.getAttribute("data-element-id");o!==n&&ko.has(i)&&r.push({id:o,exportValue:a,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class ooe extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class JS extends Ft{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,r=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(e.title=r),this.#e()}#t(e,n,r="",i=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#e()}#r(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const a=r.get(i);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Re('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:a,include:o}=n,c=[];if(i.length!==0||a.length!==0){const h=new Set(a);for(const m of i){const v=this._fieldObjects[m]||[];for(const{id:y}of v)h.add(y)}for(const m of Object.values(this._fieldObjects))for(const v of m)h.has(v.id)===o&&c.push(v)}else for(const h of Object.values(this._fieldObjects))c.push(...h);const u=this.annotationStorage,f=[];for(const h of c){const{id:m}=h;switch(f.push(m),h.type){case"text":{const y=h.defaultValue||"";u.setValue(m,{value:y});break}case"checkbox":case"radiobutton":{const y=h.defaultValue===h.exportValues;u.setValue(m,{value:y});break}case"combobox":case"listbox":{const y=h.defaultValue||"";u.setValue(m,{value:y});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!ko.has(v)){Re(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class loe extends Ft{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Mo extends Ft{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return xn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{if(r==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o)}})})}_setEventListeners(e,n,r,i){for(const[a,o]of r)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,a,o,i),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":pe.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||aoe,a=e.style;let o;const c=2,u=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),h=Math.round(f/(Lb*i))||1,m=f/h;o=Math.min(i,u(m/Lb))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(i,u(f/Lb))}a.fontSize=`calc(${o}px * var(--total-scale-factor))`,a.color=pe.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class coe extends Mo{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=r),a.setValue(o.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let a=i.value||"";const o=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));let c=i.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),ko.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:f,datetimeType:h,timeStep:m}=this.data,v=!!h&&this.enableScripting;f&&(r.title=f),this._setRequired(r,this.data.required),o&&(r.maxLength=o),r.addEventListener("input",w=>{e.setValue(n,{value:w.target.value}),this.setPropertyOnSiblings(r,"value",w.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",w=>{const x=this.data.defaultFieldValue??"";r.value=u.userValue=x,u.formattedValue=null});let y=w=>{const{formattedValue:x}=u;x!=null&&(w.target.value=x),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",x=>{if(u.focused)return;const{target:S}=x;if(v&&(S.type=h,m&&(S.step=m)),u.userValue){const _=u.userValue;if(v)if(h==="time"){const C=new Date(_),j=[C.getHours(),C.getMinutes(),C.getSeconds()];S.value=j.map(T=>T.toString().padStart(2,"0")).join(":")}else S.value=new Date(_-soe).toISOString().split(h==="date"?"T":".",1)[0];else S.value=_}u.lastCommittedValue=S.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const S={value(_){u.userValue=_.detail.value??"",v||e.setValue(n,{value:u.userValue.toString()}),_.target.value=u.userValue},formattedValue(_){const{formattedValue:C}=_.detail;u.formattedValue=C,C!=null&&_.target!==document.activeElement&&(_.target.value=C);const j={formattedValue:C};v&&(j.value=C),e.setValue(n,j)},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{const{charLimit:C}=_.detail,{target:j}=_;if(C===0){j.removeAttribute("maxLength");return}j.setAttribute("maxLength",C);let T=u.userValue;!T||T.length<=C||(T=T.slice(0,C),j.value=u.userValue=T,e.setValue(n,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:j.selectionStart,selEnd:j.selectionEnd}}))}};this._dispatchEventFromSandbox(S,x)}),r.addEventListener("keydown",x=>{u.commitKey=1;let S=-1;if(x.key==="Escape"?S=0:x.key==="Enter"&&!this.data.multiLine?S=2:x.key==="Tab"&&(u.commitKey=3),S===-1)return;const{value:_}=x.target;u.lastCommittedValue!==_&&(u.lastCommittedValue=_,u.userValue=_,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,willCommit:!0,commitKey:S,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const w=y;y=null,r.addEventListener("blur",x=>{if(!u.focused||!x.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{target:S}=x;let{value:_}=S;if(v){if(_&&h==="time"){const C=_.split(":").map(j=>parseInt(j,10));_=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),S.step=""}else _.includes("T")||(_=`${_}T00:00`),_=new Date(_).valueOf();S.type="text"}u.userValue=_,u.lastCommittedValue!==_&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,willCommit:!0,commitKey:u.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}),w(x)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",x=>{u.lastCommittedValue=null;const{data:S,target:_}=x,{value:C,selectionStart:j,selectionEnd:T}=_;let k=j,N=T;switch(x.inputType){case"deleteWordBackward":{const P=C.substring(0,j).match(/\w*[^\w]*$/);P&&(k-=P[0].length);break}case"deleteWordForward":{const P=C.substring(j).match(/^[^\w]*\w*/);P&&(N+=P[0].length);break}case"deleteContentBackward":j===T&&(k-=1);break;case"deleteContentForward":j===T&&(N+=1);break}x.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:C,change:S||"",willCommit:!1,selStart:k,selEnd:N}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(y&&r.addEventListener("blur",y),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/o;r.classList.add("comb"),r.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class uoe extends Mo{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class doe extends Mo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return ko.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const f of this._getElementsByName(c,r)){const h=u&&f.exportValue===n.exportValue;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}e.setValue(r,{value:u})}),a.addEventListener("resetform",o=>{const c=n.defaultFieldValue||"Off";o.target.checked=c===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const c={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(r,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class x5 extends Mo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(n.fieldName,r))e.setValue(o.id,{value:!1});const a=document.createElement("input");if(ko.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const f of this._getElementsByName(c,r))e.setValue(f.id,{value:!1});e.setValue(r,{value:u})}),a.addEventListener("resetform",o=>{const c=n.defaultFieldValue;o.target.checked=c!=null&&c===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;a.addEventListener("updatefromsandbox",c=>{const u={value:f=>{const h=o===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const v=h&&m.id===r;m.domElement&&(m.domElement.checked=v),e.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class foe extends JS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class hoe extends Mo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");ko.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const m=this.data.defaultFieldValue;for(const v of i.options)v.selected=v.value===m});for(const h of this.data.options){const m=document.createElement("option");m.textContent=h.displayValue,m.value=h.exportValue,r.value.includes(h.exportValue)&&(m.setAttribute("selected",!0),a=!1),i.append(m)}let o=null;if(a){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const c=h=>{const m=h?"value":"textContent",{options:v,multiple:y}=i;return y?Array.prototype.filter.call(v,w=>w.selected).map(w=>w[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let u=c(!1);const f=h=>{const m=h.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const m={value(v){o?.();const y=v.detail.value,w=new Set(Array.isArray(y)?y:[y]);for(const x of i.options)x.selected=w.has(x.value);e.setValue(n,{value:c(!0)}),u=c(!1)},multipleSelection(v){i.multiple=!0},remove(v){const y=i.options,w=v.detail.remove;y[w].selected=!1,i.remove(w),y.length>0&&Array.prototype.findIndex.call(y,S=>S.selected)===-1&&(y[0].selected=!0),e.setValue(n,{value:c(!0),items:f(v)}),u=c(!1)},clear(v){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),u=c(!1)},insert(v){const{index:y,displayValue:w,exportValue:x}=v.detail.insert,S=i.children[y],_=document.createElement("option");_.textContent=w,_.value=x,S?S.before(_):i.append(_),e.setValue(n,{value:c(!0),items:f(v)}),u=c(!1)},items(v){const{items:y}=v.detail;for(;i.length!==0;)i.remove(0);for(const w of y){const{displayValue:x,exportValue:S}=w,_=document.createElement("option");_.textContent=x,_.value=S,i.append(_)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:c(!0),items:f(v)}),u=c(!1)},indices(v){const y=new Set(v.detail.indices);for(const w of v.target.options)w.selected=y.has(w.index);e.setValue(n,{value:c(!0)}),u=c(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,h)}),i.addEventListener("input",h=>{const m=c(!0),v=c(!1);e.setValue(n,{value:m}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:u,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(n,{value:c(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class v1 extends Ft{constructor(e){const{data:n,elements:r,parent:i}=e,a=!!i._commentManager;if(super(e,{isRenderable:!a&&Ft._hasPopupData(n)}),this.elements=r,a&&Ft._hasPopupData(n)){const o=this.popup=this.#e();for(const c of r)c.popup=o}else this.popup=null}#e(){return new moe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${Dl}${i}`).join(",")),this.container}}class moe{#e=null;#t=this.#q.bind(this);#r=this.#B.bind(this);#n=this.#M.bind(this);#s=this.#S.bind(this);#a=null;#i=null;#o=null;#c=null;#l=null;#f=null;#d=null;#h=!1;#g=null;#p=null;#u=null;#m=null;#v=null;#b=null;#y=null;#_=null;#A=null;#w=null;#j=!1;#x=null;#E=null;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:o,richText:c,parent:u,rect:f,parentRect:h,open:m,commentManager:v=null}){this.#i=e,this.#A=i,this.#o=o,this.#_=c,this.#f=u,this.#a=n,this.#y=f,this.#d=h,this.#l=r,this.#e=v,this.#x=r[0],this.#c=u1.toDateObject(a),this.trigger=r.flatMap(y=>y.getElementsToTriggerPopup()),v||(this.#T(),this.#i.hidden=!0,m&&this.#S())}#T(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const n of this.trigger)n.addEventListener("click",this.#s,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#r,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#k(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m){this.#m.parentNode||this.#x.container.after(this.#m);return}if(this.#v||this.#k(),!this.#v)return;const{signal:e}=this.#p=new AbortController,n=this.#x.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},a=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#m=this.#x.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",a,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=this.#m=document.createElement("button");o.className="annotationCommentButton";const c=this.#x.container;o.style.zIndex=c.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#N(),o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",a,{signal:e}),c.after(o)}}#N(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#m||this.renderCommentButton();const[e,n]=this.#v,{style:r}=this.#m;r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`}#I(){this.#x.extraPopupElement||(this.#m||this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#x.commentData;return e?this.#f._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}}get elementBeforePopup(){return this.#m}get comment(){return this.#E||=this.#x.commentText,this.#E}set comment(e){e!==this.comment&&(this.#x.commentText=this.#E=e)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=n)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:n,height:r}=this.#m.getBoundingClientRect(),{x:i,y:a,width:o,height:c}=this.#x.layer.getBoundingClientRect();return[(e-i)/o,(n+r-a)/c]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=this.#b||this.commentButtonPosition.map(f=>f/100),i=this.parentBoundingClientRect,{x:a,y:o,width:c,height:u}=i;this.#e.showDialog(null,this,a+n*c,o+r*u,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#a){const r=e.style.outlineColor=pe.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#A?.str){const r=document.createElement("span");r.className="title",n.append(r),{dir:r.dir,str:r.textContent}=this.#A}if(e.append(n),this.#c){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),r.dateTime=this.#c.toISOString(),n.append(r)}JI({html:this.#P||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#i.append(e)}get#P(){const e=this.#_,n=this.#o;return e?.str&&(!n?.str||n.str===e.str)&&this.#_.html||null}get#D(){return this.#P?.attributes?.style?.fontSize||0}get#z(){return this.#P?.attributes?.style?.color||null}#R(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#z,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r}#q(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#S()}updateEdited({rect:e,popup:n,deleted:r}){if(this.#e){r?(this.remove(),this.#E=null):n&&(n.deleted?this.remove():(this.#I(),this.#E=n.text)),e&&(this.#v=null,this.#k(),this.#N());return}if(r||n?.deleted){this.remove();return}this.#T(),this.#w||={contentsObj:this.#o,richText:this.#_},e&&(this.#u=null),n&&n.text&&(this.#_=this.#R(n.text),this.#c=u1.toDateObject(n.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#_}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#j=!1,this.#h=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=this.#f;let o=!!this.#d,c=o?this.#d:this.#y;for(const w of this.#l)if(!c||pe.intersect(w.data.rect,c)!==null){c=w.data.rect,o=!0;break}const u=pe.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),h=o?c[2]-c[0]+5:0,m=u[0]+h,v=u[1];this.#u=[100*(m-i)/n,100*(v-a)/r];const{style:y}=this.#i;y.left=`${this.#u[0]}%`,y.top=`${this.#u[1]}%`}#S(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#M(),this.#i.addEventListener("click",this.#s),this.#i.addEventListener("keydown",this.#t)):(this.#B(),this.#i.removeEventListener("click",this.#s),this.#i.removeEventListener("keydown",this.#t))}#M(){this.#g||this.render(),this.isVisible?this.#h&&this.#i.classList.add("focused"):(this.#C(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#B(){this.#i.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#j=this.isVisible,this.#j&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#T(),this.#j&&(this.#g||this.#M(),this.#j=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class w5 extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ie.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class poe extends Ft{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class goe extends Ft{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class voe extends Ft{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",n/2),o.setAttribute("cy",r/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class S5 extends Ft{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:a,height:o}=this;if(!n)return this.container;const c=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,m=n.length;h<m;h+=2){const v=n[h]-e[0],y=e[3]-n[h+1];u.push(`${v},${y}`)}u=u.join(" ");const f=this.#e=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",u),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class yoe extends S5{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class boe extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class eA extends Ft{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ie.HIGHLIGHT:Ie.INK}#r(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:a}}=this,{transform:o,width:c,height:u}=this.#r(n,e),f=this.svgFactory.create(c,u,!0),h=this.#e=this.svgFactory.createElement("svg:g");f.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let m=0,v=r.length;m<v;m++){const y=this.svgFactory.createElement(this.svgElementName);this.#t.push(y),y.setAttribute("points",r[m].join(",")),h.append(y)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,a=this.#e;if(n>=0&&a.setAttribute("stroke-width",n||1),r)for(let o=0,c=this.#t.length;o<c;o++)this.#t[o].setAttribute("points",r[o].join(","));if(i){const{transform:o,width:c,height:u}=this.#r(this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class A5 extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ie.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class xoe extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class woe extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Soe extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class E5 extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ie.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Aoe extends Ft{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=xn.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class tA{#e=null;#t=null;#r=null;#n=new Map;#s=null;#a=null;#i=[];#o=!1;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:o,structTreeLayer:c,commentManager:u,linkService:f,annotationStorage:h}){this.div=e,this.#e=n,this.#t=r,this.#s=c||null,this.#a=f||null,this.#r=h||new VS,this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=u||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:n}=e,r=this.div;jo(r,this.viewport);const i=new Map,a=[],o={data:null,layer:r,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new vp,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of n){if(c.noHTML)continue;const u=c.annotationType===un.POPUP;if(u){const m=i.get(c.id);if(!m)continue;if(!this._commentManager){a.push(c);continue}o.elements=m}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const f=qb.create(o);if(!f.isRenderable)continue;if(!u&&(this.#i.push(f),c.popupRef)){const m=i.get(c.popupRef);m?m.push(f):i.set(c.popupRef,[f])}const h=f.render();c.hidden&&(h.style.visibility="hidden"),f._isEditable&&(this.#n.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}await this.#c();for(const c of a){const u=o.elements=i.get(c.id);o.data=c;const f=qb.create(o);if(!f.isRenderable)continue;const h=f.render();f.contentElement.id=`${Dl}${c.id}`,c.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}this.#l()}async#c(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const a=r.id=`${Dl}${i}`;e.push(this.#s?.getAriaAttributes(a).then(o=>{if(o)for(const[c,u]of o)r.setAttribute(c,u)}))}}this.#i.sort(({data:{rect:[r,i,a,o]}},{data:{rect:[c,u,f,h]}})=>{if(r===a&&i===o)return 1;if(c===f&&u===h)return-1;const m=o,v=i,y=(i+o)/2,w=h,x=u,S=(u+h)/2;if(y>=w&&S<=v)return-1;if(S>=m&&y<=x)return 1;const _=(r+a)/2,C=(c+f)/2;return _-C});const n=document.createDocumentFragment();for(const r of this.#i)n.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&n.append(r.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),this.#e)for(const r of this.#i)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#a,svgFactory:new vp,parent:this};for(const r of e){r.borderStyle||=tA._defaultBorderStyle,n.data=r;const i=qb.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${Dl}${r.id}`,this.#i.push(i))}await this.#c()}update({viewport:e}){const n=this.div;this.viewport=e,jo(n,{rotation:e.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r);const o=this.#n.get(n);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),o._hasNoCanvas=!1):o.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,a=new ooe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#r});return a.render(),a.contentElement.id=`${Dl}${r}`,a.createOrUpdatePopup(),this.#i.push(a),a}removeAnnotation(e){const n=this.#i.findIndex(i=>i.data.id===e);if(n<0)return;const[r]=this.#i.splice(n,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Le(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:jl.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Vh=/\r\n?|\n/g;class Nn extends Ce{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Nn.prototype,n=a=>a.isEmpty(),r=ks.TRANSLATE_SMALL,i=ks.TRANSLATE_BIG;return Le(this,"_keyboardManager",new nf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=Ie.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Nn._defaultColor||Ce._defaultLineColor,this.#n=e.fontSize||Nn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,n){Ce.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case We.FREETEXT_SIZE:Nn._defaultFontSize=n;break;case We.FREETEXT_COLOR:Nn._defaultColor=n;break}}updateParams(e,n){switch(e){case We.FREETEXT_SIZE:this.#s(n);break;case We.FREETEXT_COLOR:this.#a(n);break}}static get defaultPropertiesToUpdate(){return[[We.FREETEXT_SIZE,Nn._defaultFontSize],[We.FREETEXT_COLOR,Nn._defaultColor||Ce._defaultLineColor]]}get propertiesToUpdate(){return[[We.FREETEXT_SIZE,this.#n],[We.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Ad(this),[["colorPicker",this._colorPicker]]}get colorType(){return We.FREETEXT_COLOR}#s(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},r=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Nn._internalPadding*e,-(Nn._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(Nn.#c(r)),n=r);return e.join(`
`)}#o(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#i().trimEnd();if(e===n)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Nn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[f,h]=this.pageDimensions,[m,v]=this.pageTranslation;let y,w;switch(this.rotation){case 0:y=e+(o[0]-m)/f,w=n+this.height-(o[1]-v)/h;break;case 90:y=e+(o[0]-m)/f,w=n-(o[1]-v)/h,[c,u]=[u,-c];break;case 180:y=e-this.width+(o[0]-m)/f,w=n-(o[1]-v)/h,[c,u]=[-c,-u];break;case 270:y=e+(o[0]-m-this.height*h)/f,w=n+(o[1]-v-this.width*f)/h,[c,u]=[-u,c];break}this.setAt(y*i,w*a,c,u)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Vh,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=Nn.#d(n.getData("text")||"").replaceAll(Vh,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:u}=o,f=[],h=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(Vh,"")),y!==this.editorDiv){let w=f;for(const x of this.editorDiv.childNodes){if(x===y){w=h;continue}w.push(Nn.#c(x))}}f.push(c.nodeValue.slice(0,u).replaceAll(Vh,""))}else if(c===this.editorDiv){let y=f,w=0;for(const x of this.editorDiv.childNodes)w++===u&&(y=h),y.push(Nn.#c(x))}this.#e=`${f.join(`
`)}${i}${h.join(`
`)}`,this.#l();const m=new Range;let v=Math.sumPrecise(f.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const w=y.nodeValue.length;if(v<=w){m.setStart(y,v),m.setEnd(y,v);break}v-=w}a.removeAllRanges(),a.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#f(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Nn._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,r){let i=null;if(e instanceof w5){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:u,rotation:f,id:h,popupRef:m,richText:v,contentsObj:y,creationDate:w,modificationDate:x},textContent:S,textPosition:_,parent:{page:{pageNumber:C}}}=e;if(!S||S.length===0)return null;i=e={annotationType:Ie.FREETEXT,color:Array.from(c),fontSize:o,value:S.join(`
`),position:_,pageIndex:C-1,rect:u.slice(0),rotation:f,annotationElementId:h,id:h,deleted:!1,popupRef:m,comment:y?.str||null,richText:v,creationDate:w,modificationDate:x}}const a=await super.deserialize(e,n,r);return a.#n=e.fontSize,a.color=pe.makeHexColor(...e.color),a.#e=Nn.#d(e.value),a._initialData=i,e.comment&&a.setCommentData(e),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ce._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#f()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#h(r)?null:(r.id=this.annotationElementId,r)}#h(e){const{value:n,fontSize:r,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((o,c)=>o!==i[c])||e.pageIndex!==a}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of this.#e.split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),n.append(a)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class ve{static PRECISION=1e-4;toSVGPath(){St("Abstract method `toSVGPath` must be implemented.")}get box(){St("Abstract getter `box` must be implemented.")}serialize(e,n){St("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,a,o){o||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)o[c]=n+e[c]*i,o[c+1]=r+e[c+1]*a;return o}static _rescaleAndSwap(e,n,r,i,a,o){o||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)o[c]=n+e[c+1]*i,o[c+1]=r+e[c]*a;return o}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let a=0,o=e.length;a<o;a+=2)i[a]=n+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,a){switch(a){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,a,o){return[(e+5*r)/6,(n+5*i)/6,(5*r+a)/6,(5*i+o)/6,(r+a)/2,(i+o)/2]}}class ao{#e;#t=[];#r;#n;#s=[];#a=new Float32Array(18);#i;#o;#c;#l;#f;#d;#h=[];static#g=8;static#p=2;static#u=ao.#g+ao.#p;constructor({x:e,y:n},r,i,a,o,c=0){this.#e=r,this.#d=a*i,this.#n=o,this.#a.set([NaN,NaN,NaN,NaN,e,n],6),this.#r=c,this.#l=ao.#g*i,this.#c=ao.#u*i,this.#f=i,this.#h.push(e,n)}isEmpty(){return isNaN(this.#a[8])}#m(){const e=this.#a.subarray(4,6),n=this.#a.subarray(16,18),[r,i,a,o]=this.#e;return[(this.#i+(e[0]-n[0])/2-r)/a,(this.#o+(e[1]-n[1])/2-i)/o,(this.#i+(n[0]-e[0])/2-r)/a,(this.#o+(n[1]-e[1])/2-i)/o]}add({x:e,y:n}){this.#i=e,this.#o=n;const[r,i,a,o]=this.#e;let[c,u,f,h]=this.#a.subarray(8,12);const m=e-f,v=n-h,y=Math.hypot(m,v);if(y<this.#c)return!1;const w=y-this.#l,x=w/y,S=x*m,_=x*v;let C=c,j=u;c=f,u=h,f+=S,h+=_,this.#h?.push(e,n);const T=-_/w,k=S/w,N=T*this.#d,P=k*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([f+N,h+P],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([f-N,h-P],16),isNaN(this.#a[6])?(this.#s.length===0&&(this.#a.set([c+N,u+P],2),this.#s.push(NaN,NaN,NaN,NaN,(c+N-r)/a,(u+P-i)/o),this.#a.set([c-N,u-P],14),this.#t.push(NaN,NaN,NaN,NaN,(c-N-r)/a,(u-P-i)/o)),this.#a.set([C,j,c,u,f,h],6),!this.isEmpty()):(this.#a.set([C,j,c,u,f,h],6),Math.abs(Math.atan2(j-u,C-c)-Math.atan2(_,S))<Math.PI/2?([c,u,f,h]=this.#a.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((c+f)/2-r)/a,((u+h)/2-i)/o),[c,u,C,j]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((C+c)/2-r)/a,((j+u)/2-i)/o),!0):([C,j,c,u,f,h]=this.#a.subarray(0,6),this.#s.push(((C+5*c)/6-r)/a,((j+5*u)/6-i)/o,((5*c+f)/6-r)/a,((5*u+h)/6-i)/o,((c+f)/2-r)/a,((u+h)/2-i)/o),[f,h,c,u,C,j]=this.#a.subarray(12,18),this.#t.push(((C+5*c)/6-r)/a,((j+5*u)/6-i)/o,((5*c+f)/6-r)/a,((5*u+h)/6-i)/o,((c+f)/2-r)/a,((u+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,n=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#b(r),r.join(" ")}#v(){const[e,n,r,i]=this.#e,[a,o,c,u]=this.#m();return`M${(this.#a[2]-e)/r} ${(this.#a[3]-n)/i} L${(this.#a[4]-e)/r} ${(this.#a[5]-n)/i} L${a} ${o} L${c} ${u} L${(this.#a[16]-e)/r} ${(this.#a[17]-n)/i} L${(this.#a[14]-e)/r} ${(this.#a[15]-n)/i} Z`}#b(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#y(e){const[n,r,i,a]=this.#e,o=this.#a.subarray(4,6),c=this.#a.subarray(16,18),[u,f,h,m]=this.#m();e.push(`L${(o[0]-n)/i} ${(o[1]-r)/a} L${u} ${f} L${h} ${m} L${(c[0]-n)/i} ${(c[1]-r)/a}`)}newFreeDrawOutline(e,n,r,i,a,o){return new _5(e,n,r,i,a,o)}getOutlines(){const e=this.#s,n=this.#t,r=this.#a,[i,a,o,c]=this.#e,u=new Float32Array((this.#h?.length??0)+2);for(let m=0,v=u.length-2;m<v;m+=2)u[m]=(this.#h[m]-i)/o,u[m+1]=(this.#h[m+1]-a)/c;if(u[u.length-2]=(this.#i-i)/o,u[u.length-1]=(this.#o-a)/c,isNaN(r[6])&&!this.isEmpty())return this.#_(u);const f=new Float32Array(this.#s.length+24+this.#t.length);let h=e.length;for(let m=0;m<h;m+=2){if(isNaN(e[m])){f[m]=f[m+1]=NaN;continue}f[m]=e[m],f[m+1]=e[m+1]}h=this.#w(f,h);for(let m=n.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(n[m+v])){f[h]=f[h+1]=NaN,h+=2;continue}f[h]=n[m+v],f[h+1]=n[m+v+1],h+=2}return this.#A(f,h),this.newFreeDrawOutline(f,u,this.#e,this.#f,this.#r,this.#n)}#_(e){const n=this.#a,[r,i,a,o]=this.#e,[c,u,f,h]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/o,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/o,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/o,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/o],0),this.newFreeDrawOutline(m,e,this.#e,this.#f,this.#r,this.#n)}#A(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#w(e,n){const r=this.#a.subarray(4,6),i=this.#a.subarray(16,18),[a,o,c,u]=this.#e,[f,h,m,v]=this.#m();return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-o)/u,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(i[0]-a)/c,(i[1]-o)/u],n),n+=24}}class _5 extends ve{#e;#t=new Float32Array(4);#r;#n;#s;#a;#i;constructor(e,n,r,i,a,o){super(),this.#i=e,this.#s=n,this.#e=r,this.#a=i,this.#r=a,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(o);const[c,u,f,h]=this.#t;for(let m=0,v=e.length;m<v;m+=2)e[m]=(e[m]-c)/f,e[m+1]=(e[m+1]-u)/h;for(let m=0,v=n.length;m<v;m+=2)n[m]=(n[m]-c)/f,n[m+1]=(n[m+1]-u)/h}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let n=6,r=this.#i.length;n<r;n+=6){if(isNaN(this.#i[n])){e.push(`L${this.#i[n+4]} ${this.#i[n+5]}`);continue}e.push(`C${this.#i[n]} ${this.#i[n+1]} ${this.#i[n+2]} ${this.#i[n+3]} ${this.#i[n+4]} ${this.#i[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],a){const o=r-e,c=i-n;let u,f;switch(a){case 0:u=ve._rescale(this.#i,e,i,o,-c),f=ve._rescale(this.#s,e,i,o,-c);break;case 90:u=ve._rescaleAndSwap(this.#i,e,n,o,c),f=ve._rescaleAndSwap(this.#s,e,n,o,c);break;case 180:u=ve._rescale(this.#i,r,n,-o,c),f=ve._rescale(this.#s,r,n,-o,c);break;case 270:u=ve._rescaleAndSwap(this.#i,r,i,-o,-c),f=ve._rescaleAndSwap(this.#s,r,i,-o,-c);break}return{outline:Array.from(u),points:[Array.from(f)]}}#o(e){const n=this.#i;let r=n[4],i=n[5];const a=[r,i,r,i];let o=r,c=i,u=r,f=i;const h=e?Math.max:Math.min,m=new Float32Array(4);for(let y=6,w=n.length;y<w;y+=6){const x=n[y+4],S=n[y+5];isNaN(n[y])?(pe.pointBoundingBox(x,S,a),c>S?(o=x,c=S):c===S&&(o=h(o,x)),f<S?(u=x,f=S):f===S&&(u=h(u,x))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,pe.bezierBoundingBox(r,i,...n.slice(y,y+6),m),pe.rectBoundingBox(m[0],m[1],m[2],m[3],a),c>m[1]?(o=m[0],c=m[1]):c===m[1]&&(o=h(o,m[0])),f<m[3]?(u=m[2],f=m[3]):f===m[3]&&(u=h(u,m[2]))),r=x,i=S}const v=this.#t;v[0]=a[0]-this.#r,v[1]=a[1]-this.#r,v[2]=a[2]-a[0]+2*this.#r,v[3]=a[3]-a[1]+2*this.#r,this.firstPoint=[o,c],this.lastPoint=[u,f]}get box(){return this.#t}newOutliner(e,n,r,i,a,o=0){return new ao(e,n,r,i,a,o)}getNewOutline(e,n){const[r,i,a,o]=this.#t,[c,u,f,h]=this.#e,m=a*f,v=o*h,y=r*f+c,w=i*h+u,x=this.newOutliner({x:this.#s[0]*m+y,y:this.#s[1]*v+w},this.#e,this.#a,e,this.#n,n??this.#r);for(let S=2;S<this.#s.length;S+=2)x.add({x:this.#s[S]*m+y,y:this.#s[S+1]*v+w});return x.getOutlines()}}class y1{#e;#t;#r;#n=[];#s=[];constructor(e,n=0,r=0,i=!0){const a=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x,y:S,width:_,height:C}of e){const j=Math.floor((x-n)/o)*o,T=Math.ceil((x+_+n)/o)*o,k=Math.floor((S-n)/o)*o,N=Math.ceil((S+C+n)/o)*o,P=[j,k,N,!0],L=[T,k,N,!1];this.#n.push(P,L),pe.rectBoundingBox(j,k,T,N,a)}const c=a[2]-a[0]+2*r,u=a[3]-a[1]+2*r,f=a[0]-r,h=a[1]-r;let m=i?-1/0:1/0,v=1/0;const y=this.#n.at(i?-1:-2),w=[y[0],y[2]];for(const x of this.#n){const[S,_,C,j]=x;!j&&i?_<v?(v=_,m=S):_===v&&(m=Math.max(m,S)):j&&!i&&(_<v?(v=_,m=S):_===v&&(m=Math.min(m,S))),x[0]=(S-f)/c,x[1]=(_-h)/u,x[2]=(C-h)/u}this.#e=new Float32Array([f,h,c,u]),this.#t=[m,v],this.#r=w}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#o(n)):(this.#c(n),e.push(...this.#l(n)));return this.#a(e)}#a(e){const n=[],r=new Set;for(const o of e){const[c,u,f]=o;n.push([c,u,o],[c,f,o])}n.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=n.length;o<c;o+=2){const u=n[o][2],f=n[o+1][2];u.push(f),f.push(u),r.add(u),r.add(f)}const i=[];let a;for(;r.size>0;){const o=r.values().next().value;let[c,u,f,h,m]=o;r.delete(o);let v=c,y=u;for(a=[c,f],i.push(a);;){let w;if(r.has(h))w=h;else if(r.has(m))w=m;else break;r.delete(w),[c,u,f,h,m]=w,v!==c&&(a.push(v,y,c,y===u?u:f),v=c),y=y===u?f:u}a.push(v,y)}return new Eoe(i,this.#e,this.#t,this.#r)}#i(e){const n=this.#s;let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,o=n[a][0];if(o===e)return a;o<e?r=a+1:i=a-1}return i+1}#o([,e,n]){const r=this.#i(e);this.#s.splice(r,0,[e,n])}#c([,e,n]){const r=this.#i(e);for(let i=r;i<this.#s.length;i++){const[a,o]=this.#s[i];if(a!==e)break;if(a===e&&o===n){this.#s.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,o]=this.#s[i];if(a!==e)break;if(a===e&&o===n){this.#s.splice(i,1);return}}}#l(e){const[n,r,i]=e,a=[[n,r,i]],o=this.#i(i);for(let c=0;c<o;c++){const[u,f]=this.#s[c];for(let h=0,m=a.length;h<m;h++){const[,v,y]=a[h];if(!(f<=v||y<=u)){if(v>=u){if(y>f)a[h][1]=f;else{if(m===1)return[];a.splice(h,1),h--,m--}continue}a[h][2]=u,y>f&&a.push([n,f,y])}}}return a}}class Eoe extends ve{#e;#t;constructor(e,n,r,i){super(),this.#t=e,this.#e=n,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let a=2;a<n.length;a+=2){const o=n[a],c=n[a+1];o===r?(e.push(`V${c}`),i=c):c===i&&(e.push(`H${o}`),r=o)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],a){const o=[],c=r-e,u=i-n;for(const f of this.#t){const h=new Array(f.length);for(let m=0;m<f.length;m+=2)h[m]=e+f[m]*c,h[m+1]=i-f[m+1]*u;o.push(h)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class b1 extends ao{newFreeDrawOutline(e,n,r,i,a,o){return new _oe(e,n,r,i,a,o)}}class _oe extends _5{newOutliner(e,n,r,i,a,o=0){return new b1(e,n,r,i,a,o)}}class tn extends Ce{#e=null;#t=0;#r;#n=null;#s=null;#a=null;#i=null;#o=0;#c=null;#l=null;#f=null;#d=!1;#h=null;#g=null;#p=null;#u="";#m;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ie.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=tn.prototype;return Le(this,"_keyboardManager",new nf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||tn._defaultColor,this.#m=e.thickness||tn._defaultThickness,this.opacity=e.opacity||tn._defaultOpacity,this.#r=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#x()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new y1(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new y1(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#a=n.getOutlines();const{firstPoint:r}=this.#l;this.#h=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#a;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#a=e.getNewOutline(this.#m/2+i,.0025),n>=0)this.#f=n,this.#n=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:tn.#E(this.#l.box,(m-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:tn.#E(this.#a.box,m),path:{d:this.#a.toSVGPath()}})}const[a,o,c,u]=e.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=u;break;case 90:{const[m,v]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*v/m,this.height=u*m/v;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*v/m,this.height=u*m/v;break}}const{firstPoint:f}=e;this.#h=[(f[0]-a)/c,(f[1]-o)/u];const{lastPoint:h}=this.#a;this.#g=[(h[0]-a)/c,(h[1]-o)/u]}static initialize(e,n){Ce.initialize(e,n),tn._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case We.HIGHLIGHT_COLOR:tn._defaultColor=n;break;case We.HIGHLIGHT_THICKNESS:tn._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#h}updateParams(e,n){switch(e){case We.HIGHLIGHT_COLOR:this.#_(n);break;case We.HIGHLIGHT_THICKNESS:this.#A(n);break}}static get defaultPropertiesToUpdate(){return[[We.HIGHLIGHT_COLOR,tn._defaultColor],[We.HIGHLIGHT_THICKNESS,tn._defaultThickness]]}get propertiesToUpdate(){return[[We.HIGHLIGHT_COLOR,this.color||tn._defaultColor],[We.HIGHLIGHT_THICKNESS,this.#m||tn._defaultThickness],[We.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#_(e){const n=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,e,tn._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#A(e){const n=this.#m,r=i=>{this.#m=i,this.#w(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new ti({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#N())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#N())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#j(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#j():e&&(this.#x(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#w(e){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#j(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#x(e=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#E([e,n,r,i],a){switch(a){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=tn.#E(this.#l.box,e)):r=tn.#E([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#f,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#p,{bbox:tn.#E(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#T.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),t5(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#T(e){tn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#k(!0);break;case 1:case 3:this.#k(!1);break}}#k(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#i,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#k(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#N(){return this.#d?this.rotation:0}#I(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,a=this.#r,o=new Float32Array(a.length*8);let c=0;for(const{x:u,y:f,width:h,height:m}of a){const v=u*e+r,y=(1-f)*n+i;o[c]=o[c+4]=v,o[c+1]=o[c+3]=y,o[c+2]=o[c+6]=v+h*e,o[c+5]=o[c+7]=y-m*n,c+=8}return o}#P(e){return this.#l.serialize(e,this.#N())}static startHighlighting(e,n,{target:r,x:i,y:a}){const{x:o,y:c,width:u,height:f}=r.getBoundingClientRect(),h=new AbortController,m=e.combinedSignal(h),v=y=>{h.abort(),this.#z(e,y)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",Wt,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",oi,{signal:m}),r.addEventListener("pointermove",this.#D.bind(this,e),{signal:m}),this._freeHighlight=new b1({x:i,y:a},[o,c,u,f],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#z(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof A5){const{data:{quadPoints:w,rect:x,rotation:S,id:_,color:C,opacity:j,popupRef:T,richText:k,contentsObj:N,creationDate:P,modificationDate:L},parent:{page:{pageNumber:B}}}=e;i=e={annotationType:Ie.HIGHLIGHT,color:Array.from(C),opacity:j,quadPoints:w,boxes:null,pageIndex:B-1,rect:x.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,popupRef:T,richText:k,comment:N?.str||null,creationDate:P,modificationDate:L}}else if(e instanceof eA){const{data:{inkLists:w,rect:x,rotation:S,id:_,color:C,borderStyle:{rawWidth:j},popupRef:T,richText:k,contentsObj:N,creationDate:P,modificationDate:L},parent:{page:{pageNumber:B}}}=e;i=e={annotationType:Ie.HIGHLIGHT,color:Array.from(C),thickness:j,inkLists:w,boxes:null,pageIndex:B-1,rect:x.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,popupRef:T,richText:k,comment:N?.str||null,creationDate:P,modificationDate:L}}const{color:a,quadPoints:o,inkLists:c,opacity:u}=e,f=await super.deserialize(e,n,r);f.color=pe.makeHexColor(...a),f.opacity=u||1,c&&(f.#m=e.thickness),f._initialData=i,e.comment&&f.setCommentData(e);const[h,m]=f.pageDimensions,[v,y]=f.pageTranslation;if(o){const w=f.#r=[];for(let x=0;x<o.length;x+=8)w.push({x:(o[x]-v)/h,y:1-(o[x+1]-y)/m,width:(o[x+2]-o[x])/h,height:(o[x+1]-o[x+5])/m});f.#b(),f.#x(),f.rotate(f.rotation)}else if(c){f.#d=!0;const w=c[0],x={x:w[0]-v,y:m-(w[1]-y)},S=new b1(x,[0,0,h,m],1,f.#m/2,!0,.001);for(let j=0,T=w.length;j<T;j+=2)x.x=w[j]-v,x.y=m-(w[j+1]-y),S.add(x);const{id:_,clipPathId:C}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);f.#y({highlightOutlines:S.getOutlines(),highlightId:_,clipPathId:C}),f.#x(),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=Ce._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:n,opacity:this.opacity,thickness:this.#m,quadPoints:this.#I(),outlines:this.#P(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#R(r)?null:(r.id=this.annotationElementId,r)}#R(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class C5{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){St("Not implemented")}}class at extends Ce{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#s=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#a(e),this.#c())}#a({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,n){const{id:r}=n.drawLayer.draw(at._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,a]of Object.entries(n))r.has(i)?Object.assign(e[i],a):e[i]=a;return e}static getDefaultDrawingOptions(e){St("Not implemented")}static get typesMap(){St("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(at.#r.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,a=i[n],o=c=>{i.updateProperty(n,c);const u=this.#e.updateProperty(n,c);u&&this.#d(u),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,at._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#h()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,at._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#h()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#h()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,at._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#h()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,n,r,i]){const{parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[n,1-e,r*(o/a),i*(a/o)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(o/a),i*(a/o)];default:return[e,n,r,i]}}#f(){const{x:e,y:n,width:r,height:i,parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[1-n,e,r*(a/o),i*(o/a)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(a/o),i*(o/a)];default:return[e,n,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#h(){const{x:e,y:n,width:r,height:i,rotation:a,parentRotation:o,parentDimensions:[c,u]}=this;switch((a*4+o)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(c/u),i*(u/c),r*(c/u)];case 5:return[1-n,e,r*(c/u),i*(u/c)];case 6:return[1-e-i*(u/c),1-n,i*(u/c),r*(c/u)];case 7:return[n-r*(c/u),1-e-i*(u/c),r*(c/u),i*(u/c)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(u/c),n,i*(u/c),r*(c/u)];case 13:return[1-n-r*(c/u),e-i*(u/c),r*(c/u),i*(u/c)];case 14:return[1-e,1-n-r*(c/u),i*(u/c),r*(c/u)];case 15:return[n,1-e,r*(c/u),i*(u/c)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,at._mergeSVGProperties({bbox:this.#h()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,a){St("Not implemented")}static startDrawing(e,n,r,i){const{target:a,offsetX:o,offsetY:c,pointerId:u,pointerType:f}=i;if(st.isInitializedAndDifferentPointerType(f))return;const{viewport:{rotation:h}}=e,{width:m,height:v}=a.getBoundingClientRect(),y=at.#n=new AbortController,w=e.combinedSignal(y);if(st.setPointer(f,u),window.addEventListener("pointerup",x=>{st.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:w}),window.addEventListener("pointercancel",x=>{st.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:w}),window.addEventListener("pointerdown",x=>{st.isSamePointerType(x.pointerType)&&(st.initializeAndAddPointerId(x.pointerId),at.#r.isCancellable()&&(at.#r.removeLastElement(),at.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",oi,{signal:w}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),a.addEventListener("touchmove",x=>{st.isSameTimeStamp(x.timeStamp)&&Wt(x)},{signal:w}),e.toggleDrawing(),n._editorUndoBar?.hide(),at.#r){e.drawLayer.updateProperties(this._currentDrawId,at.#r.startNew(o,c,m,v,h));return}n.updateUIForDefaultProperties(this),at.#r=this.createDrawerInstance(o,c,m,v,h),at.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(at.#s.toSVGProperties(),at.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(st.isSameTimeStamp(e.timeStamp),!at.#r)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(st.isSamePointerId(i)){if(st.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,at.#r.add(n,r)),st.setTimeStamp(e.timeStamp),Wt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,at.#r=null,at.#s=null,st.clearTimeStamp()),at.#n&&(at.#n.abort(),at.#n=null,st.clearPointerIds())}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,at.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=at.#r,i=this._currentDrawId,a=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:We.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(We.DRAW_STEP),!at.#r.isEmpty()){const{pageDimensions:[r,i],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:at.#r.getOutlines(r*a,i*a,a,this._INNER_MARGIN),drawingOptions:at.#s,mustBeCommitted:!e});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,a,o){St("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:c}}=n.viewport,u=this.deserializeDraw(o,c,i,a,this._INNER_MARGIN,e),f=await super.deserialize(e,n,r);return f.createDrawingOptions(e),f.#a({drawOutlines:u}),f.#c(),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[n,r]=this.pageTranslation,[i,a]=this.pageDimensions;return this.#e.serialize([n,r,i,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Coe{#e=new Float64Array(6);#t;#r;#n;#s;#a;#i="";#o=0;#c=new af;#l;#f;constructor(e,n,r,i,a,o){this.#l=r,this.#f=i,this.#n=a,this.#s=o,[e,n]=this.#d(e,n);const c=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n],this.#r=[{line:c,points:this.#a}],this.#e.set(c,0)}updateProperty(e,n){e==="stroke-width"&&(this.#s=n)}#d(e,n){return ve._normalizePoint(e,n,this.#l,this.#f,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#a.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,a,o]=this.#e.subarray(2,6),c=e-a,u=n-o;return Math.hypot(this.#l*c,this.#f*u)<=2?null:(this.#a.push(e,n),isNaN(r)?(this.#e.set([a,o,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,a,o,e,n],0),this.#t.push(...ve.createBezierPoints(r,i,a,o,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,a){this.#l=r,this.#f=i,this.#n=a,[e,n]=this.#d(e,n);const o=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n];const c=this.#r.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#r.push({line:o,points:this.#a}),this.#e.set(o,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#a=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#c.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,n=this.#r.length;e<n;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#a=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=ve.svgRound(this.#t[4]),n=ve.svgRound(this.#t[5]);if(this.#a.length===2)return this.#i=`${this.#i} M ${e} ${n} Z`,this.#i;if(this.#a.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${n}`,this.#o=6}if(this.#a.length===4){const i=ve.svgRound(this.#t[10]),a=ve.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${a}`,this.#o=12,this.#i}const r=[];this.#o===0&&(r.push(`M ${e} ${n}`),this.#o=6);for(let i=this.#o,a=this.#t.length;i<a;i+=6){const[o,c,u,f,h,m]=this.#t.slice(i,i+6).map(ve.svgRound);r.push(`C${o} ${c} ${u} ${f} ${h} ${m}`)}return this.#i+=r.join(" "),this.#o=this.#t.length,this.#i}getOutlines(e,n,r,i){const a=this.#r.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#c.build(this.#r,e,n,r,this.#n,this.#s,i),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class af extends ve{#e;#t=0;#r;#n;#s;#a;#i;#o;#c;build(e,n,r,i,a,o,c){this.#s=n,this.#a=r,this.#i=i,this.#o=a,this.#c=o,this.#r=c??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${ve.svgRound(n[4])} ${ve.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${ve.svgRound(n[10])} ${ve.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[a,o,c,u,f,h]=n.subarray(r,r+6).map(ve.svgRound);e.push(`C${a} ${o} ${c} ${u} ${f} ${h}`)}}return e.join("")}serialize([e,n,r,i],a){const o=[],c=[],[u,f,h,m]=this.#f();let v,y,w,x,S,_,C,j,T;switch(this.#o){case 0:T=ve._rescale,v=e,y=n+i,w=r,x=-i,S=e+u*r,_=n+(1-f-m)*i,C=e+(u+h)*r,j=n+(1-f)*i;break;case 90:T=ve._rescaleAndSwap,v=e,y=n,w=r,x=i,S=e+f*r,_=n+u*i,C=e+(f+m)*r,j=n+(u+h)*i;break;case 180:T=ve._rescale,v=e+r,y=n,w=-r,x=i,S=e+(1-u-h)*r,_=n+f*i,C=e+(1-u)*r,j=n+(f+m)*i;break;case 270:T=ve._rescaleAndSwap,v=e+r,y=n+i,w=-r,x=-i,S=e+(1-f-m)*r,_=n+(1-u-h)*i,C=e+(1-f)*r,j=n+(1-u)*i;break}for(const{line:k,points:N}of this.#n)o.push(T(k,v,y,w,x,a?new Array(k.length):null)),c.push(T(N,v,y,w,x,a?new Array(N.length):null));return{lines:o,points:c,rect:[S,_,C,j]}}static deserialize(e,n,r,i,a,{paths:{lines:o,points:c},rotation:u,thickness:f}){const h=[];let m,v,y,w,x;switch(u){case 0:x=ve._rescale,m=-e/r,v=n/i+1,y=1/r,w=-1/i;break;case 90:x=ve._rescaleAndSwap,m=-n/i,v=-e/r,y=1/i,w=1/r;break;case 180:x=ve._rescale,m=e/r+1,v=-n/i,y=-1/r,w=1/i;break;case 270:x=ve._rescaleAndSwap,m=n/i+1,v=e/r+1,y=-1/i,w=-1/r;break}if(!o){o=[];for(const _ of c){const C=_.length;if(C===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1]]));continue}if(C===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1],NaN,NaN,NaN,NaN,_[2],_[3]]));continue}const j=new Float32Array(3*(C-2));o.push(j);let[T,k,N,P]=_.subarray(0,4);j.set([NaN,NaN,NaN,NaN,T,k],0);for(let L=4;L<C;L+=2){const B=_[L],H=_[L+1];j.set(ve.createBezierPoints(T,k,N,P,B,H),(L-2)*3),[T,k,N,P]=[N,P,B,H]}}}for(let _=0,C=o.length;_<C;_++)h.push({line:x(o[_].map(j=>j??NaN),m,v,y,w),points:x(c[_].map(j=>j??NaN),m,v,y,w)});const S=new this.prototype.constructor;return S.build(h,r,i,1,u,f,a),S}#l(e=this.#c){const n=this.#r+e/2*this.#i;return this.#o%180===0?[n/this.#s,n/this.#a]:[n/this.#a,n/this.#s]}#f(){const[e,n,r,i]=this.#e,[a,o]=this.#l(0);return[e+a,n+o,r-2*a,i-2*o]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let c=4,u=i.length;c<u;c+=6)pe.pointBoundingBox(i[c],i[c+1],e);continue}let a=i[4],o=i[5];for(let c=6,u=i.length;c<u;c+=6){const[f,h,m,v,y,w]=i.subarray(c,c+6);pe.bezierBoundingBox(a,o,f,h,m,v,y,w,e),a=y,o=w}}const[n,r]=this.#l();e[0]=tr(e[0]-n,0,1),e[1]=tr(e[1]-r,0,1),e[2]=tr(e[2]+n,0,1),e[3]=tr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#h(n):null}#h(e){const[n,r]=this.#l();this.#c=e;const[i,a]=this.#l(),[o,c]=[i-n,a-r],u=this.#e;return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u}updateParentDimensions([e,n],r){const[i,a]=this.#l();this.#s=e,this.#a=n,this.#i=r;const[o,c]=this.#l(),u=o-i,f=c-a,h=this.#e;return h[0]-=u,h[1]-=f,h[2]+=2*u,h[3]+=2*f,h}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(ve.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,a=0,o=0,c=0,u=0;switch(this.#t){case 90:i=n/e,a=-e/n,c=e;break;case 180:r=-1,o=-1,c=e,u=n;break;case 270:i=-n/e,a=e/n,u=n;break;default:return""}return`matrix(${r} ${i} ${a} ${o} ${ve.svgRound(c)} ${ve.svgRound(u)})`}getPathResizingSVGProperties([e,n,r,i]){const[a,o]=this.#l(),[c,u,f,h]=this.#e;if(Math.abs(f-a)<=ve.PRECISION||Math.abs(h-o)<=ve.PRECISION){const x=e+r/2-(c+f/2),S=n+i/2-(u+h/2);return{path:{"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(n)}`,transform:`${this.rotationTransform} translate(${x} ${S})`}}}const m=(r-2*a)/(f-2*a),v=(i-2*o)/(h-2*o),y=f/r,w=h/i;return{path:{"transform-origin":`${ve.svgRound(c)} ${ve.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${w}) translate(${ve.svgRound(a)} ${ve.svgRound(o)}) scale(${m} ${v}) translate(${ve.svgRound(-a)} ${ve.svgRound(-o)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[a,o]=this.#l(),c=this.#e,[u,f,h,m]=c;if(c[0]=e,c[1]=n,c[2]=r,c[3]=i,Math.abs(h-a)<=ve.PRECISION||Math.abs(m-o)<=ve.PRECISION){const S=e+r/2-(u+h/2),_=n+i/2-(f+m/2);for(const{line:C,points:j}of this.#n)ve._translate(C,S,_,C),ve._translate(j,S,_,j);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(r-2*a)/(h-2*a),y=(i-2*o)/(m-2*o),w=-v*(u+a)+e+a,x=-y*(f+o)+n+o;if(v!==1||y!==1||w!==0||x!==0)for(const{line:S,points:_}of this.#n)ve._rescale(S,w,x,v,y,S),ve._rescale(_,w,x,v,y,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,a]=r,o=this.#e,c=e-o[0],u=n-o[1];if(this.#s===i&&this.#a===a)for(const{line:f,points:h}of this.#n)ve._translate(f,c,u,f),ve._translate(h,c,u,h);else{const f=this.#s/i,h=this.#a/a;this.#s=i,this.#a=a;for(const{line:m,points:v}of this.#n)ve._rescale(m,c,u,f,h,m),ve._rescale(v,c,u,f,h,v);o[2]*=f,o[3]*=h}return o[0]=e,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ve.svgRound(e[0])} ${ve.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class wg extends C5{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ce._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new wg(this._viewParameters);return e.updateAll(this),e}}class nA extends at{static _type="ink";static _editorType=Ie.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){Ce.initialize(e,n),this._defaultDrawingOptions=new wg(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Le(this,"typesMap",new Map([[We.INK_THICKNESS,"stroke-width"],[We.INK_COLOR,"stroke"],[We.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,a){return new Coe(e,n,r,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,a,o){return af.deserialize(e,n,r,i,a,o)}static async deserialize(e,n,r){let i=null;if(e instanceof eA){const{data:{inkLists:o,rect:c,rotation:u,id:f,color:h,opacity:m,borderStyle:{rawWidth:v},popupRef:y,richText:w,contentsObj:x,creationDate:S,modificationDate:_},parent:{page:{pageNumber:C}}}=e;i=e={annotationType:Ie.INK,color:Array.from(h),thickness:v,opacity:m,paths:{points:o},boxes:null,pageIndex:C-1,rect:c.slice(0),rotation:u,annotationElementId:f,id:f,deleted:!1,popupRef:y,richText:w,comment:x?.str||null,creationDate:S,modificationDate:_}}const a=await super.deserialize(e,n,r);return a._initialData=i,e.comment&&a.setCommentData(e),a}get toolbarButtons(){return this._colorPicker||=new Ad(this),[["colorPicker",this._colorPicker]]}get colorType(){return We.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=nA.getDefaultDrawingOptions({stroke:pe.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":o}}=this,c=Object.assign(super.serialize(e),{color:Ce._colorManager.convert(i),opacity:a,thickness:o,paths:{lines:n,points:r}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!this.#e(c)?null:(c.id=this.annotationElementId,c)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,c)=>o!==n[c])||e.thickness!==r||e.opacity!==i||e.pageIndex!==a}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class x1 extends af{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Yh=8,ju=3;class Nl{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,r,i,a,o,c){const u=this.#t(r,i,a,o);for(let f=0;f<8;f++){const h=(-f+u-c+16)%8,m=this.#r[2*h],v=this.#r[2*h+1];if(e[(r+m)*n+(i+v)]!==0)return h}return-1}static#s(e,n,r,i,a,o,c){const u=this.#t(r,i,a,o);for(let f=0;f<8;f++){const h=(f+u+c+16)%8,m=this.#r[2*h],v=this.#r[2*h+1];if(e[(r+m)*n+(i+v)]!==0)return h}return-1}static#a(e,n,r,i){const a=e.length,o=new Int32Array(a);for(let h=0;h<a;h++)o[h]=e[h]<=i?1:0;for(let h=1;h<r-1;h++)o[h*n]=o[h*n+n-1]=0;for(let h=0;h<n;h++)o[h]=o[n*r-1-h]=0;let c=1,u;const f=[];for(let h=1;h<r-1;h++){u=1;for(let m=1;m<n-1;m++){const v=h*n+m,y=o[v];if(y===0)continue;let w=h,x=m;if(y===1&&o[v-1]===0)c+=1,x-=1;else if(y>=1&&o[v+1]===0)c+=1,x+=1,y>1&&(u=y);else{y!==1&&(u=Math.abs(y));continue}const S=[m,h],_=x===m+1,C={isHole:_,points:S,id:c,parent:0};f.push(C);let j;for(const z of f)if(z.id===u){j=z;break}j?j.isHole?C.parent=_?j.parent:u:C.parent=_?u:j.parent:C.parent=_?u:0;const T=this.#n(o,n,h,m,w,x,0);if(T===-1){o[v]=-c,o[v]!==1&&(u=Math.abs(o[v]));continue}let k=this.#r[2*T],N=this.#r[2*T+1];const P=h+k,L=m+N;w=P,x=L;let B=h,H=m;for(;;){const z=this.#s(o,n,B,H,w,x,1);k=this.#r[2*z],N=this.#r[2*z+1];const $=B+k,ne=H+N;S.push(ne,$);const Q=B*n+H;if(o[Q+1]===0?o[Q]=-c:o[Q]===1&&(o[Q]=c),$===h&&ne===m&&B===P&&H===L){o[v]!==1&&(u=Math.abs(o[v]));break}else w=B,x=H,B=$,H=ne}}}return f}static#i(e,n,r,i){if(r-n<=4){for(let P=n;P<r-2;P+=2)i.push(e[P],e[P+1]);return}const a=e[n],o=e[n+1],c=e[r-4]-a,u=e[r-3]-o,f=Math.hypot(c,u),h=c/f,m=u/f,v=h*o-m*a,y=u/c,w=1/f,x=Math.atan(y),S=Math.cos(x),_=Math.sin(x),C=w*(Math.abs(S)+Math.abs(_)),j=w*(1-C+C**2),T=Math.max(Math.atan(Math.abs(_+S)*j),Math.atan(Math.abs(_-S)*j));let k=0,N=n;for(let P=n+2;P<r-2;P+=2){const L=Math.abs(v-h*e[P+1]+m*e[P]);L>k&&(N=P,k=L)}k>(f*T)**2?(this.#i(e,n,N+2,i),this.#i(e,N,r,i)):i.push(a,o)}static#o(e){const n=[],r=e.length;return this.#i(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#c(e,n,r,i,a,o){const c=new Float32Array(o**2),u=-2*i**2,f=o>>1;for(let x=0;x<o;x++){const S=(x-f)**2;for(let _=0;_<o;_++)c[x*o+_]=Math.exp((S+(_-f)**2)/u)}const h=new Float32Array(256),m=-2*a**2;for(let x=0;x<256;x++)h[x]=Math.exp(x**2/m);const v=e.length,y=new Uint8Array(v),w=new Uint32Array(256);for(let x=0;x<r;x++)for(let S=0;S<n;S++){const _=x*n+S,C=e[_];let j=0,T=0;for(let N=0;N<o;N++){const P=x+N-f;if(!(P<0||P>=r))for(let L=0;L<o;L++){const B=S+L-f;if(B<0||B>=n)continue;const H=e[P*n+B],z=c[N*o+L]*h[Math.abs(H-C)];j+=H*z,T+=z}}const k=y[_]=Math.round(j/T);w[k]++}return[y,w]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#f(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,a=1/0;for(let c=0,u=r.length;c<u;c++){const f=r[c]=e[c<<2];i=Math.max(i,f),a=Math.min(a,f)}const o=255/(i-a);for(let c=0,u=r.length;c<u;c++)r[c]=(r[c]-a)*o;return r}static#d(e){let n,r=-1/0,i=-1/0;const a=e.findIndex(u=>u!==0);let o=a,c=a;for(n=a;n<256;n++){const u=e[n];u>r&&(n-o>i&&(i=n-o,c=n-1),r=u,o=n)}for(n=c-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#h(e){const n=e,{width:r,height:i}=e,{maxDim:a}=this.#e;let o=r,c=i;if(r>a||i>a){let v=r,y=i,w=Math.log2(Math.max(r,i)/a);const x=Math.floor(w);w=w===x?x-1:x;for(let _=0;_<w;_++){o=Math.ceil(v/2),c=Math.ceil(y/2);const C=new OffscreenCanvas(o,c);C.getContext("2d").drawImage(e,0,0,v,y,0,0,o,c),v=o,y=c,e!==n&&e.close(),e=C.transferToImageBitmap()}const S=Math.min(a/o,a/c);o=Math.round(o*S),c=Math.round(c*S)}const f=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,o,c),f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,o,c);const h=f.getImageData(0,0,o,c).data;return[this.#f(h),o,c]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},a,o,c,u){let f=new OffscreenCanvas(1,1),h=f.getContext("2d",{alpha:!1});const m=200,v=h.font=`${r} ${i} ${m}px ${n}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:w,actualBoundingBoxAscent:x,actualBoundingBoxDescent:S,fontBoundingBoxAscent:_,fontBoundingBoxDescent:C,width:j}=h.measureText(e),T=1.5,k=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||0,j)*T),N=Math.ceil(Math.max(Math.abs(x)+Math.abs(S)||m,Math.abs(_)+Math.abs(C)||m)*T);f=new OffscreenCanvas(k,N),h=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=v,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,k,N),h.fillStyle="black",h.fillText(e,k*(T-1)/2,N*(3-T)/2);const P=this.#f(h.getImageData(0,0,k,N).data),L=this.#l(P),B=this.#d(L),H=this.#a(P,k,N,B);return this.processDrawnLines({lines:{curves:H,width:k,height:N},pageWidth:a,pageHeight:o,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,a){const[o,c,u]=this.#h(e),[f,h]=this.#c(o,c,u,Math.hypot(c,u)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),m=this.#d(h),v=this.#a(f,c,u,m);return this.processDrawnLines({lines:{curves:v,width:c,height:u},pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:o,areContours:c}){i%180!==0&&([n,r]=[r,n]);const{curves:u,width:f,height:h}=e,m=e.thickness??0,v=[],y=Math.min(n/f,r/h),w=y/n,x=y/r,S=[];for(const{points:C}of u){const j=o?this.#o(C):C;if(!j)continue;S.push(j);const T=j.length,k=new Float32Array(T),N=new Float32Array(3*(T===2?2:T-2));if(v.push({line:N,points:k}),T===2){k[0]=j[0]*w,k[1]=j[1]*x,N.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[P,L,B,H]=j;P*=w,L*=x,B*=w,H*=x,k.set([P,L,B,H],0),N.set([NaN,NaN,NaN,NaN,P,L],0);for(let z=4;z<T;z+=2){const $=k[z]=j[z]*w,ne=k[z+1]=j[z+1]*x;N.set(ve.createBezierPoints(P,L,B,H,$,ne),(z-2)*3),[P,L,B,H]=[B,H,$,ne]}}if(v.length===0)return null;const _=c?new x1:new af;return _.build(v,n,r,1,i,c?0:m,a),{outline:_,newCurves:S,areContours:c,thickness:m,width:f,height:h}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:a}){let o=1/0,c=-1/0,u=0;for(const j of e){u+=j.length;for(let T=2,k=j.length;T<k;T++){const N=j[T]-j[T-2];o=Math.min(o,N),c=Math.max(c,N)}}let f;o>=-128&&c<=127?f=Int8Array:o>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const h=e.length,m=Yh+ju*h,v=new Uint32Array(m);let y=0;v[y++]=m*Uint32Array.BYTES_PER_ELEMENT+(u-2*h)*f.BYTES_PER_ELEMENT,v[y++]=0,v[y++]=i,v[y++]=a,v[y++]=n?0:1,v[y++]=Math.max(0,Math.floor(r??0)),v[y++]=h,v[y++]=f.BYTES_PER_ELEMENT;for(const j of e)v[y++]=j.length-2,v[y++]=j[0],v[y++]=j[1];const w=new CompressionStream("deflate-raw"),x=w.writable.getWriter();await x.ready,x.write(v);const S=f.prototype.constructor;for(const j of e){const T=new S(j.length-2);for(let k=2,N=j.length;k<N;k++)T[k-2]=j[k]-j[k-2];x.write(T)}x.close();const _=await new Response(w.readable).arrayBuffer(),C=new Uint8Array(_);return QI(C)}static async decompressSignature(e){try{const n=$ae(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let o=null,c=0;for await(const j of r)o||=new Uint8Array(new Uint32Array(j.buffer,0,4)[0]),o.set(j,c),c+=j.length;const u=new Uint32Array(o.buffer,0,o.length>>2),f=u[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const h=u[2],m=u[3],v=u[4]===0,y=u[5],w=u[6],x=u[7],S=[],_=(Yh+ju*w)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(x){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(o.buffer,_);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(o.buffer,_);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(o.buffer,_);break}c=0;for(let j=0;j<w;j++){const T=u[ju*j+Yh],k=new Float32Array(T+2);S.push(k);for(let N=0;N<ju-1;N++)k[N]=u[ju*j+Yh+N+1];for(let N=0;N<T;N++)k[N+2]=k[N]+C[c++]}return{areContours:v,thickness:y,outlines:S,width:h,height:m}}catch(n){return Re(`decompressSignature: ${n}`),null}}}class rA extends C5{constructor(){super(),super.updateProperties({fill:Ce._defaultLineColor,"stroke-width":0})}clone(){const e=new rA;return e.updateAll(this),e}}class iA extends wg{constructor(e){super(e),super.updateProperties({stroke:Ce._defaultLineColor,"stroke-width":1})}clone(){const e=new iA(this._viewParameters);return e.updateAll(this),e}}class Ii extends at{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=Ie.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){Ce.initialize(e,n),this._defaultDrawingOptions=new rA,this._defaultDrawnSignatureOptions=new iA(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Le(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:a,areContours:o,description:c,uuid:u,heightInPage:f}=this.#r,{rawDims:{pageWidth:h,pageHeight:m},rotation:v}=this.parent.viewport,y=Nl.processDrawnLines({lines:i,pageWidth:h,pageHeight:m,rotation:v,innerMargin:Ii._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(y,f,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:a}=this.#r,o=Math.max(i,a),c=Nl.processDrawnLines({lines:{curves:e.map(u=>({points:u})),thickness:r,width:i,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:a,y:o}=this,{outline:c}=this.#r=e;this.#e=c instanceof x1,this.description=r;let u;this.#e?u=Ii.getDefaultDrawingOptions():(u=Ii._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,f]=this.pageDimensions;let h=n/f;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return Nl.process(e,n,r,i,Ii._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return Nl.extractContoursFromText(e,n,r,i,a,Ii._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return Nl.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:Ii._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=Ii.getDefaultDrawingOptions():(this._drawingOptions=Ii._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,a=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(a),e?(a.paths={lines:n,points:r},a.uuid=this.#n,a.isCopy=!0):a.lines=n,this.#t&&(a.accessibilityData={type:"Figure",alt:this.#t}),a}static deserializeDraw(e,n,r,i,a,o){return o.areContours?x1.deserialize(e,n,r,i,a,o):af.deserialize(e,n,r,i,a,o)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class joe extends Ce{#e=null;#t=null;#r=null;#n=null;#s=null;#a="";#i=null;#o=!1;#c=null;#l=!1;#f=!1;static _type="stamp";static _editorType=Ie.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){Ce.initialize(e,n)}static isHandlingMimeForPasting(e){return d1.includes(e)}static paste(e,n){n.pasteEditor({mode:Ie.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#p()}#h(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:o}=e||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:i,width:a,height:o,channels:i.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),n&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#h());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#h());return}if(this.#s){const r=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=d1.join(",");const n=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#s||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},e)}#p(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*i,r=this.height*a;else if(n>o*i||r>o*a){const u=Math.min(o*i/n,o*a/r);n*=u,r*=u}this._uiManager.enableWaiting(!1);const c=this.#i=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=n/i,this.height=r/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:a}=this.#e,o=new Xi;let c=this.#e,u=i,f=a,h=null;if(n){if(i>n||a>n){const N=Math.min(n/i,n/a);u=Math.floor(i*N),f=Math.floor(a*N)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),y=h.height=Math.ceil(f*o.sy);this.#l||(c=this.#u(v,y));const w=h.getContext("2d");w.filter=this._uiManager.hcmFilter;let x="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":Yae.isDarkMode&&(x="#8f8f9d",S="#42414d");const _=15,C=_*o.sx,j=_*o.sy,T=new OffscreenCanvas(C*2,j*2),k=T.getContext("2d");k.fillStyle=x,k.fillRect(0,0,C*2,j*2),k.fillStyle=S,k.fillRect(0,0,C,j),k.fillRect(C,j,C,j),w.fillStyle=w.createPattern(T,"repeat"),w.fillRect(0,0,v,y),w.drawImage(c,0,0,c.width,c.height,0,0,v,y)}let m=null;if(r){let v,y;if(o.symmetric&&c.width<e&&c.height<e)v=c.width,y=c.height;else if(c=this.#e,i>e||a>e){const S=Math.min(e/i,e/a);v=Math.floor(i*S),y=Math.floor(a*S),this.#l||(c=this.#u(v,y))}const x=new OffscreenCanvas(v,y).getContext("2d",{willReadFrequently:!0});x.drawImage(c,0,0,c.width,c.height,0,0,v,y),m={width:v,height:y,data:x.getImageData(0,0,v,y).data}}return{canvas:h,width:u,height:f,imageData:m}}#u(e,n){const{width:r,height:i}=this.#e;let a=r,o=i,c=this.#e;for(;a>2*e||o>2*n;){const u=a,f=o;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(c,0,0,u,f,0,0,a,o),c=h.transferToImageBitmap()}return c}#m(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,a=new Xi,o=Math.ceil(r*e*a.sx),c=Math.ceil(i*n*a.sy),u=this.#i;if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const f=this.#l?this.#e:this.#u(o,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(f,0,0,f.width,f.height,0,0,o,c)}#v(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*rc.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*rc.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,a);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,a),o.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,a=!1;if(e instanceof E5){const{data:{rect:x,rotation:S,id:_,structParent:C,popupRef:j,richText:T,contentsObj:k,creationDate:N,modificationDate:P},container:L,parent:{page:{pageNumber:B}},canvas:H}=e;let z,$;H?(delete e.canvas,{id:z,bitmap:$}=r.imageManager.getFromCanvas(L.id,H),H.remove()):(a=!0,e._hasNoCanvas=!0);const ne=(await n._structTree.getAriaAttributes(`${Dl}${_}`))?.get("aria-label")||"";i=e={annotationType:Ie.STAMP,bitmapId:z,bitmap:$,pageIndex:B-1,rect:x.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:ne},isSvg:!1,structParent:C,popupRef:j,richText:T,comment:k?.str||null,creationDate:N,modificationDate:P}}const o=await super.deserialize(e,n,r),{rect:c,bitmap:u,bitmapUrl:f,bitmapId:h,isSvg:m,accessibilityData:v}=e;a?(r.addMissingCanvas(e.id,o),o.#o=!0):h&&r.imageManager.isValidId(h)?(o.#t=h,u&&(o.#e=u)):o.#n=f,o.#l=m;const[y,w]=o.pageDimensions;return o.width=(c[2]-c[0])/y,o.height=(c[3]-c[1])/w,v&&(o.altTextData=v),o._initialData=i,e.comment&&o.setCommentData(e),o.#f=!!i,o}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#v(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=this.#b(r);return c.isSame?null:(c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||=new Map;const o=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:o,serialized:r}),r.bitmap=this.#v(!1);else if(this.#l){const c=n.stamps.get(this.#t);o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=this.#v(!1))}return r}#b(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,a=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class va{#e;#t=!1;#r=null;#n=null;#s=null;#a=new Map;#i=!1;#o=!1;#c=!1;#l=null;#f=null;#d=null;#h=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([Nn,nA,joe,tn,Ii].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:o,drawLayer:c,textLayer:u,viewport:f,l10n:h}){const m=[...va.#m.values()];if(!va._initialized){va._initialized=!0;for(const v of m)v.initialize(h,e)}e.registerEditorTypes(m),this.#u=e,this.pageIndex=n,this.div=r,this.#e=a,this.#r=o,this.viewport=f,this.#d=u,this.drawLayer=c,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ie.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#w(),e){case Ie.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ie.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ie.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Ie.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of va.#m.values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#v(){return this.#a.size!==0?this.#a.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#v)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#u.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=this.#r;if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),this.#u.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:u,timeStamp:f}=a,h=this.#p;if(f-h>500){this.#p=f;return}this.#p=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const v=document.elementsFromPoint(c,u);if(m.toggle("getElements",!1),!this.div.contains(v[0]))return;let y;const w=new RegExp(`^${bd}[0-9]+$`);for(const S of v)if(w.test(S.id)){y=S.id;break}if(!y)return;const x=this.#a.get(y);x?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),x.dblclick(a))},{signal:i,capture:!0})}const e=this.#r,n=[];if(e){const i=new Map,a=new Map;for(const c of this.#v){if(c.disableEditing(),!c.annotationElementId){n.push(c);continue}if(c.serialize()!==null){i.set(c.annotationElementId,c);continue}else a.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const o=e.getEditableAnnotations();for(const c of o){const{id:u}=c.data;if(this.#u.isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let f=a.get(u);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=i.get(u),f&&(this.#u.addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of va.#m.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(n),this.#o=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#h){this.#h=new AbortController;const e=this.#u.combinedSignal(this.#h);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=xn.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),tn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:n}=e;n&&this.#u.isDeletedAnnotationElement(n)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),Ce.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of this.#a.values())if(n.uid===e)return n;return null}getNextId(){return this.#u.getId()}get#y(){return va.#m.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#_(e){const n=this.#y;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#A(),a=this.getNextId(),o=this.#_({parent:this,id:a,x:r,y:i,uiManager:this.#u,isCentered:!0,...n});o&&this.add(o)}async deserialize(e){return await va.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=this.#_({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:n,...r});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,a=Math.max(0,e),o=Math.max(0,n),c=Math.min(window.innerWidth,e+r),u=Math.min(window.innerHeight,n+i),f=(a+c)/2-e,h=(o+u)/2-n,[m,v]=this.viewport.rotation%180===0?[f,h]:[h,f];return{offsetX:m,offsetY:v}}addNewEditor(e={}){this.createAndAddNewEditor(this.#A(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:n}=xn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#i||(this.#i=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#u.getMode();if(r===Ie.STAMP||r===Ie.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Ie.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:n}=xn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#i=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const r=this.#u.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#f=null,this.commitOrRemove())},{signal:n}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#f=n);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#y.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#u.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#u.removeLayer(this)}#w(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,jo(this.div,e);for(const n of this.#u.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#w();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,jo(this.div,{rotation:r}),n!==r)for(const i of this.#a.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#u.viewParameters.realScale}}class Bn{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return Le(this,"_svgFactory",new vp)}static#s(e,[n,r,i,a]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*n}%`,o.width=`${100*i}%`,o.height=`${100*a}%`}#a(){const e=Bn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,n){const r=Bn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=Bn._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i}#o(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=Bn.#n++,a=this.#a(),o=Bn._svgFactory.createElement("defs");a.append(o);const c=Bn._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,c);const f=r?this.#i(o,u):null,h=Bn._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${u}`),this.updateProperties(a,e),this.#t.set(i,a),{id:i,clipPathId:`url(#${f})`}}drawOutline(e,n){const r=Bn.#n++,i=this.#a(),a=Bn._svgFactory.createElement("defs");i.append(a);const o=Bn._svgFactory.createElement("path");a.append(o);const c=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(n){const m=Bn._svgFactory.createElement("mask");a.append(m),u=`mask_p${this.pageIndex}_${r}`,m.setAttribute("id",u),m.setAttribute("maskUnits","objectBoundingBox");const v=Bn._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const y=Bn._svgFactory.createElement("use");m.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=Bn._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${c}`),u&&f.setAttribute("mask",`url(#${u})`);const h=f.cloneNode();return i.append(h),f.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:a,path:o}=n,c=typeof e=="number"?this.#t.get(e):e;if(c){if(r&&this.#o(c,r),i&&Bn.#s(c,i),a){const{classList:u}=c;for(const[f,h]of Object.entries(a))u.toggle(f,h)}if(o){const f=c.firstElementChild.firstElementChild;this.#o(f,o)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:y1};globalThis.pdfjsLib={AbortException:js,AnnotationEditorLayer:va,AnnotationEditorParamsType:We,AnnotationEditorType:Ie,AnnotationEditorUIManager:ks,AnnotationLayer:tA,AnnotationMode:bs,AnnotationType:un,applyOpacity:Xae,build:roe,ColorPicker:ti,createValidAbsoluteUrl:VI,CSSConstants:Wae,DOMSVGFactory:vp,DrawLayer:Bn,FeatureTest:xn,fetchData:Jd,findContrastColor:Qae,getDocument:QS,getFilenameFromUrl:Hae,getPdfFilenameFromUrl:qae,getRGB:tf,getUuid:XI,getXfaPageViewport:Kae,GlobalWorkerOptions:go,ImageKind:lm,InvalidPDFException:c1,isDataScheme:yg,isPdfFile:qS,isValidExplicitDest:lse,MathClamp:tr,noContextMenu:oi,normalizeUnicode:Fae,OPS:xd,OutputScale:Xi,PasswordResponses:Oae,PDFDataRangeTransport:g5,PDFDateString:u1,PDFWorker:Sd,PermissionFlag:Tae,PixelsPerInch:rc,RenderingCancelledException:HS,renderRichText:JI,ResponseException:pp,setLayerDimensions:jo,shadow:Le,SignatureExtractor:Nl,stopEvent:Wt,SupportedImageMimeTypes:d1,TextLayer:Tr,TouchManager:bg,updateUrlHash:YI,Util:pe,VerbosityLevel:pg,version:b5,XfaLayer:ZI};var pP;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(pP||(pP={}));var gP;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(gP||(gP={}));var vP;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(vP||(vP={}));const yP=["user","model","function","system"];var bP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(bP||(bP={}));var xP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(xP||(xP={}));var wP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(wP||(wP={}));var SP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(SP||(SP={}));var Bu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Bu||(Bu={}));var AP;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(AP||(AP={}));var EP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(EP||(EP={}));var _P;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_P||(_P={}));class Vn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class El extends Vn{constructor(e,n){super(e),this.response=n}}class j5 extends Vn{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class As extends Vn{}class k5 extends Vn{}const koe="https://generativelanguage.googleapis.com",Noe="v1beta",Toe="0.24.1",Ooe="genai-js";var No;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(No||(No={}));class Poe{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Noe;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||koe}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function Moe(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${Ooe}/${Toe}`),e.join(" ")}async function Doe(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Moe(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new As(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new As(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new As(`Header name ${i} can only be set using the apiClient field`);n.append(i,a)}}return n}async function Roe(t,e,n,r,i,a){const o=new Poe(t,e,n,r,a);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Boe(a)),{method:"POST",headers:await Doe(o),body:i})}}async function sf(t,e,n,r,i,a={},o=fetch){const{url:c,fetchOptions:u}=await Roe(t,e,n,r,i,a);return Loe(c,u,o)}async function Loe(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){Ioe(i,t)}return r.ok||await zoe(r,t),r}function Ioe(t,e){let n=t;throw n.name==="AbortError"?(n=new k5(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof j5||t instanceof As||(n=new Vn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function zoe(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new j5(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Boe(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function aA(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),dm(t.candidates[0]))throw new El(`${vs(t)}`,t);return Foe(t)}else if(t.promptFeedback)throw new El(`Text not available. ${vs(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),dm(t.candidates[0]))throw new El(`${vs(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),CP(t)[0]}else if(t.promptFeedback)throw new El(`Function call not available. ${vs(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),dm(t.candidates[0]))throw new El(`${vs(t)}`,t);return CP(t)}else if(t.promptFeedback)throw new El(`Function call not available. ${vs(t)}`,t)},t}function Foe(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&a.push(o.text),o.executableCode&&a.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&a.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function CP(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&a.push(o.functionCall);if(a.length>0)return a}const Uoe=[Bu.RECITATION,Bu.SAFETY,Bu.LANGUAGE];function dm(t){return!!t.finishReason&&Uoe.includes(t.finishReason)}function vs(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const a=t.candidates[0];dm(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function Ed(t){return this instanceof Ed?(this.v=t,this):new Ed(t)}function $oe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(v){r[v]&&(i[v]=function(y){return new Promise(function(w,x){a.push([v,y,w,x])>1||c(v,y)})})}function c(v,y){try{u(r[v](y))}catch(w){m(a[0][3],w)}}function u(v){v.value instanceof Ed?Promise.resolve(v.value.v).then(f,h):m(a[0][2],v)}function f(v){c("next",v)}function h(v){c("throw",v)}function m(v,y){v(y),a.shift(),a.length&&c(a[0][0],a[0][1])}}const jP=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Hoe(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Koe(e),[r,i]=n.tee();return{stream:Goe(r),response:qoe(i)}}async function qoe(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return aA(Voe(e));e.push(i)}}function Goe(t){return $oe(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Ed(n.read());if(i)break;yield yield Ed(aA(r))}})}function Koe(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:o,done:c})=>{if(c){if(i.trim()){r.error(new Vn("Failed to parse stream"));return}r.close();return}i+=o;let u=i.match(jP),f;for(;u;){try{f=JSON.parse(u[1])}catch{r.error(new Vn(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(f),i=i.substring(u[0].length),u=i.match(jP)}return a()}).catch(o=>{let c=o;throw c.stack=o.stack,c.name==="AbortError"?c=new k5("Request aborted when reading from the stream"):c=new Vn("Error reading from the stream"),c})}}})}function Voe(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const a of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=a.citationMetadata,n.candidates[i].groundingMetadata=a.groundingMetadata,n.candidates[i].finishReason=a.finishReason,n.candidates[i].finishMessage=a.finishMessage,n.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){n.candidates[i].content||(n.candidates[i].content={role:a.content.role||"user",parts:[]});const o={};for(const c of a.content.parts)c.text&&(o.text=c.text),c.functionCall&&(o.functionCall=c.functionCall),c.executableCode&&(o.executableCode=c.executableCode),c.codeExecutionResult&&(o.codeExecutionResult=c.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[i].content.parts.push(o)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function N5(t,e,n,r){const i=await sf(e,No.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Hoe(i)}async function T5(t,e,n,r){const a=await(await sf(e,No.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:aA(a)}}function O5(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function _d(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Yoe(e)}function Yoe(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new Vn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Vn("No content is provided for sending chat message.");return r?e:n}function Woe(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new As("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const a=_d(t);r.contents=[a]}return{generateContentRequest:r}}function kP(t){let e;return t.contents?e=t:e={contents:[_d(t)]},t.systemInstruction&&(e.systemInstruction=O5(t.systemInstruction)),e}function Xoe(t){return typeof t=="string"||Array.isArray(t)?{content:_d(t)}:t}const NP=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Qoe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Zoe(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new Vn(`First content should be with role 'user', got ${r}`);if(!yP.includes(r))throw new Vn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(yP)}`);if(!Array.isArray(i))throw new Vn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Vn("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const c of i)for(const u of NP)u in c&&(a[u]+=1);const o=Qoe[r];for(const c of NP)if(!o.includes(c)&&a[c]>0)throw new Vn(`Content with role '${r}' can't contain '${c}' part`);e=!0}}function TP(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const OP="SILENT_ERROR";class Joe{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(Zoe(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,a,o,c,u;await this._sendPromise;const f=_d(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,f]},m=Object.assign(Object.assign({},this._requestOptions),n);let v;return this._sendPromise=this._sendPromise.then(()=>T5(this._apiKey,this.model,h,m)).then(y=>{var w;if(TP(y.response)){this._history.push(f);const x=Object.assign({parts:[],role:"model"},(w=y.response.candidates)===null||w===void 0?void 0:w[0].content);this._history.push(x)}else{const x=vs(y.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}v=y}).catch(y=>{throw this._sendPromise=Promise.resolve(),y}),await this._sendPromise,v}async sendMessageStream(e,n={}){var r,i,a,o,c,u;await this._sendPromise;const f=_d(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,f]},m=Object.assign(Object.assign({},this._requestOptions),n),v=N5(this._apiKey,this.model,h,m);return this._sendPromise=this._sendPromise.then(()=>v).catch(y=>{throw new Error(OP)}).then(y=>y.response).then(y=>{if(TP(y)){this._history.push(f);const w=Object.assign({},y.candidates[0].content);w.role||(w.role="model"),this._history.push(w)}else{const w=vs(y);w&&console.warn(`sendMessageStream() was unsuccessful. ${w}. Inspect response object for details.`)}}).catch(y=>{y.message!==OP&&console.error(y)}),v}}async function ele(t,e,n,r){return(await sf(e,No.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function tle(t,e,n,r){return(await sf(e,No.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function nle(t,e,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await sf(e,No.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}class PP{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=O5(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=kP(e),a=Object.assign(Object.assign({},this._requestOptions),n);return T5(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(e,n={}){var r;const i=kP(e),a=Object.assign(Object.assign({},this._requestOptions),n);return N5(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(e){var n;return new Joe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Woe(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return ele(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=Xoe(e),i=Object.assign(Object.assign({},this._requestOptions),n);return tle(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return nle(this.apiKey,this.model,e,r)}}class rle{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Vn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new PP(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new As("Cached content must contain a `name` field.");if(!e.model)throw new As("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n?.[o]&&e[o]&&n?.[o]!==e[o]){if(o==="model"){const c=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(c===u)continue}throw new As(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const a=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new PP(this.apiKey,a,r)}}const sA=async(t,e,n=!1)=>{if(!e)throw new Error("API Anahtar eksik. Ltfen Ayarlar sayfasndan ekleyin.");const r=new rle(e),i=["gemini-2.0-flash","gemini-flash-latest","gemini-pro-latest","gemini-1.5-flash","gemini-1.5-pro","gemini-pro"];let a=null;for(const u of i)try{return console.log(`Attempting AI request with model: ${u}`),(await(await r.getGenerativeModel({model:u,generationConfig:{responseMimeType:n?"application/json":"text/plain"}}).generateContent(t)).response).text()}catch(f){if(console.warn(`${u} failed:`,f.message),a=f,f.message.includes("403")||f.message.includes("API key"))break}console.error("All models failed. Final Error:",a);let o="lem baarsz oldu.";const c=a?.message||"";throw c.includes("403")?o=" Yetkilendirme Hatas (403): Anahtar kontrol edin.":c.includes("404")?o=" Model Bulunamad (404): Bu anahtar mevcut modelleri desteklemiyor.":c.includes("429")?o=" Kota Ald (429): ok sk istek gnderdiniz.":c.includes("400")?o=" Geersiz stek (400).":c.includes("fetch failed")&&(o=" Balant Hatas."),new Error(`${o} (${c})`)},P5=async(t,e)=>{const n=`Sen uzman bir Di Hekimlii Eitmenisin (DUS Hazrlk).
Aadaki akademik metni analiz et ve u formatta Trke kt ver:

DERS: [Ders Ad]
KONU: [Konu Bal]
---
 KLNK PULARI & NEML NOKTALAR:
- Madde 1
- Madde 2
...
 DUS N KRTK BLGLER:
- [Snav ipucu]
...
 KISA ZET:
[Paragraf]

Metin:
${t}`;return sA(n,e,!1)},ile=async(t,e,n=10)=>{const r=`Sen bir DUS (Di Hekimlii Uzmanlk Snav) kousun.
    Aadaki metinden ${n} adet "Hap Bilgi" (Flashcard) kar.
    
    kt JSON formatnda olmal ve u array yapsnda olmal:
    [
      { "category": "Kategori Ad", "content": "Bilgi ierii..." }
    ]

    Kurallar:
    1. Sadece JSON dndr. Markdown blou kullanma ('\`\`\`json' vb. yazma).
    2. Bilgiler ksa, net ve snav odakl olsun.
    3. Metin: "${t.slice(0,15e3)}"`,i=await sA(r,e,!0);try{return JSON.parse(i)}catch(a){throw console.error("JSON Parse Error:",a),new Error("AI yant okunamad (JSON format hatas).")}},ale=async(t,e,n="Zor, Klinik Vaka",r=10)=>{const i=`Sen bir DUS Soru Hazrlama Komisyonu yesisin.
    Aadaki metne dayanarak, "${n}" seviyesinde ${r} adet oktan Semeli Soru hazrla.
    
    kt JSON formatnda olmal ve u array yapsnda olmal:
    [
      { 
        "question": "Soru metni...", 
        "options": ["A) Seenek 1", "B) Seenek 2", "C) Seenek 3", "D) Seenek 4", "E) Seenek 5"], 
        "answer": "A) Seenek 1", 
        "explanation": "Detayl aklama..." 
      }
    ]

Metin:
${t}`,a=await sA(i,e,!0);try{return JSON.parse(a)}catch(o){throw console.error("JSON Parse Error:",o),new Error("AI yant okunamad (JSON format hatas).")}};function M5({isOpen:t,onClose:e,onSave:n,folders:r,defaultCategory:i}){const[a,o]=A.useState(0),[c,u]=A.useState(null),[f,h]=A.useState(""),[m,v]=A.useState(i||"Finans"),[y,w]=A.useState(null),[x,S]=A.useState(null),[_,C]=A.useState(""),[j,T]=A.useState(null),k=["Finans","Ekonomi","Borsa","Kripto","Altn","Dviz","Rapor","Dier"],N=[{id:0,label:" Temel Bilgiler",icon:co},{id:1,label:" Medya",icon:vm},{id:2,label:" Notlar",icon:co}],P=Q=>{const ie=Q.target.files[0];if(ie){if(ie.size>50*1024*1024){T("PDF dosyas ok byk! Maksimum 50MB.");return}T(null),u(ie),f||h(ie.name.replace(".pdf",""))}},L=Q=>{const ie=Q.target.files[0];if(ie&&ie.size>100*1024*1024){T("Ses dosyas ok byk! Maksimum 100MB.");return}w(ie)},B=Q=>{const ie=Q.target.files[0];if(ie&&ie.size>500*1024*1024){T("Video dosyas ok byk! Maksimum 500MB.");return}S(ie)},H=()=>{if(!c){T("Ltfen bir PDF dosyas sein.");return}const Q=f.trim()||c.name.replace(".pdf","");n({pdfFile:c,title:Q,category:m,audioFile:y,videoFile:x,manualSummary:_}),z()},z=()=>{u(null),h(""),v(i||"Finans"),w(null),S(null),C(""),o(0),T(null)},$=()=>{z(),e()};if(!t)return null;const ne=Q=>Q?`${(Q/(1024*1024)).toFixed(2)} MB`:"";return p.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-card border border-border rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col shadow-2xl relative",children:[j&&p.jsxs("div",{className:"absolute top-4 left-4 right-4 bg-red-500/10 border border-red-500 text-red-500 p-3 rounded-xl flex items-center gap-2 animate-in slide-in-from-top-2 z-10",children:[p.jsx(cM,{size:20}),p.jsx("span",{className:"text-sm font-bold",children:j}),p.jsx("button",{onClick:()=>T(null),className:"ml-auto hover:bg-red-500/10 p-1 rounded-lg",children:p.jsx(bn,{size:16})})]}),p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Yeni Kaynak Ekle"}),p.jsx("button",{onClick:$,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:p.jsx(bn,{size:20})})]}),p.jsx("div",{className:"flex border-b border-border",children:N.map(Q=>p.jsx("button",{onClick:()=>o(Q.id),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${a===Q.id?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"}`,children:Q.label},Q.id))}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a===0&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium mb-2",children:["PDF Dosyas ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"file",accept:".pdf",onChange:P,className:"hidden",id:"pdf-upload"}),p.jsxs("label",{htmlFor:"pdf-upload",className:"flex items-center gap-2 px-4 py-4 border-2 border-dashed border-border rounded-xl cursor-pointer hover:border-primary/50 hover:bg-secondary/50 transition-all group",children:[p.jsx("div",{className:"p-2 bg-secondary rounded-lg group-hover:bg-primary/20 transition-colors",children:p.jsx(wp,{size:24,className:"group-hover:text-primary"})}),p.jsx("div",{className:"flex-1",children:c?p.jsxs("p",{className:"font-bold text-sm text-white",children:[c.name," ",p.jsx("span",{className:"font-normal text-muted-foreground ml-2",children:ne(c.size)})]}):p.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"PDF dosyan buraya srkle veya se"})})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2 ml-1",children:"KATEGOR"}),p.jsx("select",{value:m,onChange:Q=>v(Q.target.value),className:"w-full px-4 py-3 bg-secondary border border-border rounded-xl focus:ring-2 focus:ring-primary focus:outline-none appearance-none font-bold",children:k.map(Q=>p.jsx("option",{value:Q,children:Q},Q))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2 ml-1",children:"BALIK (Opsiyonel)"}),p.jsx("input",{type:"text",value:f,onChange:Q=>h(Q.target.value),placeholder:c?c.name.replace(".pdf",""):"Dosya adn kullan",className:"w-full px-4 py-3 bg-secondary border border-border rounded-xl focus:ring-2 focus:ring-primary focus:outline-none placeholder:font-normal font-bold"})]})]})]}),a===1&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:" Ses Dosyas"}),p.jsx("input",{type:"file",accept:".mp3,.m4a",onChange:L,className:"hidden",id:"audio-upload"}),p.jsxs("label",{htmlFor:"audio-upload",className:"flex items-center gap-2 px-4 py-3 border border-border rounded-xl cursor-pointer hover:bg-secondary/50 transition-colors",children:[p.jsx(Jh,{size:20}),y?p.jsx("span",{className:"text-sm",children:y.name}):p.jsx("span",{className:"text-sm text-muted-foreground",children:"Ses dosyas ekle (Podcast vb.)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:" Video Dosyas"}),p.jsx("input",{type:"file",accept:".mp4",onChange:B,className:"hidden",id:"video-upload"}),p.jsxs("label",{htmlFor:"video-upload",className:"flex items-center gap-2 px-4 py-3 border border-border rounded-xl cursor-pointer hover:bg-secondary/50 transition-colors",children:[p.jsx(vm,{size:20}),x?p.jsx("span",{className:"text-sm",children:x.name}):p.jsx("span",{className:"text-sm text-muted-foreground",children:"Video dosyas ekle"})]})]})]}),a===2&&p.jsxs("div",{className:"space-y-4",children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:" Manuel Notlar"}),p.jsx("textarea",{value:_,onChange:Q=>C(Q.target.value),placeholder:"Ek notlarn buraya alabilirsin...",rows:8,className:"w-full px-4 py-3 bg-secondary border border-border rounded-xl focus:ring-2 focus:ring-primary focus:outline-none resize-none"})]})]}),p.jsx("div",{className:"flex items-center justify-between p-6 border-t border-border bg-muted/20",children:p.jsxs("div",{className:"flex gap-2 w-full",children:[a>0&&p.jsx("button",{onClick:()=>o(a-1),className:"px-6 py-3 bg-secondary hover:bg-secondary/80 rounded-xl font-bold transition-colors",children:"Geri"}),a<2?p.jsx("button",{onClick:()=>o(a+1),className:"ml-auto px-6 py-3 bg-primary text-primary-foreground hover:bg-primary/90 rounded-xl font-bold transition-colors shadow-lg shadow-primary/20",children:"Devam Et"}):p.jsx("button",{onClick:H,className:"ml-auto w-full px-6 py-3 bg-gradient-to-r from-emerald-500 to-blue-600 hover:from-emerald-400 hover:to-blue-500 text-white rounded-xl font-bold transition-all shadow-xl shadow-blue-500/20",children:"Kaydet ve Analize Bala"})]})})]})})}try{go.workerSrc=new URL("/assets/pdf.worker.min-LyOxJPrg.mjs",import.meta.url).toString()}catch(t){console.error("PDF Worker initialization failed:",t)}function sle(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,a]=A.useState(null),[o,c]=A.useState(null),[u,f]=A.useState(0),[h,m]=A.useState(!1),[v,y]=A.useState(!1),[w,x]=A.useState(""),[S,_]=A.useState(!1),[C,j]=A.useState(""),[T,k]=A.useState(!1),[N,P]=A.useState(""),[L,B]=A.useState(10),[H,z]=A.useState(10),[$,ne]=A.useState([]),[Q,ie]=A.useState([]),[M,I]=A.useState(null),[G,R]=A.useState({}),oe=A.useRef(null),F=A.useRef(null);A.useEffect(()=>{V()},[]);const V=async()=>{const[ee,Ae]=await Promise.all([I1(),xM()]);e(ee||[]),r(Ae||[])},ce=ee=>{c(ee),f(0),P(ee.aiSummary||""),ne(ee.generatedFlashcards||[]),ie(ee.generatedQuizSets||[]),ee.generatedQuizSets?.length>0&&I(ee.generatedQuizSets[0].id)},ue=async ee=>{if(!o)return;const Ae={...o,...ee};await nm(Ae),c(Ae),await V()},ge=async ee=>{const Ae=await ee.arrayBuffer(),Pe=await QS({data:Ae}).promise;let Lt="";for(let Xn=1;Xn<=Pe.numPages;Xn++){const ji=(await(await Pe.getPage(Xn)).getTextContent()).items.map(Qi=>Qi.str).join(" ");Lt+=ji+`
`}return Lt},Ee=async ee=>{m(!1),y(!0),x("PDF ileniyor...");try{const Ae=await ge(ee.pdfFile);if(!Ae||Ae.trim().length<50)throw new Error("PDF bo veya okunamad.");x("Kaydediliyor...");const Pe={id:Date.now().toString(),folderId:i,title:ee.title,content:Ae,fileBlob:ee.pdfFile,category:ee.category,manualSummary:ee.manualSummary||"",audioFile:ee.audioFile||null,videoFile:ee.videoFile||null,generatedFlashcards:[],generatedQuizSets:[],createdAt:new Date().toISOString()};await nm(Pe),x(" Kaynak eklendi!"),await V()}catch(Ae){x(" Hata: "+Ae.message),alert("Hata: "+Ae.message)}finally{y(!1),setTimeout(()=>x(""),3e3)}},he=async ee=>{window.confirm("Bu kayna silmek istediinizden emin misiniz?")&&(await bM(ee),await V(),o?.id===ee&&c(null))},lt=()=>{j(""),_(!0)},te=async()=>{C.trim()&&(await J8(C.trim()),_(!1),await V())},Te=async ee=>{if(window.confirm("Klasr sil? (indeki kaynaklar Ana Klasr'e tanr)")){const Ae=t.filter(Pe=>Pe.folderId===ee);for(const Pe of Ae)await nm({...Pe,folderId:null});await eU(ee),await V(),i===ee&&a(null)}},Oe=async()=>{if(!o)return;const ee=localStorage.getItem("gemini_api_key");if(!ee){alert("Ltfen Ayarlar sayfasndan Google Gemini API anahtarnz girin.");return}k(!0);try{const Ae=await P5(o.content,ee);P(Ae),await ue({aiSummary:Ae})}catch(Ae){alert("zet oluturulamad: "+Ae.message)}finally{k(!1)}},de=async()=>{if(!o)return;const ee=localStorage.getItem("gemini_api_key");if(!ee){alert("Ltfen Ayarlar sayfasndan Google Gemini API anahtarnz girin.");return}k(!0);try{const Pe=(await ile(o.content,ee,L)).map(Xn=>({...Xn,id:Date.now().toString()+Math.random().toString().slice(2,8),isSaved:!1})),Lt=[...$,...Pe];ne(Lt),await ue({generatedFlashcards:Lt})}catch(Ae){alert("Hap bilgiler oluturulamad: "+Ae.message)}finally{k(!1)}},Nt=async()=>{if(!o)return;const ee=localStorage.getItem("gemini_api_key");if(!ee){alert("Ltfen Ayarlar sayfasndan Google Gemini API anahtarnz girin.");return}k(!0);try{const Pe=(await ale(o.content,ee,"Zor, Klinik Vaka",H)).map(_i=>({..._i,id:Date.now().toString()+Math.random().toString().slice(2,8),isSaved:!1})),Lt={id:Date.now(),timestamp:new Date,questions:Pe,name:`Test ${Q.length+1} (${Pe.length} Soru)`},Xn=[Lt,...Q];ie(Xn),I(Lt.id),await ue({generatedQuizSets:Xn})}catch(Ae){alert("Sorular oluturulamad: "+Ae.message)}finally{k(!1)}},Ue=async ee=>{try{ee.isSaved?await SM(ee.id):await Ru({id:ee.id,content:ee.content,category:ee.category,sourceId:o.id,folderId:null,isFavorite:!0,createdAt:new Date().toISOString()});const Ae=$.map(Pe=>Pe.id===ee.id?{...Pe,isSaved:!ee.isSaved}:Pe);ne(Ae),await ue({generatedFlashcards:Ae})}catch(Ae){console.error(Ae)}},rt=async ee=>{const Ae=$.filter(Pe=>Pe.id!==ee);ne(Ae),await ue({generatedFlashcards:Ae})},qt=async ee=>{try{console.log("Saving Question:",ee),(!ee.options||ee.options.length===0)&&console.warn("Warning: Saving question with no options!"),ee.isSaved?await _M(ee.id):await AM({id:ee.id,question:ee.question,options:ee.options,correctAnswer:ee.answer,explanation:ee.explanation,difficulty:"Zor",category:o.category||"Genel",sourceId:o.id,createdAt:new Date().toISOString()});const Ae=Q.map(Pe=>({...Pe,questions:Pe.questions.map(Lt=>Lt.id===ee.id?{...Lt,isSaved:!ee.isSaved}:Lt)}));ie(Ae),await ue({generatedQuizSets:Ae})}catch(Ae){console.error(Ae)}},or=async(ee,Ae)=>{if(!Ae)return;await ue(ee==="audio"?{audioFile:Ae}:{videoFile:Ae})},ui=i?t.filter(ee=>ee.folderId===i):t.filter(ee=>!ee.folderId),$a=n.find(ee=>ee.id===i),Ms=()=>{if(!o?.fileBlob)return p.jsx("div",{className:"text-center text-muted-foreground py-8",children:"PDF nizlemesi mevcut deil"});const ee=URL.createObjectURL(o.fileBlob);return p.jsx("iframe",{src:ee,className:"w-full h-full rounded-lg",title:"PDF Viewer"})},Ha=Q.find(ee=>ee.id===M);return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-400",children:" Ktphane"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"PDF kaynaklarn ynet, AI ile testler ve notlar olutur"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:lt,className:"px-4 py-2 bg-secondary hover:bg-secondary/80 rounded-lg flex items-center gap-2 font-medium",children:[p.jsx(mm,{size:18})," Klasr"]}),p.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg flex items-center gap-2 font-medium",children:[p.jsx(wp,{size:18})," Kaynak Ekle"]})]})]}),w&&p.jsx("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-lg text-sm",children:w}),S&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>_(!1),children:p.jsxs("div",{className:"bg-card w-full max-w-sm rounded-2xl p-6 shadow-2xl border border-border scale-100 animate-in zoom-in-95 duration-200",onClick:ee=>ee.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[p.jsx(mm,{className:"text-primary",size:24}),"Yeni Klasr Olutur"]}),p.jsx("button",{onClick:()=>_(!1),className:"p-1 hover:bg-secondary rounded-full",children:p.jsx(bn,{size:20})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2 text-muted-foreground",children:"Klasr Ad"}),p.jsx("input",{type:"text",value:C,onChange:ee=>j(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&te(),placeholder:"rn: Deneme Snavlar",className:"w-full px-4 py-3 bg-background border border-primary/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary shadow-sm text-lg",autoFocus:!0})]}),p.jsxs("div",{className:"flex gap-3 pt-2",children:[p.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-3 bg-secondary hover:bg-secondary/80 rounded-xl font-bold transition-all",children:"ptal"}),p.jsx("button",{onClick:te,className:"flex-1 py-3 bg-primary text-primary-foreground rounded-xl font-bold hover:bg-primary/90 shadow-lg shadow-primary/20 transition-all",children:"Olutur"})]})]})]})}),p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsxs("button",{onClick:()=>a(null),className:`flex items-center gap-1 px-2 py-1 rounded hover:bg-secondary ${i?"text-muted-foreground":"text-primary font-medium"}`,children:[p.jsx(Jb,{size:14})," Ana Klasr"]}),$a&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-muted-foreground",children:"/"}),p.jsx("span",{className:"text-primary font-medium",children:$a.name})]})]}),n.length>0&&!i&&p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:n.map(ee=>p.jsxs("div",{className:"p-4 bg-card border border-border rounded-xl hover:border-primary transition-colors cursor-pointer group relative",onClick:()=>a(ee.id),children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Zb,{className:"text-primary",size:20}),p.jsx("span",{className:"font-medium truncate",children:ee.name})]}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t.filter(Ae=>Ae.folderId===ee.id).length," kaynak"]}),p.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),Te(ee.id)},className:"absolute top-2 right-2 p-1 opacity-0 group-hover:opacity-100 hover:bg-destructive/10 rounded transition-opacity",children:p.jsx(On,{size:14,className:"text-destructive"})})]},ee.id))}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ui.map(ee=>p.jsxs("div",{className:"p-4 bg-card border border-border rounded-xl hover:border-primary transition-colors cursor-pointer group relative",onClick:()=>ce(ee),children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(co,{className:"text-primary flex-shrink-0",size:24}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"font-medium truncate",children:ee.title}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ee.category||"Kategori yok"})]})]}),p.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),he(ee.id)},className:"absolute top-2 right-2 p-1 opacity-0 group-hover:opacity-100 hover:bg-destructive/10 rounded transition-opacity",children:p.jsx(On,{size:14,className:"text-destructive"})})]},ee.id))}),ui.length===0&&p.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[p.jsx(Kl,{size:48,className:"mx-auto mb-3 opacity-50"}),p.jsx("p",{children:"Henz kaynak yok. Yeni kaynak ekleyin!"})]}),o&&p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center p-4 z-50 animate-in fade-in",onClick:()=>c(null),children:p.jsxs("div",{className:"bg-card border border-border rounded-2xl max-w-7xl w-full h-[90vh] flex flex-col shadow-2xl overflow-hidden",onClick:ee=>ee.stopPropagation(),children:[p.jsxs("div",{className:"p-6 border-b border-border flex justify-between items-center bg-muted/20",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold",children:o.title}),p.jsx("p",{className:"text-sm text-muted-foreground",children:o.category})]}),p.jsx("button",{onClick:()=>c(null),className:"px-4 py-2 hover:bg-destructive/10 text-destructive rounded-lg",children:"Kapat"})]}),p.jsx("div",{className:"flex border-b border-border bg-card overflow-x-auto",children:[{id:0,label:" PDF",icon:co},{id:1,label:" zet",icon:uo},{id:2,label:" Kartlar",icon:$i},{id:3,label:" Testler",icon:m8},{id:4,label:" Medya",icon:Jh}].map(ee=>p.jsx("button",{onClick:()=>f(ee.id),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors border-b-2 whitespace-nowrap ${u===ee.id?"border-primary text-primary bg-primary/5":"border-transparent text-muted-foreground hover:text-foreground"}`,children:ee.label},ee.id))}),p.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[u===0&&p.jsx("div",{className:"h-full p-4 bg-zinc-900/50",children:Ms()}),u===1&&p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsx("div",{className:"p-4 border-b border-border bg-muted/20 flex gap-4",children:p.jsxs("button",{onClick:Oe,disabled:T,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[p.jsx(uo,{size:16})," ",N?"Yeniden zetle":"zet kar"]})}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:N?p.jsxs("div",{className:"p-6 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:[p.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2 text-blue-400",children:[p.jsx(co,{size:20})," AI zet"]}),p.jsx("div",{className:"prose prose-invert max-w-none text-sm whitespace-pre-wrap leading-relaxed opacity-90",children:N})]}):p.jsxs("div",{className:"text-center py-20 text-muted-foreground opacity-50",children:[p.jsx(uo,{size:48,className:"mx-auto mb-3"}),p.jsx("p",{children:"Bu kaynan zetini karmak iin butona tkla."})]})})]}),u===2&&p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"p-4 border-b border-border bg-muted/20 flex gap-4 items-center",children:[p.jsxs("div",{className:"flex items-center gap-2 bg-background border border-border rounded-lg px-3 py-1.5 has-[:focus]:border-primary transition-colors",children:[p.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"Adet:"}),p.jsx("input",{type:"number",min:"1",max:"50",value:L,onChange:ee=>B(parseInt(ee.target.value)||10),className:"w-12 bg-transparent text-sm font-bold text-center focus:outline-none"})]}),p.jsxs("button",{onClick:de,disabled:T,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 flex items-center gap-2",children:[p.jsx($i,{size:16})," Hap Bilgi ret"]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:$.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(ee=>p.jsxs("div",{className:"p-4 bg-emerald-500/5 border border-emerald-500/20 rounded-xl relative group hover:bg-emerald-500/10 transition-colors animate-in fade-in zoom-in-95",children:[p.jsxs("div",{className:"pr-8",children:[p.jsx("span",{className:"text-xs font-bold text-emerald-500 mb-2 block",children:ee.category}),p.jsx("p",{className:"text-sm font-medium leading-relaxed",children:ee.content})]}),p.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[p.jsx("button",{onClick:()=>Ue(ee),className:"p-1.5 hover:bg-background rounded-full transition-colors",children:p.jsx(zl,{size:16,className:ee.isSaved?"fill-yellow-400 text-yellow-400":"text-muted-foreground"})}),p.jsx("button",{onClick:()=>rt(ee.id),className:"p-1.5 hover:bg-destructive/20 rounded-full transition-colors text-destructive opacity-0 group-hover:opacity-100",children:p.jsx(On,{size:16})})]})]},ee.id))}):p.jsxs("div",{className:"text-center py-20 text-muted-foreground opacity-50",children:[p.jsx($i,{size:48,className:"mx-auto mb-3"}),p.jsx("p",{children:"Henz hap bilgi retilmedi. Adeti se ve ret!"})]})})]}),u===3&&p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"p-4 border-b border-border bg-muted/20 flex gap-4 items-center",children:[p.jsxs("div",{className:"flex items-center gap-2 bg-background border border-border rounded-lg px-3 py-1.5 has-[:focus]:border-primary transition-colors",children:[p.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"Soru Says:"}),p.jsx("input",{type:"number",min:"1",max:"50",value:H,onChange:ee=>z(parseInt(ee.target.value)||10),className:"w-12 bg-transparent text-sm font-bold text-center focus:outline-none"})]}),p.jsxs("button",{onClick:Nt,disabled:T,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:[p.jsx(ir,{size:16})," Soru ret"]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Q.length>0?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 border-b border-border/50",children:Q.map(ee=>p.jsx("button",{onClick:()=>I(ee.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${M===ee.id?"bg-purple-600 text-white shadow-lg shadow-purple-900/20":"bg-secondary hover:bg-secondary/80 text-muted-foreground"}`,children:ee.name},ee.id))}),Ha&&p.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2",children:Ha.questions.map((ee,Ae)=>p.jsxs("div",{className:"p-5 bg-card border border-border rounded-xl relative",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("span",{className:"font-mono text-xs text-muted-foreground bg-secondary px-2 py-1 rounded",children:["Soru ",Ae+1]}),p.jsx("button",{onClick:()=>qt(ee),className:"p-2 hover:bg-secondary rounded-full transition-colors",title:"Havuza Kaydet",children:p.jsx(zl,{size:18,className:ee.isSaved?"fill-yellow-400 text-yellow-400":"text-muted-foreground"})})]}),p.jsx("p",{className:"font-medium text-lg mb-4 leading-relaxed",children:ee.question}),p.jsx("div",{className:"grid gap-2",children:ee.options&&ee.options.length>0?ee.options.map((Pe,Lt)=>{const Xn=G[ee.id]===Pe,_i=Pe===ee.answer,Ci=!!G[ee.id];let ji="w-full text-left p-3 rounded-lg border transition-all hover:bg-secondary/50 relative text-sm";return Ci&&(_i?ji="w-full text-left p-3 rounded-lg bg-green-500/10 text-green-500 border-green-500/50 font-medium":Xn?ji="w-full text-left p-3 rounded-lg bg-red-500/10 text-red-500 border-red-500/50":ji="w-full text-left p-3 rounded-lg border-transparent opacity-50"),p.jsx("button",{onClick:()=>R(Qi=>({...Qi,[ee.id]:Pe})),disabled:Ci,className:ji,children:Pe},Lt)}):p.jsx("div",{className:"p-3 text-destructive bg-destructive/10 rounded",children:" klar yklenemedi."})}),G[ee.id]&&p.jsxs("div",{className:"mt-4 p-4 bg-secondary/30 rounded-lg text-sm border-l-4 border-primary animate-in fade-in",children:[p.jsx("div",{className:"font-bold text-primary mb-1",children:"Aklama"}),p.jsx("div",{className:"text-muted-foreground leading-relaxed",children:ee.explanation})]})]},ee.id))})]}):p.jsxs("div",{className:"text-center py-20 text-muted-foreground opacity-50",children:[p.jsx($i,{size:48,className:"mx-auto mb-3"}),p.jsx("p",{children:"Henz test oluturulmad. Soru saysn se ve ret!"})]})})]}),u===4&&p.jsx("div",{className:"h-full p-6 overflow-y-auto",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"p-6 bg-card border border-border rounded-xl",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx(Jh,{className:"text-pink-500"})," Ses Kayd"]}),o.audioFile?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-secondary p-4 rounded-lg flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium truncate",children:o.audioFile.name}),p.jsx("button",{onClick:()=>ue({audioFile:null}),className:"text-destructive hover:bg-destructive/10 p-2 rounded",children:p.jsx(On,{size:16})})]}),p.jsx("audio",{controls:!0,className:"w-full",src:URL.createObjectURL(o.audioFile)})]}):p.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-border rounded-lg hover:border-primary transition-colors cursor-pointer",onClick:()=>oe.current.click(),children:[p.jsx(Jh,{size:32,className:"mx-auto mb-2 text-muted-foreground"}),p.jsx("p",{className:"text-sm font-medium",children:"Ses Dosyas Ekle"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:".mp3, .wav"})]}),p.jsx("input",{type:"file",ref:oe,className:"hidden",accept:"audio/*",onChange:ee=>or("audio",ee.target.files[0])})]}),p.jsxs("div",{className:"p-6 bg-card border border-border rounded-xl",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx(vm,{className:"text-blue-500"})," Video"]}),o.videoFile?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-secondary p-4 rounded-lg flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium truncate",children:o.videoFile.name}),p.jsx("button",{onClick:()=>ue({videoFile:null}),className:"text-destructive hover:bg-destructive/10 p-2 rounded",children:p.jsx(On,{size:16})})]}),p.jsx("video",{controls:!0,className:"w-full rounded-lg",src:URL.createObjectURL(o.videoFile)})]}):p.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-border rounded-lg hover:border-primary transition-colors cursor-pointer",onClick:()=>F.current.click(),children:[p.jsx(vm,{size:32,className:"mx-auto mb-2 text-muted-foreground"}),p.jsx("p",{className:"text-sm font-medium",children:"Video Dosyas Ekle"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:".mp4, .mov"})]}),p.jsx("input",{type:"file",ref:F,className:"hidden",accept:"video/*",onChange:ee=>or("video",ee.target.files[0])})]})]})})]})]})}),p.jsx(M5,{isOpen:h,onClose:()=>m(!1),onSave:Ee,folders:n})]})}const MP=["Anatomi","Fizyoloji","Biyokimya","Mikrobiyoloji","Patoloji","Farmakoloji","Protetik Di Tedavisi","Restoratif Di Tedavisi","Endodonti","Periodontoloji","Ortodonti","Pedodonti","Az Di ve ene Cerrahisi","Az Di ve ene Radyolojisi","Genel"];function ole(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,a]=A.useState("Tm"),[o,c]=A.useState(null),[u,f]=A.useState(!1),[h,m]=A.useState(!1),[v,y]=A.useState([]),[w,x]=A.useState(0),[S,_]=A.useState(null),[C,j]=A.useState(!1),[T,k]=A.useState(0);A.useEffect(()=>{N()},[]);const N=async()=>{const I=(await EM()).sort((R,oe)=>new Date(oe.createdAt)-new Date(R.createdAt));e(I);const G=[...new Set(I.map(R=>R.category||"Genel"))];r(["Tm",...G])},P=async M=>{window.confirm("Bu soruyu havuzdan silmek istediine emin misin?")&&(await _M(M),await N())},L=async(M,I)=>{await AM({...M,category:I});const G=t.map(oe=>oe.id===M.id?{...oe,category:I}:oe);e(G),c(null);const R=[...new Set(G.map(oe=>oe.category||"Genel"))];r(["Tm",...R])},B=()=>{const M=t;if(M.length===0)return;const G=[...M].sort(()=>.5-Math.random()).slice(0,10);z(G)},H=M=>{const I=t.filter(oe=>(oe.category||"Genel")===M);if(I.length===0){alert(`${M} kategorisinde henz soru yok.`);return}const R=[...I].sort(()=>.5-Math.random()).slice(0,20);z(R),f(!1)},z=M=>{y(M),x(0),k(0),_(null),j(!1),m(!0)},$=M=>{C||_(M)},ne=()=>{j(!0);const M=v[w];(S===M.correctAnswer||M.correctAnswer&&M.correctAnswer.includes(S))&&k(I=>I+1)},Q=()=>{w<v.length-1?(x(M=>M+1),_(null),j(!1)):(alert(`Quiz Bitti! Skorunuz: ${T} / ${v.length}`),m(!1))},ie=i==="Tm"?t:t.filter(M=>(M.category||"Genel")===i);return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20 reltive",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-400",children:" Soru Bankas"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Havuza kaydettiin tm sorular burada."})]}),!h&&t.length>0&&p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:B,className:"px-4 py-2 bg-secondary hover:bg-secondary/80 text-foreground rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm transition-all active:scale-95",children:[p.jsx(Du,{size:16}),"Rastgele Snav"]}),p.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm font-medium flex items-center gap-2 shadow-lg shadow-purple-500/20 transition-all active:scale-95",children:[p.jsx(fM,{size:16}),"Konu Se & Snav Yap"]})]})]}),u&&p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in",onClick:()=>f(!1),children:p.jsxs("div",{className:"bg-card border border-border w-full max-w-md rounded-2xl shadow-2xl flex flex-col max-h-[80vh]",onClick:M=>M.stopPropagation(),children:[p.jsxs("div",{className:"p-6 border-b border-border flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-bold",children:"Hangi Dersten Snav Olacaksn?"}),p.jsx("button",{onClick:()=>f(!1),children:p.jsx(wC,{className:"text-muted-foreground hover:text-foreground"})})]}),p.jsx("div",{className:"overflow-y-auto p-2",children:MP.map(M=>{const I=t.filter(G=>(G.category||"Genel")===M).length;return p.jsxs("button",{onClick:()=>H(M),disabled:I===0,className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg flex justify-between items-center group transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[p.jsx("span",{className:"font-medium",children:M}),p.jsxs("span",{className:"text-xs bg-secondary group-hover:bg-background px-2 py-1 rounded text-muted-foreground",children:[I," Soru"]})]},M)})})]})}),!h&&!u&&n.length>1&&p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 border-b border-border/50",children:n.map(M=>p.jsxs("button",{onClick:()=>a(M),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap flex items-center gap-2 ${i===M?"bg-purple-500/20 text-purple-400 border border-purple-500/50":"bg-card border border-border hover:border-purple-500/30"}`,children:[p.jsx(R6,{size:14}),M]},M))}),h&&v.length>0?p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6 md:p-8 max-w-4xl mx-auto shadow-2xl relative overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("span",{className:"text-sm font-mono text-muted-foreground bg-secondary px-3 py-1 rounded-full",children:["Soru ",w+1," / ",v.length]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("span",{className:"text-sm font-bold text-primary",children:["Skor: ",T]}),p.jsx("button",{onClick:()=>m(!1),className:"text-muted-foreground hover:text-destructive",children:p.jsx(wC,{size:24})})]})]}),p.jsx("h3",{className:"text-xl font-medium mb-6 leading-relaxed",children:v[w].question}),p.jsx("div",{className:"space-y-3",children:v[w].options?.map((M,I)=>{const G=v[w],R=S===M;let oe="border-border hover:bg-secondary/50";return C?M===G.correctAnswer||G.correctAnswer&&G.correctAnswer.includes(M)||M.startsWith(G.correctAnswer?.split(")")[0])?oe="border-emerald-500 bg-emerald-500/20 text-emerald-500 font-bold":R&&(oe="border-destructive bg-destructive/20 text-destructive"):R&&(oe="border-primary bg-primary/10 ring-1 ring-primary"),p.jsx("button",{onClick:()=>$(M),disabled:C,className:`w-full text-left p-4 rounded-xl border-2 transition-all ${oe}`,children:M},I)})}),C&&p.jsxs("div",{className:"mt-6 p-4 bg-secondary/30 rounded-xl animate-in fade-in border-l-4 border-purple-500",children:[p.jsxs("h4",{className:"font-bold text-sm mb-2 flex items-center gap-2 text-purple-400",children:[p.jsx($i,{size:16}),"Aklama ve Analiz"]}),p.jsx("p",{className:"text-sm text-foreground/90 leading-relaxed text-justify",children:v[w].explanation})]}),p.jsx("div",{className:"mt-8 flex justify-end",children:C?p.jsxs("button",{onClick:Q,className:"px-8 py-3 bg-secondary hover:bg-secondary/80 text-foreground rounded-xl font-bold transition-transform active:scale-95 flex items-center gap-2",children:["Sonraki Soru",p.jsx(Du,{size:16})]}):p.jsx("button",{onClick:ne,disabled:!S,className:"px-8 py-3 bg-primary text-primary-foreground rounded-xl font-bold disabled:opacity-50 hover:bg-primary/90 transition-transform active:scale-95",children:"Kontrol Et"})})]}):p.jsx("div",{className:"grid grid-cols-1 gap-4",children:ie.length===0?p.jsxs("div",{className:"text-center py-20 bg-card border border-dashed border-border rounded-3xl",children:[p.jsx($i,{size:64,className:"mx-auto text-muted-foreground/20 mb-4"}),p.jsx("p",{className:"text-lg text-muted-foreground",children:"Bu kategoride henz soru yok."})]}):ie.map(M=>p.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 group hover:border-purple-500/50 transition-colors relative",children:[p.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx("button",{onClick:()=>P(M.id),className:"p-2 bg-destructive/10 hover:bg-destructive text-destructive hover:text-white rounded-lg transition-colors",children:p.jsx(On,{size:16})})}),p.jsxs("div",{className:"flex gap-2 mb-3 items-center",children:[o===M.id?p.jsx("select",{className:"px-2 py-1 bg-background border border-primary text-primary text-xs rounded font-bold outline-none",value:M.category||"Genel",onChange:I=>L(M,I.target.value),onBlur:()=>c(null),autoFocus:!0,children:MP.map(I=>p.jsx("option",{value:I,children:I},I))}):p.jsxs("button",{onClick:()=>c(M.id),className:"px-2 py-1 bg-purple-500/10 text-purple-400 text-xs font-bold rounded uppercase tracking-wider hover:bg-purple-500/20 flex items-center gap-1 group/badge",title:"Kategoriyi deitirmek iin tkla",children:[M.category||"Genel",p.jsx(Hu,{size:10,className:"opacity-0 group-hover/badge:opacity-100"})]}),p.jsx("span",{className:"px-2 py-1 bg-secondary text-muted-foreground text-xs rounded",children:M.difficulty||"Zorlu"})]}),p.jsx("h3",{className:"font-medium text-lg mb-4 text-justify leading-relaxed",children:M.question}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-4",children:M.options&&M.options.length>0?M.options.map((I,G)=>{const R=I===M.correctAnswer||M.correctAnswer&&M.correctAnswer.includes(I);return p.jsx("div",{className:`p-3 rounded-lg text-sm border ${R?"bg-emerald-500/10 border-emerald-500/30 text-emerald-500 font-medium":"bg-secondary/30 border-transparent text-muted-foreground"}`,children:I},G)}):p.jsx("div",{className:"col-span-2 p-3 bg-destructive/10 text-destructive text-sm rounded",children:" k verisi bulunamad."})}),p.jsxs("div",{className:"bg-secondary/30 p-4 rounded-lg text-sm text-muted-foreground text-justify border-l-4 border-muted",children:[p.jsx("span",{className:"font-bold text-foreground block mb-1",children:"Cevap & Aklama:"}),M.explanation]})]},M.id))})]})}const DP=["Anatomi","Fizyoloji","Biyokimya","Mikrobiyoloji","Patoloji","Farmakoloji","Protetik Di Tedavisi","Restoratif Di Tedavisi","Endodonti","Periodontoloji","Ortodonti","Pedodonti","Az Di ve ene Cerrahisi","Az Di ve ene Radyolojisi","Genel"];function lle(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,a]=A.useState(null),[o,c]=A.useState("all"),[u,f]=A.useState("all"),[h,m]=A.useState(!1),[v,y]=A.useState(""),[w,x]=A.useState(!1),[S,_]=A.useState(""),[C,j]=A.useState(""),[T,k]=A.useState(null),[N,P]=A.useState(null);A.useEffect(()=>{L()},[]);const L=async()=>{const R=await bm(),oe=await nU();e(R.sort((F,V)=>new Date(V.createdAt)-new Date(F.createdAt))),r(oe.sort((F,V)=>new Date(V.createdAt)-new Date(F.createdAt)))},B=async R=>{await wM(R),await L()},H=async R=>{window.confirm("Bu hap bilgiyi silmek istediinize emin misiniz?")&&(await SM(R),await L())},z=async(R,oe)=>{await Ru({...R,category:oe});const F=t.map(V=>V.id===R.id?{...V,category:oe}:V);e(F),k(null)},$=async R=>{N&&(await Ru({...N,folderId:R}),P(null),await L())},ne=async()=>{if(!v.trim())return;const R={id:Date.now().toString(),name:v.trim(),createdAt:new Date().toISOString()};await tU(R),y(""),m(!1),await L()},Q=async R=>{window.confirm("Bu klasr silmek istediinize emin misiniz? indeki hap bilgiler Ana Klasr'e tanacak.")&&(await rU(R),await L(),i===R&&a(null))},ie=async()=>{if(!S.trim()||!C.trim()){alert("Kategori ve ierik bo olamaz!");return}const R={id:Date.now().toString(),content:C.trim(),category:S,sourceId:null,folderId:i,isFavorite:!1,createdAt:new Date().toISOString()};await Ru(R),_(""),j(""),x(!1),await L()},M=t.filter(R=>R.folderId===i),I=[...new Set(M.map(R=>R.category||"Genel"))],G=M.filter(R=>!(o==="favorites"&&!R.isFavorite||u!=="all"&&(R.category||"Genel")!==u));return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20 relative",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-green-400",children:"Hap Bilgi Havuzu"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"AI tarafndan karlan tm nemli bilgiler burada. Kategorilere gre dzenle!"}),p.jsxs("div",{className:"flex items-center gap-2 mt-3 text-sm text-muted-foreground",children:[p.jsxs("button",{onClick:()=>a(null),className:`hover:text-foreground transition-colors ${i===null?"text-primary font-medium":""}`,children:[p.jsx(Jb,{size:16,className:"inline mr-1"}),"Ana Klasr"]}),i&&p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"/"}),p.jsx("span",{className:"text-primary font-medium",children:n.find(R=>R.id===i)?.name||"Klasr"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[!i&&p.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-500 rounded-lg text-sm font-medium border border-emerald-500/30 transition-all",children:[p.jsx(mm,{size:18})," Yeni Klasr"]}),p.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-lg text-sm font-medium border border-primary/30 transition-all",children:[p.jsx(ir,{size:18})," Yeni Hap Bilgi"]})]})]}),p.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 flex items-start gap-3",children:[p.jsx(zl,{size:20,className:"text-blue-500 mt-0.5 flex-shrink-0"}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"text-blue-400 font-medium",children:" pucu"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:'Ana paneldeki "Hap Bilgi Atlkarncas"nda beendiiniz bilgileri yldzlayn, otomatik olarak buraya kaydedilsin. Sonra buradan hem dersini seebilir hem de klasrlere tayabilirsiniz.'})]})]}),h&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>m(!1),children:p.jsxs("div",{className:"bg-card w-full max-w-sm rounded-2xl p-6 shadow-2xl border border-border scale-100 animate-in zoom-in-95 duration-200",onClick:R=>R.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[p.jsx(mm,{className:"text-emerald-500",size:24}),"Yeni Klasr Olutur"]}),p.jsx("button",{onClick:()=>m(!1),className:"p-1 hover:bg-secondary rounded-full",children:p.jsx(bn,{size:20})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2 text-muted-foreground",children:"Klasr Ad"}),p.jsx("input",{type:"text",value:v,onChange:R=>y(R.target.value),onKeyDown:R=>R.key==="Enter"&&ne(),placeholder:"rn: Oral Patoloji",className:"w-full px-4 py-3 bg-background border border-primary/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary shadow-sm text-lg",autoFocus:!0})]}),p.jsxs("div",{className:"flex gap-3 pt-2",children:[p.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-3 bg-secondary hover:bg-secondary/80 rounded-xl font-bold transition-all",children:"ptal"}),p.jsx("button",{onClick:ne,className:"flex-1 py-3 bg-emerald-500 text-white rounded-xl font-bold hover:bg-emerald-600 shadow-lg shadow-emerald-500/20 transition-all",children:"Olutur"})]})]})]})}),N&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>P(null),children:p.jsxs("div",{className:"bg-card w-full max-w-sm rounded-2xl p-6 shadow-2xl animate-in zoom-in-95 duration-200",onClick:R=>R.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[p.jsx(AC,{className:"text-primary",size:20}),"Ta: Hedef Klasr Se"]}),p.jsx("button",{onClick:()=>P(null),className:"p-1 hover:bg-secondary rounded-full",children:p.jsx(bn,{size:20})})]}),p.jsxs("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:[p.jsxs("button",{onClick:()=>$(null),className:`w-full flex items-center gap-3 p-3 rounded-xl border transition-all ${N.folderId===null?"bg-primary/10 border-primary text-primary":"bg-background hover:bg-secondary border-border"}`,children:[p.jsx(Jb,{size:18}),p.jsx("span",{className:"font-medium",children:"Ana Klasr (Root)"}),N.folderId===null&&p.jsx(hm,{size:16,className:"ml-auto"})]}),n.map(R=>p.jsxs("button",{onClick:()=>$(R.id),className:`w-full flex items-center gap-3 p-3 rounded-xl border transition-all ${N.folderId===R.id?"bg-primary/10 border-primary text-primary":"bg-background hover:bg-secondary border-border"}`,children:[p.jsx(Zb,{size:18,className:"text-emerald-500"}),p.jsx("span",{className:"font-medium truncate",children:R.name}),N.folderId===R.id&&p.jsx(hm,{size:16,className:"ml-auto"})]},R.id))]})]})}),w&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>x(!1),children:p.jsxs("div",{className:"bg-card w-full max-w-lg rounded-2xl p-6 shadow-2xl animate-in zoom-in-95 duration-200",onClick:R=>R.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx(ir,{className:"text-primary",size:24}),"Yeni Hap Bilgi Ekle"]}),p.jsx("button",{onClick:()=>x(!1),className:"p-1 hover:bg-secondary rounded-full",children:p.jsx(bn,{size:20})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kategori"}),p.jsxs("select",{value:S,onChange:R=>_(R.target.value),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[p.jsx("option",{value:"",children:"Seiniz"}),DP.map(R=>p.jsx("option",{value:R,children:R},R))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hap Bilgi erii"}),p.jsx("textarea",{value:C,onChange:R=>j(R.target.value),placeholder:"nemli bilgiyi buraya yazn...",rows:5,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),i&&p.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",n.find(R=>R.id===i)?.name," klasrne eklenecek"]})]}),p.jsxs("div",{className:"flex gap-3 mt-6",children:[p.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-3 bg-secondary hover:bg-secondary/80 rounded-xl font-bold",children:"ptal"}),p.jsx("button",{onClick:ie,className:"flex-1 py-3 bg-primary text-primary-foreground rounded-xl font-bold hover:bg-primary/90",children:"Kaydet"})]})]})}),i===null&&n.length>0&&p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(R=>p.jsx("div",{className:"bg-card border border-border rounded-xl p-4 hover:border-emerald-500/50 transition-all cursor-pointer group relative",onClick:()=>a(R.id),children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[p.jsx(Zb,{size:24,className:"text-emerald-500"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium line-clamp-1",children:R.name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.filter(oe=>oe.folderId===R.id).length," hap bilgi"]})]})]}),p.jsx("button",{onClick:oe=>{oe.stopPropagation(),Q(R.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-destructive/10 text-destructive rounded transition-all",children:p.jsx(On,{size:16})})]})},R.id))}),p.jsxs("div",{className:"flex flex-wrap gap-3",children:[p.jsxs("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${o==="all"?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,children:["Tm (",M.length,")"]}),p.jsxs("button",{onClick:()=>c("favorites"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${o==="favorites"?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,title:"Ana panelden yldzladnz hap bilgiler",children:[p.jsx(zl,{size:16}),"Favoriler (",M.filter(R=>R.isFavorite).length,")"]})]}),I.length>0&&p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx("button",{onClick:()=>f("all"),className:`text-xs px-3 py-1.5 rounded-full transition-all ${u==="all"?"bg-emerald-500 text-white":"bg-secondary/50 hover:bg-secondary"}`,children:"Tm Kategoriler"}),I.map(R=>p.jsx("button",{onClick:()=>f(R),className:`text-xs px-3 py-1.5 rounded-full transition-all ${u===R?"bg-emerald-500 text-white":"bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500/20"}`,children:R},R))]}),G.length===0?p.jsxs("div",{className:"text-center py-20",children:[p.jsx(dM,{size:64,className:"mx-auto text-muted-foreground mb-4 opacity-50"}),p.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:i?"Bu klasrde henz hap bilgi yok":"Henz hap bilgi yok"}),p.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:`Ktphanede bir PDF'ten "Hap Bilgi" oluturun`})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.map(R=>p.jsxs("div",{className:"bg-card border border-border rounded-xl p-4 hover:border-emerald-500/30 transition-all group relative break-inside-avoid",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T===R.id?p.jsx("select",{className:"max-w-[150px] px-2 py-1 bg-background border border-emerald-500 text-emerald-500 text-xs rounded font-bold outline-none",value:R.category||"Genel",onChange:oe=>z(R,oe.target.value),onBlur:()=>k(null),autoFocus:!0,children:DP.map(oe=>p.jsx("option",{value:oe,children:oe},oe))}):p.jsxs("button",{onClick:()=>k(R.id),className:"text-xs bg-emerald-500/10 text-emerald-500 px-2 py-1 rounded hover:bg-emerald-500/20 flex items-center gap-1 group/badge font-bold uppercase tracking-wide truncate max-w-[180px]",title:"Kategoriyi deitirmek iin tkla",children:[R.category||"Genel",p.jsx(Hu,{size:10,className:"opacity-0 group-hover/badge:opacity-100"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:()=>P(R),className:"p-1 hover:bg-blue-500/10 text-blue-500 rounded-full transition-colors opacity-0 group-hover:opacity-100",title:"Klasre Ta",children:p.jsx(AC,{size:16})}),p.jsx("button",{onClick:()=>B(R.id),className:"p-1 hover:bg-secondary rounded-full transition-colors",children:p.jsx(zl,{size:18,className:R.isFavorite?"fill-yellow-500 text-yellow-500":"text-muted-foreground"})}),p.jsx("button",{onClick:()=>H(R.id),className:"p-1 hover:bg-destructive/10 text-destructive rounded-full transition-colors opacity-0 group-hover:opacity-100",children:p.jsx(On,{size:16})})]})]}),p.jsx("p",{className:"text-sm leading-relaxed text-foreground/90",children:R.content}),p.jsx("div",{className:"mt-3 pt-3 border-t border-border text-xs text-muted-foreground",children:new Date(R.createdAt).toLocaleDateString("tr-TR")})]},R.id))})]})}function cle(){const{exportData:t,importData:e}=B1(),n=A.useRef(null),[r,i]=A.useState(null),[a,o]=A.useState(localStorage.getItem("gemini_api_key")||"AIzaSyAdHTT9GHHlyQnL9G9V2uEC4gvj3Zq0ukw"),[c,u]=A.useState(!1),[f,h]=A.useState(null),[m,v]=A.useState(!1);A.useEffect(()=>{if(!localStorage.getItem("gemini_api_key")){const k="AIzaSyAdHTT9GHHlyQnL9G9V2uEC4gvj3Zq0ukw";localStorage.setItem("gemini_api_key",k),o(k)}},[]);const[y,w]=A.useState({name:"",goal:"",date:"",motto:""});A.useEffect(()=>{const k=localStorage.getItem("user_profile");k&&w(JSON.parse(k))},[]);const x=k=>{w({...y,[k.target.name]:k.target.value})},S=()=>{localStorage.setItem("user_profile",JSON.stringify(y));const k=document.getElementById("save-profile-btn");if(k){const N=k.innerText;k.innerText="Kaydedildi! ",k.classList.add("bg-green-500","text-white"),setTimeout(()=>{k.innerText=N,k.classList.remove("bg-green-500","text-white")},2e3)}},_=k=>{const N=k.target.value.trim();o(N),localStorage.setItem("gemini_api_key",N),u(!0),setTimeout(()=>u(!1),2e3)},C=async()=>{if(!a){h({type:"error",message:"Ltfen nce bir API anahtar girin."});return}if(!a.startsWith("AIza")){h({type:"error",message:"HATA: Geersiz Anahtar Format. 'AIza' ile balamal."});return}h({type:"loading",message:"Balant tesi yaplyor..."});try{const k=await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${a}`),N=await k.json();if(!k.ok)throw new Error(N.error?.message||k.statusText);h({type:"success",message:" BAARILI! Eriim izni doruland."})}catch(k){h({type:"error",message:"Balant Hatas: "+k.message})}},j=async k=>{const N=k.target.files[0];if(N)try{await e(N),i("success"),setTimeout(()=>i(null),3e3),k.target.value=null}catch{i("error"),setTimeout(()=>i(null),3e3)}},T=async()=>{try{await xU()}catch(k){alert("Sfrlama hatas: "+k.message)}};return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-blue-400",children:"Ayarlar"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Profilini kiiselletir ve verilerini ynet."})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("section",{className:"bg-card border border-border rounded-2xl p-6 shadow-sm",children:[p.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[p.jsx(CC,{className:"text-primary"}),"Profil ve Byk Hedef"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1 text-muted-foreground",children:"Adn & nvann"}),p.jsxs("div",{className:"relative",children:[p.jsx(CC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx("input",{name:"name",value:y.name,onChange:x,placeholder:"rn: Dr. Kaan",className:"w-full pl-10 pr-4 py-3 bg-muted/50 border border-border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1 text-muted-foreground",children:"Motivasyon Szn (Motto)"}),p.jsxs("div",{className:"relative",children:[p.jsx(mM,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx("input",{name:"motto",value:y.motto,onChange:x,placeholder:"rn: Vazgemek yok!",className:"w-full pl-10 pr-4 py-3 bg-muted/50 border border-border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1 text-muted-foreground",children:"Byk Hedefin"}),p.jsxs("div",{className:"relative",children:[p.jsx(ex,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx("input",{name:"goal",value:y.goal,onChange:x,placeholder:"rn: DUS 2026 lk 10",className:"w-full pl-10 pr-4 py-3 bg-muted/50 border border-border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1 text-muted-foreground",children:"Hedef Tarihi"}),p.jsxs("div",{className:"relative",children:[p.jsx(Uu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx("input",{type:"date",name:"date",value:y.date,onChange:x,className:"w-full pl-10 pr-4 py-3 bg-muted/50 border border-border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})]})]}),p.jsx("div",{className:"mt-6 flex justify-end",children:p.jsx("button",{id:"save-profile-btn",onClick:S,className:"px-6 py-3 bg-primary hover:bg-primary/90 text-primary-foreground font-bold rounded-xl transition-all shadow-lg shadow-primary/20",children:"Bilgileri Kaydet"})})]}),p.jsxs("section",{className:"bg-card border border-border rounded-2xl p-6 shadow-sm",children:[p.jsx("h3",{className:"text-xl font-bold mb-4",children:"AI Balants"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Google Gemini API anahtarnz girerek asistan aktifletirin."}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("input",{type:"password",placeholder:"API Anahtar (AIza...)",className:"flex-1 bg-muted/50 border border-border rounded-xl px-4 py-3 focus:ring-2 focus:ring-primary outline-none",value:a,onChange:_}),p.jsx("button",{onClick:C,className:"px-5 py-3 bg-secondary hover:bg-secondary/80 font-medium rounded-xl transition-colors",children:f?.type==="loading"?p.jsx(U6,{className:"animate-spin"}):"Test Et"})]}),f&&p.jsx("div",{className:`mt-4 p-3 rounded-xl text-sm border ${f.type==="success"?"bg-green-500/10 border-green-500/20 text-green-600":"bg-red-500/10 border-red-500/20 text-red-600"}`,children:f.message})]}),p.jsxs("section",{className:"bg-card border border-border rounded-2xl p-6 shadow-sm",children:[p.jsx("h3",{className:"text-xl font-bold mb-4",children:"Veri Ynetimi"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-3 p-4 rounded-xl border border-primary/20 bg-primary/5 hover:bg-primary/10 transition-colors",children:[p.jsx(g6,{className:"text-primary"}),p.jsxs("div",{className:"text-left",children:[p.jsx("span",{className:"block font-bold",children:"Yedekle (Da Aktar)"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Verilerini indir ve sakla"})]})]}),p.jsxs("button",{onClick:()=>n.current.click(),className:"flex items-center justify-center gap-3 p-4 rounded-xl border border-border hover:bg-muted transition-colors relative",children:[p.jsx(wp,{}),p.jsxs("div",{className:"text-left",children:[p.jsx("span",{className:"block font-bold",children:"Geri Ykle (e Aktar)"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"JSON dosyasndan ykle"})]}),p.jsx("input",{type:"file",ref:n,onChange:j,accept:".json",className:"hidden"})]})]}),r==="success"&&p.jsxs("div",{className:"mt-3 text-green-500 flex items-center gap-2",children:[p.jsx(hm,{size:16})," Baaryla yklendi!"]})]}),p.jsxs("section",{className:"bg-red-500/5 border border-red-500/10 rounded-2xl p-6",children:[p.jsx("h3",{className:"text-sm font-bold text-red-500 mb-2",children:"Tehlikeli Blge"}),m?p.jsxs("div",{className:"flex gap-3 items-center",children:[p.jsx("span",{className:"text-xs text-red-500 font-bold",children:"Emin misin?"}),p.jsx("button",{onClick:T,className:"px-3 py-1 bg-red-500 text-white text-xs rounded font-bold",children:"EVET"}),p.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1 bg-secondary text-xs rounded",children:"ptal"})]}):p.jsx("button",{onClick:()=>v(!0),className:"text-xs text-red-500 hover:text-red-400 underline",children:"Uygulamay Sfrla"})]})]})]})}const ule=["Anatomi","Fizyoloji","Biyokimya","Mikrobiyoloji","Patoloji","Farmakoloji","Protetik Di Tedavisi","Restoratif Di Tedavisi","Endodonti","Periodontoloji","Ortodonti","Pedodonti","Az Di ve ene Cerrahisi","Az Di ve ene Radyolojisi","Genel"],Ye={WORK:"work",SHORT_BREAK:"short_break",LONG_BREAK:"long_break"};function dle(){const[t,e]=A.useState(25),[n,r]=A.useState(5),[i,a]=A.useState(15),[o,c]=A.useState(1500),[u,f]=A.useState(!1),[h,m]=A.useState(Ye.WORK),[v,y]=A.useState(0),[w,x]=A.useState(""),[S,_]=A.useState(!1),[C,j]=A.useState(!0),[T,k]=A.useState(!1),N=A.useRef(null);A.useEffect(()=>{!u&&h===Ye.WORK&&c(t*60)},[t]),A.useEffect(()=>{!u&&h===Ye.SHORT_BREAK&&c(n*60),!u&&h===Ye.LONG_BREAK&&c(i*60)},[n,i]),A.useEffect(()=>(u&&o>0?N.current=setInterval(()=>{c(M=>M-1)},1e3):o===0&&u&&P(),()=>clearInterval(N.current)),[u,o]);const P=()=>{if(f(!1),ne(),h===Ye.WORK){L();const M=v+1;y(M),M%4===0?(m(Ye.LONG_BREAK),c(i*60)):(m(Ye.SHORT_BREAK),c(n*60))}else m(Ye.WORK),c(t*60)},L=async()=>{w&&await fU({id:Date.now().toString(),subject:w,duration:t,timestamp:new Date().toISOString()})},B=()=>{if(!u&&h===Ye.WORK&&!w){alert("Ltfen balamadan nce alacanz dersi sein!");return}f(!u)},H=()=>{f(!1),h===Ye.WORK&&c(t*60),h===Ye.SHORT_BREAK&&c(n*60),h===Ye.LONG_BREAK&&c(i*60)},z=M=>{m(M),f(!1),M===Ye.WORK&&c(t*60),M===Ye.SHORT_BREAK&&c(n*60),M===Ye.LONG_BREAK&&c(i*60)},$=M=>{if(!u)if(h===Ye.WORK){const I=Math.max(1,Math.min(120,t+M));e(I)}else if(h===Ye.SHORT_BREAK){const I=Math.max(1,Math.min(30,n+M));r(I)}else{const I=Math.max(1,Math.min(60,i+M));a(I)}},ne=()=>{C&&new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg").play().catch(I=>console.log("Audio play failed",I))},Q=M=>{const I=Math.floor(M/60),G=M%60;return`${I.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`},ie=()=>{const M=h===Ye.WORK?t*60:h===Ye.SHORT_BREAK?n*60:i*60;return(M-o)/M*100};return p.jsxs("div",{className:"bg-card w-full max-w-2xl mx-auto rounded-3xl shadow-2xl border border-border overflow-hidden relative transition-all duration-500 hover:shadow-primary/10",children:[p.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between bg-secondary/10 backdrop-blur-sm",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-xl transition-all duration-500 ${u?"bg-orange-500/20 text-orange-500 shadow-[0_0_15px_rgba(249,115,22,0.3)]":"bg-secondary text-muted-foreground"}`,children:p.jsx(D1,{size:24,className:u?"animate-pulse":""})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold tracking-tight",children:"Focus Timer"}),p.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:h===Ye.WORK?"Odaklanma Modu":"Mola Modu"})]})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("button",{onClick:()=>j(!C),className:"p-2.5 hover:bg-secondary rounded-xl transition-all opacity-70 hover:opacity-100",children:C?p.jsx(O8,{size:20}):p.jsx(M8,{size:20})})})]}),p.jsxs("div",{className:"p-10 flex flex-col items-center justify-center relative min-h-[350px] bg-gradient-to-b from-background to-secondary/5",children:[p.jsxs("div",{className:"relative w-80 h-80 flex items-center justify-center mb-10 transition-transform duration-500",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),style:{transform:T&&!u?"scale(1.02)":"scale(1)"},children:[p.jsx("div",{className:`absolute inset-0 rounded-full blur-2xl transition-opacity duration-1000 ${u?"opacity-20 bg-primary":"opacity-0"}`}),p.jsxs("svg",{className:"w-full h-full transform -rotate-90 drop-shadow-2xl",children:[p.jsx("circle",{cx:"160",cy:"160",r:"140",stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-secondary opacity-20"}),p.jsx("circle",{cx:"160",cy:"160",r:"140",stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:2*Math.PI*140,strokeDashoffset:2*Math.PI*140*(1-ie()/100),className:`transition-all duration-1000 ease-linear ${h===Ye.WORK?"text-primary":"text-blue-500"}`,style:{filter:h===Ye.WORK?"drop-shadow(0 0 10px rgba(16, 185, 129, 0.6))":"none",strokeLinecap:"round"}})]}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[!u&&p.jsx("div",{className:"absolute -top-10 flex gap-4 opacity-0 group-hover:opacity-100 transition-opacity"}),p.jsxs("div",{className:"flex items-center gap-4",children:[!u&&p.jsx("button",{onClick:()=>$(-5),className:"p-2 rounded-full hover:bg-secondary/50 text-muted-foreground hover:text-foreground transition-all",title:"-5 Dakika",children:p.jsx(q6,{size:24})}),p.jsx("div",{className:`text-7xl font-black font-mono tracking-tighterTab transition-all duration-300 ${u?"scale-110":"scale-100"}`,style:{textShadow:h===Ye.WORK?"0 0 30px rgba(16, 185, 129, 0.4)":"0 0 30px rgba(59, 130, 246, 0.4)"},children:Q(o)}),!u&&p.jsx("button",{onClick:()=>$(5),className:"p-2 rounded-full hover:bg-secondary/50 text-muted-foreground hover:text-foreground transition-all",title:"+5 Dakika",children:p.jsx(ir,{size:24})})]}),p.jsx("div",{className:`text-sm font-bold mt-4 uppercase tracking-[0.3em] px-4 py-1.5 rounded-full border transition-all duration-300 ${u?"bg-primary/10 text-primary border-primary/20":"bg-secondary/50 text-muted-foreground border-white/5"}`,children:u?"YRTLYOR":"DURAKLATILDI"})]})]}),!u&&h===Ye.WORK&&p.jsxs("div",{className:"mb-8 w-full max-w-sm animate-in slide-in-from-bottom-5 fade-in duration-500 relative group",children:[p.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-background px-4 py-0.5 text-[10px] font-bold text-primary uppercase tracking-widest border border-primary/20 rounded-full z-10 shadow-sm",children:"allacak Ders"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:w,onChange:M=>x(M.target.value),className:"w-full bg-secondary/30 hover:bg-secondary/50 border border-border/50 text-foreground text-center font-bold text-lg rounded-2xl px-6 py-4 focus:ring-2 focus:ring-primary/50 outline-none shadow-lg transition-all appearance-none cursor-pointer backdrop-blur-sm",children:[p.jsx("option",{value:"",disabled:!0,children:" Bir Ders Seiniz "}),ule.map(M=>p.jsx("option",{value:M,children:M},M))]}),p.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none opacity-30 group-hover:opacity-70 transition-opacity",children:p.jsx(Kl,{size:20})})]})]}),h!==Ye.WORK&&p.jsxs("div",{className:"mb-8 px-6 py-3 bg-blue-500/10 border border-blue-500/20 text-blue-400 rounded-2xl text-sm font-medium animate-pulse shadow-lg shadow-blue-500/5",children:[" Zihni dinlendirme zaman  ",h===Ye.SHORT_BREAK?"Ksa":"Uzun"," Mola"]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("button",{onClick:H,className:"p-5 rounded-2xl bg-secondary hover:bg-secondary/80 text-muted-foreground transition-all hover:scale-105 active:scale-95 group",title:"Sfrla",children:p.jsx(r8,{size:24,className:"group-hover:-rotate-90 transition-transform duration-500"})}),p.jsxs("button",{onClick:B,className:`p-8 rounded-3xl shadow-2xl transform hover:scale-105 active:scale-95 transition-all duration-300 text-white flex items-center justify-center relative overflow-hidden group ${u?"bg-amber-500 hover:bg-amber-600 shadow-amber-500/20":"bg-primary hover:bg-primary/90 shadow-primary/30"}`,children:[p.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u?p.jsx(W6,{size:40,fill:"currentColor"}):p.jsx(hM,{size:40,fill:"currentColor",className:"ml-2"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-3 border-t border-border divide-x divide-border bg-secondary/5",children:[p.jsxs("button",{onClick:()=>z(Ye.WORK),className:`p-5 text-sm font-bold transition-all relative overflow-hidden group ${h===Ye.WORK?"bg-primary/5 text-primary":"hover:bg-secondary/20 text-muted-foreground"}`,children:[p.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-primary transform transition-transform duration-300 ${h===Ye.WORK?"scale-x-100":"scale-x-0"}`}),p.jsx(Kl,{size:20,className:"mx-auto mb-2 opacity-80 group-hover:scale-110 transition-transform"}),"ODAKLAN"]}),p.jsxs("button",{onClick:()=>z(Ye.SHORT_BREAK),className:`p-5 text-sm font-bold transition-all relative overflow-hidden group ${h===Ye.SHORT_BREAK?"bg-blue-500/5 text-blue-500":"hover:bg-secondary/20 text-muted-foreground"}`,children:[p.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-blue-500 transform transition-transform duration-300 ${h===Ye.SHORT_BREAK?"scale-x-100":"scale-x-0"}`}),p.jsx(SC,{size:20,className:"mx-auto mb-2 opacity-80 group-hover:scale-110 transition-transform"}),"KISA MOLA",p.jsxs("span",{className:"block text-[10px] opacity-60 mt-1 font-normal bg-background/50 rounded-full px-2 py-0.5 mx-auto w-fit border border-border",children:[n," dk"]})]}),p.jsxs("button",{onClick:()=>z(Ye.LONG_BREAK),className:`p-5 text-sm font-bold transition-all relative overflow-hidden group ${h===Ye.LONG_BREAK?"bg-indigo-500/5 text-indigo-500":"hover:bg-secondary/20 text-muted-foreground"}`,children:[p.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-indigo-500 transform transition-transform duration-300 ${h===Ye.LONG_BREAK?"scale-x-100":"scale-x-0"}`}),p.jsx(SC,{size:20,className:"mx-auto mb-2 opacity-80 group-hover:scale-110 transition-transform"}),"UZUN MOLA",p.jsxs("span",{className:"block text-[10px] opacity-60 mt-1 font-normal bg-background/50 rounded-full px-2 py-0.5 mx-auto w-fit border border-border",children:[i," dk"]})]})]})]})}const w1=[{key:"anatomi",label:"Anatomi"},{key:"fizyoloji",label:"Fizyoloji"},{key:"biyokimya",label:"Tbbi Biyokimya"},{key:"mikrobiyoloji",label:"Tbbi Mikrobiyoloji"},{key:"patoloji",label:"Tbbi Patoloji"},{key:"farmakoloji",label:"Tbbi Farmakoloji"},{key:"biyoloji",label:"Tbbi Biyoloji ve Genetik"}],S1=[{key:"protetik",label:"Protetik Di Tedavisi"},{key:"restoratif",label:"Restoratif Di Tedavisi"},{key:"cerrahi",label:"Az, Di ve ene Cerrahisi"},{key:"radyoloji",label:"Az, Di ve ene Radyolojisi"},{key:"periodontoloji",label:"Periodontoloji"},{key:"ortodonti",label:"Ortodonti"},{key:"endodonti",label:"Endodonti"},{key:"pedodonti",label:"ocuk Di Hekimlii (Pedodonti)"}],Wh=[...w1,...S1];function fle(){const[t,e]=A.useState([]),[n,r]=A.useState(!1),[i,a]=A.useState({show:!1,message:""}),[o,c]=A.useState({name:"",date:new Date().toISOString().split("T")[0],subjects:{}});A.useEffect(()=>{u()},[]),A.useEffect(()=>{const N={};Wh.forEach(P=>{N[P.key]={correct:0,wrong:0,blank:0,net:0}}),c(P=>({...P,subjects:N}))},[]);const u=async()=>{const N=await CM();e(N.sort((P,L)=>new Date(P.date)-new Date(L.date)))},f=(N,P)=>{const L=parseInt(N)||0,B=parseInt(P)||0;return Math.max(0,L-B/4).toFixed(2)},h=(N,P,L)=>{const B=parseInt(L)||0,H={...o.subjects};H[N]={...H[N],[P]:B};const z=f(H[N].correct,H[N].wrong);H[N].net=parseFloat(z),c({...o,subjects:H})},m=async()=>{if(!o.name.trim()){a({show:!0,message:" Deneme ad gerekli!"}),setTimeout(()=>a({show:!1,message:""}),3e3);return}const N=Object.values(o.subjects).reduce((B,H)=>B+H.net,0),P={id:Date.now().toString(),name:o.name.trim(),date:o.date,subjects:o.subjects,totalNet:parseFloat(N.toFixed(2)),createdAt:new Date().toISOString()};await iU(P),await u();const L={};Wh.forEach(B=>{L[B.key]={correct:0,wrong:0,blank:0,net:0}}),c({name:"",date:new Date().toISOString().split("T")[0],subjects:L}),r(!1),a({show:!0,message:" Deneme baaryla kaydedildi!"}),setTimeout(()=>a({show:!1,message:""}),3e3)},v=async N=>{window.confirm("Bu denemeyi silmek istediinize emin misiniz?")&&(await aU(N),await u(),a({show:!0,message:"Deneme silindi"}),setTimeout(()=>a({show:!1,message:""}),3e3))},y=t.map(N=>({name:new Date(N.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short"}),net:N.totalNet,fullName:N.name})),x=(()=>{if(t.length===0)return[];const N=t.slice(-5),P={};return Wh.forEach(L=>{const B=N.reduce((H,z)=>H+(z.subjects[L.key]?.net||0),0);P[L.key]=(B/N.length).toFixed(2)}),Wh.map(L=>({subject:L.label.length>15?L.label.substring(0,15)+"...":L.label,net:parseFloat(P[L.key])}))})(),S=t.length,_=t.length>0?Math.max(...t.map(N=>N.totalNet)):0,C=t.length>0?(t.reduce((N,P)=>N+P.totalNet,0)/t.length).toFixed(2):0,j=N=>{if(N===0)return null;const P=t[N].totalNet,L=t[N-1].totalNet,B=P-L;return{diff:B.toFixed(2),isUp:B>0,isDown:B<0}},T=N=>{if(t.length<2)return{change:0,trend:"neutral"};const P=t[t.length-1],L=t[t.length-2],B=P.subjects[N]?.net||0,H=L.subjects[N]?.net||0;if(H===0)return{change:0,trend:"neutral"};const z=(B-H)/H*100;let $="neutral";return z>10?$="up":z<-10&&($="down"),{change:z.toFixed(1),trend:$}},k=N=>t.length===0?0:(t.reduce((L,B)=>L+(B.subjects[N]?.net||0),0)/t.length).toFixed(2);return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-violet-400 to-purple-400",children:"Performans & Deneme Takip"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Geliiminizi grselletirin ve zayf noktalarnz tespit edin"})]}),p.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 text-white rounded-xl font-bold shadow-lg transition-all",children:[p.jsx(ir,{size:20}),"Yeni Deneme Ekle"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx(bC,{className:"text-blue-500",size:24}),p.jsx("span",{className:"text-xs bg-blue-500/10 text-blue-500 px-2 py-1 rounded-full",children:"Toplam"})]}),p.jsx("h3",{className:"text-3xl font-bold",children:S}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Girilen Deneme"})]}),p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx(qF,{className:"text-emerald-500",size:24}),p.jsx("span",{className:"text-xs bg-emerald-500/10 text-emerald-500 px-2 py-1 rounded-full",children:"En Yksek"})]}),p.jsx("h3",{className:"text-3xl font-bold",children:_.toFixed(2)}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Puan"})]}),p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx(ex,{className:"text-amber-500",size:24}),p.jsx("span",{className:"text-xs bg-amber-500/10 text-amber-500 px-2 py-1 rounded-full",children:"Ortalama"})]}),p.jsx("h3",{className:"text-3xl font-bold",children:C}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Puan"})]})]}),t.length>0?p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-card border border-border rounded-3xl p-6",children:[p.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[p.jsx(ni,{className:"text-violet-500",size:24}),"Genel Geliim Grafii"]}),p.jsx(Im,{width:"100%",height:350,children:p.jsxs(GI,{data:y,children:[p.jsx(wI,{strokeDasharray:"3 3",stroke:"#334155"}),p.jsx(IS,{dataKey:"name",stroke:"#94a3b8"}),p.jsx(zS,{stroke:"#94a3b8"}),p.jsx(sp,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",borderRadius:"12px",color:"#f8fafc"},itemStyle:{color:"#f8fafc"},formatter:(N,P,L)=>[`${N} Net`,L.payload.fullName]}),p.jsx(uw,{}),p.jsx(LS,{type:"monotone",dataKey:"net",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6",r:5},activeDot:{r:8},name:"Toplam Net"})]})})]}),p.jsxs("div",{className:"bg-card border border-border rounded-3xl p-6",children:[p.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[p.jsx(ex,{className:"text-emerald-500",size:24}),"Ders Bazl G Analizi"]}),p.jsx(Im,{width:"100%",height:350,children:p.jsxs(kae,{data:x,children:[p.jsx(W3,{stroke:"#334155"}),p.jsx(J3,{dataKey:"subject",tick:{fill:"#94a3b8",fontSize:11}}),p.jsx(Z3,{stroke:"#94a3b8"}),p.jsx(pI,{name:"Net Ortalamas",dataKey:"net",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),p.jsx(sp,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",borderRadius:"12px"}})]})}),p.jsxs("p",{className:"text-xs text-muted-foreground text-center mt-4",children:["Son ",Math.min(5,t.length)," denemenin ortalamas"]})]})]}):p.jsxs("div",{className:"bg-card border border-border rounded-3xl p-12 text-center",children:[p.jsx(bC,{size:64,className:"mx-auto text-muted-foreground mb-4 opacity-50"}),p.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Henz deneme eklenmedi"}),p.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Geliiminizi grmek iin deneme sonularnz ekleyin"})]}),t.length>=2&&p.jsxs("div",{className:"bg-card border border-border rounded-3xl p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Ders Bazl Trend Analizi"}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"text-sm font-bold text-blue-400 mb-3 uppercase tracking-wider",children:"Temel Bilimler"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:w1.map(N=>{const P=T(N.key),L=k(N.key);return p.jsxs("div",{className:"bg-secondary/30 rounded-xl p-4 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:N.label}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ort: ",L," net"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[P.trend==="up"&&p.jsxs("div",{className:"flex items-center gap-1 text-emerald-500 text-sm font-medium",children:[p.jsx(ni,{size:18}),"+",P.change,"%"]}),P.trend==="down"&&p.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm font-medium bg-red-500/10 px-2 py-1 rounded-full",children:[p.jsx(em,{size:18}),P.change,"% "]}),P.trend==="neutral"&&p.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-sm",children:[p.jsx(yC,{size:18}),"Stabil"]})]})]},N.key)})})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-bold text-purple-400 mb-3 uppercase tracking-wider",children:"Klinik Bilimler"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:S1.map(N=>{const P=T(N.key),L=k(N.key);return p.jsxs("div",{className:"bg-secondary/30 rounded-xl p-4 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:N.label}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ort: ",L," net"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[P.trend==="up"&&p.jsxs("div",{className:"flex items-center gap-1 text-emerald-500 text-sm font-medium",children:[p.jsx(ni,{size:18}),"+",P.change,"%"]}),P.trend==="down"&&p.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm font-medium bg-red-500/10 px-2 py-1 rounded-full",children:[p.jsx(em,{size:18}),P.change,"% "]}),P.trend==="neutral"&&p.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-sm",children:[p.jsx(yC,{size:18}),"Stabil"]})]})]},N.key)})})]})]}),t.length>0&&p.jsxs("div",{className:"bg-card border border-border rounded-3xl p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Deneme Listesi"}),p.jsx("div",{className:"space-y-3",children:t.map((N,P)=>{const L=j(P);return p.jsxs("div",{className:`rounded-xl p-4 flex items-center justify-between hover:bg-secondary/50 transition-colors ${L?.isDown?"bg-red-500/10 border border-red-500/30":L?.isUp?"bg-emerald-500/10 border border-emerald-500/30":"bg-secondary/30"}`,children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:N.name}),p.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(N.date).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[L&&p.jsx("div",{className:`flex items-center gap-1 text-sm font-medium ${L.isUp?"text-emerald-500":"text-red-500"}`,children:L.isUp?p.jsxs(p.Fragment,{children:[p.jsx(ni,{size:18}),"+",L.diff," "]}):p.jsxs(p.Fragment,{children:[p.jsx(em,{size:18}),L.diff," "]})}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-2xl font-bold text-violet-500",children:N.totalNet}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Toplam Net"})]}),p.jsx("button",{onClick:()=>v(N.id),className:"p-2 hover:bg-destructive/10 text-destructive rounded-lg transition-colors",children:p.jsx(On,{size:18})})]})]},N.id)})})]}),n&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>r(!1),children:p.jsxs("div",{className:"bg-card w-full max-w-5xl rounded-2xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[p.jsx(ir,{className:"text-violet-500",size:28}),"Yeni Deneme Ekle"]}),p.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-secondary rounded-full",children:p.jsx(bn,{size:24})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Deneme Ad"}),p.jsx("input",{type:"text",value:o.name,onChange:N=>c({...o,name:N.target.value}),placeholder:"rn: Tustime 4, PA Deneme 5",className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tarih"}),p.jsx("input",{type:"date",value:o.date,onChange:N=>c({...o,date:N.target.value}),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"font-bold mb-4 text-lg text-blue-400 uppercase tracking-wider",children:"Temel Bilimler"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w1.map(N=>p.jsxs("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-xl p-4",children:[p.jsx("p",{className:"font-medium mb-3",children:N.label}),p.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Doru"}),p.jsx("input",{type:"number",min:"0",value:o.subjects[N.key]?.correct||0,onChange:P=>h(N.key,"correct",P.target.value),className:"w-full px-2 py-1 bg-background border border-border rounded text-sm focus:outline-none focus:ring-1 focus:ring-emerald-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Yanl"}),p.jsx("input",{type:"number",min:"0",value:o.subjects[N.key]?.wrong||0,onChange:P=>h(N.key,"wrong",P.target.value),className:"w-full px-2 py-1 bg-background border border-border rounded text-sm focus:outline-none focus:ring-1 focus:ring-red-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Bo"}),p.jsx("input",{type:"number",min:"0",value:o.subjects[N.key]?.blank||0,onChange:P=>h(N.key,"blank",P.target.value),className:"w-full px-2 py-1 bg-background border border-border rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Net"}),p.jsx("div",{className:"w-full px-2 py-1 bg-violet-500/10 border border-violet-500/30 rounded text-sm font-bold text-violet-500 text-center",children:o.subjects[N.key]?.net?.toFixed(2)||"0.00"})]})]})]},N.key))})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"font-bold mb-4 text-lg text-purple-400 uppercase tracking-wider",children:"Klinik Bilimler"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S1.map(N=>p.jsxs("div",{className:"bg-purple-500/5 border border-purple-500/20 rounded-xl p-4",children:[p.jsx("p",{className:"font-medium mb-3",children:N.label}),p.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Doru"}),p.jsx("input",{type:"number",min:"0",value:o.subjects[N.key]?.correct||0,onChange:P=>h(N.key,"correct",P.target.value),className:"w-full px-2 py-1 bg-background border border-border rounded text-sm focus:outline-none focus:ring-1 focus:ring-emerald-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Yanl"}),p.jsx("input",{type:"number",min:"0",value:o.subjects[N.key]?.wrong||0,onChange:P=>h(N.key,"wrong",P.target.value),className:"w-full px-2 py-1 bg-background border border-border rounded text-sm focus:outline-none focus:ring-1 focus:ring-red-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Bo"}),p.jsx("input",{type:"number",min:"0",value:o.subjects[N.key]?.blank||0,onChange:P=>h(N.key,"blank",P.target.value),className:"w-full px-2 py-1 bg-background border border-border rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Net"}),p.jsx("div",{className:"w-full px-2 py-1 bg-violet-500/10 border border-violet-500/30 rounded text-sm font-bold text-violet-500 text-center",children:o.subjects[N.key]?.net?.toFixed(2)||"0.00"})]})]})]},N.key))})]}),p.jsx("div",{className:"bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl p-4 mb-6",children:p.jsxs("div",{className:"flex items-center justify-between text-white",children:[p.jsx("span",{className:"text-lg font-medium",children:"TOPLAM NET"}),p.jsx("span",{className:"text-4xl font-bold",children:Object.values(o.subjects).reduce((N,P)=>N+P.net,0).toFixed(2)})]})}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>r(!1),className:"flex-1 py-3 bg-secondary hover:bg-secondary/80 rounded-xl font-bold",children:"ptal"}),p.jsx("button",{onClick:m,className:"flex-1 py-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 text-white rounded-xl font-bold",children:"Denemeyi Kaydet"})]})]})}),i.show&&p.jsx("div",{className:"fixed bottom-24 right-8 bg-emerald-600 text-white px-6 py-3 rounded-xl shadow-2xl animate-in slide-in-from-bottom-5 fade-in duration-300 z-50",children:p.jsx("span",{className:"font-medium",children:i.message})})]})}const Xh=[{key:"protetik",label:"Protetik",color:"bg-blue-500"},{key:"cerrahi",label:"Cerrahi",color:"bg-red-500"},{key:"periodontoloji",label:"Periodontoloji",color:"bg-green-500"},{key:"endodonti",label:"Endodonti",color:"bg-yellow-500"},{key:"ortodonti",label:"Ortodonti",color:"bg-purple-500"},{key:"radyoloji",label:"Radyoloji",color:"bg-pink-500"},{key:"restoratif",label:"Restoratif",color:"bg-indigo-500"},{key:"pedodonti",label:"Pedodonti",color:"bg-cyan-500"},{key:"patoloji",label:"Patoloji",color:"bg-orange-500"},{key:"anatomi",label:"Anatomi",color:"bg-teal-500"},{key:"biyokimya",label:"Biyokimya",color:"bg-lime-500"},{key:"mikrobiyoloji",label:"Mikrobiyoloji",color:"bg-emerald-500"},{key:"farmakoloji",label:"Farmakoloji",color:"bg-violet-500"},{key:"fizyoloji",label:"Fizyoloji",color:"bg-rose-500"}],ku=[{key:"knowledge",label:"Bilgi Eksiklii",icon:"",color:"bg-red-500"},{key:"attention",label:"Dikkat Hatas",icon:"",color:"bg-yellow-500"},{key:"interpretation",label:"Yorum Hatas",icon:"",color:"bg-blue-500"},{key:"time",label:"Sre Yetmedi",icon:"",color:"bg-purple-500"}];function hle(){const[t,e]=A.useState([]),[n,r]=A.useState(!1),[i,a]=A.useState(!1),[o,c]=A.useState(!1),[u,f]=A.useState(null),[h,m]=A.useState(null),[v,y]=A.useState(!1),[w,x]=A.useState({show:!1,message:""}),[S,_]=A.useState("all"),[C,j]=A.useState("all"),[T,k]=A.useState({imageData:"",subject:"protetik",errorType:"knowledge",notes:""});A.useEffect(()=>{N()},[]);const N=async()=>{const R=await jM();e(R.sort((oe,F)=>new Date(F.createdAt)-new Date(oe.createdAt)))},P=R=>{const oe=R.target.files[0];if(!oe)return;const F=new FileReader;F.onload=()=>{k({...T,imageData:F.result})},F.readAsDataURL(oe)},L=async()=>{if(!T.imageData){x({show:!0,message:" Ltfen bir grsel ykleyin!"}),setTimeout(()=>x({show:!1,message:""}),3e3);return}const R={id:Date.now().toString(),imageData:T.imageData,subject:T.subject,errorType:T.errorType,notes:T.notes.trim(),createdAt:new Date().toISOString()};await sU(R),await N(),k({imageData:"",subject:"protetik",errorType:"knowledge",notes:""}),r(!1),x({show:!0,message:" Hata baaryla kaydedildi!"}),setTimeout(()=>x({show:!1,message:""}),3e3)},B=async R=>{window.confirm("Bu hatay silmek istediinize emin misiniz?")&&(await oU(R),await N(),a(!1),x({show:!0,message:"Hata silindi"}),setTimeout(()=>x({show:!1,message:""}),3e3))},H=R=>{f(R),a(!0)},z=()=>{if(t.length===0){x({show:!0,message:" Henz hata eklenmedi!"}),setTimeout(()=>x({show:!1,message:""}),3e3);return}const R=Math.floor(Math.random()*t.length);m(t[R]),y(!1),c(!0)},$=()=>{if(t.length===0)return;const R=Math.floor(Math.random()*t.length);m(t[R]),y(!1)},ne=t.filter(R=>!(S!=="all"&&R.subject!==S||C!=="all"&&R.errorType!==C)),Q=R=>Xh.find(oe=>oe.key===R)?.label||R,ie=R=>Xh.find(oe=>oe.key===R)?.color||"bg-gray-500",M=R=>ku.find(oe=>oe.key===R)?.label||R,I=R=>ku.find(oe=>oe.key===R)?.icon||"",G=R=>ku.find(oe=>oe.key===R)?.color||"bg-gray-500";return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-red-400 to-orange-400",children:"Hata Defteri"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Yanllarnzdan renin, tekrar etmeyin"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold shadow-lg transition-all",children:[p.jsx(Du,{size:20}),"Rastgele Hatam Sor"]}),p.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white rounded-xl font-bold shadow-lg transition-all",children:[p.jsx(ir,{size:20}),"Yeni Hata Ekle"]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(fM,{size:18,className:"text-muted-foreground"}),p.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filtreler:"})]}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx("button",{onClick:()=>_("all"),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${S==="all"?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,children:"Tm Dersler"}),Xh.map(R=>p.jsx("button",{onClick:()=>_(R.key),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${S===R.key?`${R.color} text-white`:"bg-secondary/50 hover:bg-secondary"}`,children:R.label},R.key))]}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx("button",{onClick:()=>j("all"),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${C==="all"?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,children:"Tm Hata Tipleri"}),ku.map(R=>p.jsxs("button",{onClick:()=>j(R.key),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-1 ${C===R.key?`${R.color} text-white`:"bg-secondary/50 hover:bg-secondary"}`,children:[p.jsx("span",{children:R.icon}),R.label]},R.key))]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-card border border-border rounded-xl p-4",children:[p.jsx("p",{className:"text-2xl font-bold",children:t.length}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Toplam Hata"})]}),p.jsxs("div",{className:"bg-card border border-border rounded-xl p-4",children:[p.jsx("p",{className:"text-2xl font-bold",children:ne.length}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Filtrelenmi"})]}),p.jsxs("div",{className:"bg-card border border-border rounded-xl p-4",children:[p.jsx("p",{className:"text-2xl font-bold",children:new Set(t.map(R=>R.subject)).size}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Farkl Ders"})]})]}),ne.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:ne.map(R=>p.jsxs("div",{onClick:()=>H(R),className:"bg-card border border-border rounded-xl overflow-hidden cursor-pointer hover:border-primary/50 transition-all hover:shadow-lg group",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:R.imageData,alt:"Question",className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),p.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:p.jsx("span",{className:`${ie(R.subject)} text-white text-xs px-2 py-1 rounded-full font-medium`,children:Q(R.subject)})})]}),p.jsxs("div",{className:"p-3",children:[p.jsx("div",{className:"flex items-center gap-2 mb-2",children:p.jsxs("span",{className:`${G(R.errorType)} text-white text-xs px-2 py-1 rounded-full font-medium flex items-center gap-1`,children:[p.jsx("span",{children:I(R.errorType)}),M(R.errorType)]})}),R.notes&&p.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:R.notes}),p.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(R.createdAt).toLocaleDateString("tr-TR")})]})]},R.id))}):p.jsxs("div",{className:"bg-card border border-border rounded-3xl p-12 text-center",children:[p.jsx(cM,{size:64,className:"mx-auto text-muted-foreground mb-4 opacity-50"}),p.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:t.length===0?"Henz hata eklenmedi":"Filtre ile eleen hata bulunamad"}),p.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t.length===0?"Yanl sorularnz ekleyerek balayn":"Farkl filtreler deneyin"})]}),n&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>r(!1),children:p.jsxs("div",{className:"bg-card w-full max-w-xl rounded-2xl p-4 shadow-2xl max-h-[85vh] flex flex-col",onClick:R=>R.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx(ir,{className:"text-red-500",size:24}),"Yeni Hata Ekle"]}),p.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-secondary rounded-full",children:p.jsx(bn,{size:20})})]}),p.jsxs("div",{className:"space-y-3 overflow-y-auto flex-1",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium mb-1",children:"Soru Grseli *"}),p.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"w-full px-3 py-1.5 text-sm bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),T.imageData&&p.jsx("div",{className:"mt-2",children:p.jsx("img",{src:T.imageData,alt:"Preview",className:"w-full max-h-48 object-contain rounded-lg border border-border"})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium mb-1",children:"Ders"}),p.jsx("select",{value:T.subject,onChange:R=>k({...T,subject:R.target.value}),className:"w-full px-3 py-1.5 text-sm bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:Xh.map(R=>p.jsx("option",{value:R.key,children:R.label},R.key))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium mb-1",children:"Hata Sebebi"}),p.jsx("select",{value:T.errorType,onChange:R=>k({...T,errorType:R.target.value}),className:"w-full px-3 py-1.5 text-sm bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:ku.map(R=>p.jsxs("option",{value:R.key,children:[R.icon," ",R.label]},R.key))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium mb-1",children:"Notlar (opsiyonel)"}),p.jsx("textarea",{value:T.notes,onChange:R=>k({...T,notes:R.target.value}),placeholder:"Aklamalarnz buraya yazn...",rows:3,className:"w-full px-3 py-2 text-sm bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none"})]})]}),p.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-border",children:[p.jsx("button",{onClick:()=>r(!1),className:"flex-1 py-2 text-sm bg-secondary hover:bg-secondary/80 rounded-lg font-bold",children:"ptal"}),p.jsx("button",{onClick:L,className:"flex-1 py-2 text-sm bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white rounded-lg font-bold",children:"Kaydet"})]})]})}),i&&u&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>a(!1),children:p.jsxs("div",{className:"bg-card w-full max-w-3xl rounded-2xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:`${ie(u.subject)} text-white px-3 py-1.5 rounded-full font-medium`,children:Q(u.subject)}),p.jsxs("span",{className:`${G(u.errorType)} text-white px-3 py-1.5 rounded-full font-medium flex items-center gap-1`,children:[p.jsx("span",{children:I(u.errorType)}),M(u.errorType)]})]}),p.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-secondary rounded-full",children:p.jsx(bn,{size:24})})]}),p.jsx("img",{src:u.imageData,alt:"Question",className:"w-full rounded-lg border border-border mb-4"}),u.notes&&p.jsxs("div",{className:"bg-secondary/30 rounded-xl p-4 mb-4",children:[p.jsx("h4",{className:"font-semibold mb-2",children:"Notlar:"}),p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u.notes})]}),p.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Tarih: ",new Date(u.createdAt).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:()=>B(u.id),className:"flex-1 py-3 bg-destructive hover:bg-destructive/90 text-destructive-foreground rounded-xl font-bold flex items-center justify-center gap-2",children:[p.jsx(On,{size:18}),"Sil"]}),p.jsx("button",{onClick:()=>a(!1),className:"flex-1 py-3 bg-secondary hover:bg-secondary/80 rounded-xl font-bold",children:"Kapat"})]})]})}),o&&h&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>c(!1),children:p.jsxs("div",{className:"bg-card w-full max-w-3xl rounded-2xl p-6 shadow-2xl",onClick:R=>R.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[p.jsx(Du,{className:"text-purple-500",size:28}),"Hatrla Bakalm!"]}),p.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-secondary rounded-full",children:p.jsx(bn,{size:24})})]}),p.jsx("img",{src:h.imageData,alt:"Question",className:"w-full rounded-lg border border-border mb-4"}),v?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[p.jsx("span",{className:`${ie(h.subject)} text-white px-3 py-1.5 rounded-full font-medium`,children:Q(h.subject)}),p.jsxs("span",{className:`${G(h.errorType)} text-white px-3 py-1.5 rounded-full font-medium flex items-center gap-1`,children:[p.jsx("span",{children:I(h.errorType)}),M(h.errorType)]})]}),h.notes&&p.jsxs("div",{className:"bg-secondary/30 rounded-xl p-4",children:[p.jsx("h4",{className:"font-semibold mb-2",children:"Notlar:"}),p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:h.notes})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:$,className:"flex-1 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[p.jsx(Du,{size:18}),"Baka Hata"]}),p.jsx("button",{onClick:()=>c(!1),className:"flex-1 py-3 bg-secondary hover:bg-secondary/80 rounded-xl font-bold",children:"Kapat"})]})]}):p.jsxs("button",{onClick:()=>y(!0),className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[p.jsx(w6,{size:20}),"Cevab Gster"]})]})}),w.show&&p.jsx("div",{className:"fixed bottom-24 right-8 bg-emerald-600 text-white px-6 py-3 rounded-xl shadow-2xl animate-in slide-in-from-bottom-5 fade-in duration-300 z-50",children:p.jsx("span",{className:"font-medium",children:w.message})})]})}const ql={dus:{key:"dus",icon:"",label:"DUS",color:"blue",bgColor:"bg-blue-500",subcategories:["Protetik","Cerrahi","Periodontoloji","Endodonti","Ortodonti","Radyoloji","Restoratif","Pedodonti","Patoloji","Anatomi","Biyokimya","Mikrobiyoloji","Farmakoloji","Fizyoloji"]},software:{key:"software",icon:"",label:"Yazlm/",color:"purple",bgColor:"bg-purple-500",subcategories:["React","Python","Node.js","JavaScript","TypeScript","Proje 1","Proje 2","renme","Gelitirme"]},faculty:{key:"faculty",icon:"",label:"Faklte",color:"green",bgColor:"bg-green-500",subcategories:["Ders","Klinik","Staj","Uygulama","Proje","Lab"]},life:{key:"life",icon:"",label:"Yaam & Spor",color:"orange",bgColor:"bg-orange-500",subcategories:["Spor","Uyku","Sosyal","Kitap","Hobi","Dinlenme"]}},Gb=t=>ql[t]?.subcategories||[];function mle({onClose:t,onSave:e,selectedDate:n}){const[r,i]=A.useState({mainCategory:"dus",subcategory:"",startTime:"",endTime:"",notes:""}),[a,o]=A.useState({show:!1,message:""});A.useEffect(()=>{const y=Gb("dus");y.length>0&&i(w=>({...w,subcategory:y[0]}))},[]);const c=y=>{const w=Gb(y);i({...r,mainCategory:y,subcategory:w[0]||""})},u=()=>{if(!r.startTime||!r.endTime)return 0;const y=new Date(`${n.toISOString().split("T")[0]}T${r.startTime}`),x=new Date(`${n.toISOString().split("T")[0]}T${r.endTime}`)-y,S=Math.floor(x/6e4);return S>0?S:0},f=y=>{if(y===0)return"0 dakika";const w=Math.floor(y/60),x=y%60;return w===0?`${x} dakika`:x===0?`${w} saat`:`${w} saat ${x} dakika`},h=async()=>{if(!r.startTime||!r.endTime){o({show:!0,message:" Balang ve biti saati gerekli!"}),setTimeout(()=>o({show:!1,message:""}),3e3);return}const y=u();if(y<=0){o({show:!0,message:" Biti saati balang saatinden sonra olmal!"}),setTimeout(()=>o({show:!1,message:""}),3e3);return}if(y>1440){o({show:!0,message:" Aktivite 24 saatten uzun olamaz!"}),setTimeout(()=>o({show:!1,message:""}),3e3);return}const w={id:Date.now().toString(),mainCategory:r.mainCategory,subcategory:r.subcategory,type:"manual",startTime:new Date(`${n.toISOString().split("T")[0]}T${r.startTime}`).toISOString(),endTime:new Date(`${n.toISOString().split("T")[0]}T${r.endTime}`).toISOString(),duration:y,notes:r.notes.trim(),createdAt:new Date().toISOString()};await lU(w),e()},m=u(),v=Gb(r.mainCategory);return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:t,children:p.jsxs("div",{className:"bg-card w-full max-w-lg rounded-2xl p-4 shadow-2xl max-h-[90vh] flex flex-col",onClick:y=>y.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx(Uu,{className:"text-indigo-500",size:24}),"Aktivite Ekle"]}),p.jsx("button",{onClick:t,className:"p-1 hover:bg-secondary rounded-full",children:p.jsx(bn,{size:20})})]}),p.jsxs("div",{className:"space-y-3 overflow-y-auto flex-1 pr-2",children:[p.jsxs("div",{className:"bg-indigo-500/10 rounded-lg p-2 text-center",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Tarih"}),p.jsx("p",{className:"text-sm font-bold",children:n.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Ana Kategori"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(ql).map(y=>{const w=ql[y];return p.jsxs("button",{onClick:()=>c(y),className:`p-2 rounded-lg border-2 transition-all flex items-center gap-2 ${r.mainCategory===y?`${w.bgColor} border-transparent text-white`:"border-border hover:border-primary/50"}`,children:[p.jsx("span",{className:"text-lg",children:w.icon}),p.jsx("span",{className:"font-medium text-xs",children:w.label})]},y)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Alt Kategori"}),p.jsx("select",{value:r.subcategory,onChange:y=>i({...r,subcategory:y.target.value}),className:"w-full px-3 py-1.5 text-sm bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:v.map(y=>p.jsx("option",{value:y,children:y},y))})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Balang Saati"}),p.jsx("input",{type:"time",value:r.startTime,onChange:y=>i({...r,startTime:y.target.value}),className:"w-full px-3 py-1.5 text-sm bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Biti Saati"}),p.jsx("input",{type:"time",value:r.endTime,onChange:y=>i({...r,endTime:y.target.value}),className:"w-full px-3 py-1.5 text-sm bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),m>0&&p.jsxs("div",{className:"bg-secondary/50 rounded-lg p-2 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(Xb,{className:"text-indigo-500",size:16}),p.jsx("span",{className:"text-xs font-medium",children:"Sre:"})]}),p.jsx("span",{className:"text-sm font-bold text-indigo-500",children:f(m)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Notlar (opsiyonel)"}),p.jsx("textarea",{value:r.notes,onChange:y=>i({...r,notes:y.target.value}),placeholder:"Aktivite hakknda notlarnz...",rows:2,className:"w-full px-3 py-2 text-sm bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]})]}),p.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-border",children:[p.jsx("button",{onClick:t,className:"flex-1 py-2 text-sm bg-secondary hover:bg-secondary/80 rounded-lg font-bold",children:"ptal"}),p.jsx("button",{onClick:h,className:"flex-1 py-2 text-sm bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-bold",children:"Kaydet"})]}),a.show&&p.jsx("div",{className:"absolute top-4 right-4 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg animate-in fade-in",children:a.message})]})})}function ple(){const[t,e]=A.useState(new Date),[n,r]=A.useState([]),[i,a]=A.useState(!1),[o,c]=A.useState({show:!1,message:""});A.useEffect(()=>{u()},[t]);const u=async()=>{const C=await uU(t);r(C.sort((j,T)=>new Date(j.startTime)-new Date(T.startTime)))},f=async C=>{window.confirm("Bu aktiviteyi silmek istediinize emin misiniz?")&&(await dU(C),await u(),c({show:!0,message:"Aktivite silindi"}),setTimeout(()=>c({show:!1,message:""}),3e3))},h=C=>new Date(C).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),m=C=>{const j=Math.floor(C/60),T=C%60;return j===0?`${T}dk`:T===0?`${j}sa`:`${j}sa ${T}dk`},v=C=>n.filter(j=>j.mainCategory===C).reduce((j,T)=>j+T.duration,0),y=n.reduce((C,j)=>C+j.duration,0),w=()=>{const C=new Date(t);C.setDate(C.getDate()-1),e(C)},x=()=>{const C=new Date(t);C.setDate(C.getDate()-1),e(C)},S=()=>{e(new Date)},_=t.toDateString()===new Date().toDateString();return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400",children:"Planlayc"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Aktivitelerinizi kaydedin ve zaman ynetimi yapn"})]}),p.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl font-bold shadow-lg transition-all",children:[p.jsx(ir,{size:20}),"Aktivite Ekle"]})]}),p.jsx("div",{className:"bg-card border border-border rounded-2xl p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("button",{onClick:w,className:"p-2 hover:bg-secondary rounded-lg transition-colors",children:p.jsx(lM,{size:20})}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Uu,{className:"text-indigo-500",size:24}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-2xl font-bold",children:t.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})}),p.jsx("p",{className:"text-sm text-muted-foreground",children:t.toLocaleDateString("tr-TR",{weekday:"long"})})]}),!_&&p.jsx("button",{onClick:S,className:"px-3 py-1 bg-indigo-500/10 text-indigo-500 rounded-lg text-sm font-medium hover:bg-indigo-500/20 transition-colors",children:"Bugn"})]}),p.jsx("button",{onClick:x,className:"p-2 hover:bg-secondary rounded-lg transition-colors",children:p.jsx(M1,{size:20})})]})}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[p.jsxs("div",{className:"bg-card border border-border rounded-xl p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Xb,{className:"text-indigo-500",size:18}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Toplam"})]}),p.jsx("p",{className:"text-2xl font-bold",children:m(y)})]}),Object.keys(ql).map(C=>{const j=v(C),T=ql[C];return p.jsxs("div",{className:"bg-card border border-border rounded-xl p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("span",{className:"text-lg",children:T.icon}),p.jsx("span",{className:"text-xs text-muted-foreground",children:T.label})]}),p.jsx("p",{className:"text-2xl font-bold",children:m(j)})]},C)})]}),n.length>0?p.jsxs("div",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Aktiviteler"}),n.map(C=>{const j=ql[C.mainCategory];return p.jsx("div",{className:"bg-card border border-border rounded-xl p-4 hover:border-primary/50 transition-all",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsxs("span",{className:`${j.bgColor} text-white px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1`,children:[p.jsx("span",{children:j.icon}),j.label]}),p.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:""}),p.jsx("span",{className:"text-sm font-medium",children:C.subcategory}),p.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C.type==="pomodoro"?"bg-red-500/10 text-red-500":"bg-blue-500/10 text-blue-500"}`,children:C.type==="pomodoro"?" Pomodoro":" Manuel"})]}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(Xb,{size:14}),p.jsxs("span",{children:[h(C.startTime)," - ",h(C.endTime)]})]}),p.jsx("span",{className:"font-medium text-foreground",children:m(C.duration)})]}),C.notes&&p.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:C.notes})]}),p.jsx("button",{onClick:()=>f(C.id),className:"p-2 hover:bg-destructive/10 text-destructive rounded-lg transition-colors",children:p.jsx(On,{size:18})})]})},C.id)})]}):p.jsxs("div",{className:"bg-card border border-border rounded-3xl p-12 text-center",children:[p.jsx(Uu,{size:64,className:"mx-auto text-muted-foreground mb-4 opacity-50"}),p.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Bu tarihte aktivite yok"}),p.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Aktivite ekleyerek balayn"})]}),i&&p.jsx(mle,{onClose:()=>a(!1),onSave:()=>{a(!1),u()},selectedDate:t}),o.show&&p.jsx("div",{className:"fixed bottom-24 right-8 bg-emerald-600 text-white px-6 py-3 rounded-xl shadow-2xl animate-in slide-in-from-bottom-5 fade-in duration-300 z-50",children:p.jsx("span",{className:"font-medium",children:o.message})})]})}function gle(){const t=j1(),[e,n]=A.useState({workoutsThisWeek:0,caloriesBurned:0,streak:0,waterIntake:2.5,avgDuration:0}),[r,i]=A.useState(null);A.useEffect(()=>{a()},[]);const a=async()=>{const c=await Ap(),u=await z1(),h=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()],m=c.find(j=>j.id===h);i(m);const v=new Date,y=new Date(v),w=y.getDay(),x=y.getDate()-w+(w===0?-6:1);y.setDate(x),y.setHours(0,0,0,0);const S=u.filter(j=>new Date(j.date)>=y),_=S.reduce((j,T)=>j+(T.durationSeconds||0),0),C=S.length>0?Math.round(_/S.length/60):0;n({workoutsThisWeek:S.length,caloriesBurned:S.length*350,streak:u.length,waterIntake:2.5,avgDuration:C})},o=[{title:"Antrenman Program",icon:Uu,path:"/fitness/schedule",color:"text-orange-500",bg:"bg-orange-500/10",desc:"Haftalk plann dzenle"},{title:"Geliim Takibi",icon:ni,path:"/fitness/progress",color:"text-blue-500",bg:"bg-blue-500/10",desc:"Vcut lleri ve arlk"},{title:"Beslenme Gnl",icon:gm,path:"/fitness/nutrition",color:"text-green-500",bg:"bg-green-500/10",desc:"Kalori ve makro takibi"},{title:"Supplement antas",icon:R1,path:"/fitness/supplements",color:"text-purple-500",bg:"bg-purple-500/10",desc:"Takviye stok durumu"}];return p.jsxs("div",{className:"space-y-8 pb-20 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-900 to-slate-900 p-8 text-white shadow-2xl border border-white/10",children:[p.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-black bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-cyan-400 mb-2",children:"Fitness Hub "}),p.jsx("p",{className:"text-indigo-200 text-lg",children:'"Bugnk ter, yarnki gtr." Seviye atlamaya hazr msn?'})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-4 rounded-2xl border border-white/10 text-center min-w-[100px]",children:[p.jsx(D1,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),p.jsx("div",{className:"text-2xl font-bold",children:e.streak}),p.jsx("div",{className:"text-xs text-indigo-200",children:"Gn Streak"})]}),p.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-4 rounded-2xl border border-white/10 text-center min-w-[100px]",children:[p.jsx(aM,{className:"w-8 h-8 text-emerald-500 mx-auto mb-2"}),p.jsx("div",{className:"text-2xl font-bold",children:e.workoutsThisWeek}),p.jsx("div",{className:"text-xs text-indigo-200",children:"Antrenman"})]})]})]}),p.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-64 h-64 bg-indigo-500/20 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-48 h-48 bg-cyan-500/20 rounded-full blur-3xl"})]}),p.jsxs("div",{className:"bg-card border border-border rounded-3xl p-6 shadow-lg",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx($u,{className:"text-orange-500"}),"Bugnn Antrenman"]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:r?.isRestDay?"Bugn dinlenme gn! ":r?.focusArea||"Planlanm antrenman yok"})]}),p.jsx("button",{onClick:()=>t("/fitness/schedule"),className:"px-4 py-2 bg-orange-500/10 text-orange-500 hover:bg-orange-500 hover:text-white rounded-xl text-sm font-bold transition-all",children:"Programa Git"})]}),!r?.isRestDay&&r?.exercises?.length>0&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.exercises.slice(0,3).map((c,u)=>p.jsxs("div",{className:"bg-secondary/30 p-3 rounded-xl flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-500 font-bold text-xs",children:u+1}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"font-bold truncate text-sm",children:c.name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.sets," set x ",c.reps]})]})]},u)),r.exercises.length>3&&p.jsxs("div",{className:"flex items-center justify-center text-xs text-muted-foreground font-medium",children:["+",r.exercises.length-3," hareket daha..."]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((c,u)=>p.jsxs("button",{onClick:()=>t(c.path),className:"group relative overflow-hidden bg-card border border-border hover:border-primary/50 p-6 rounded-3xl text-left transition-all hover:shadow-xl hover:-translate-y-1",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsx("div",{className:`p-3 rounded-2xl ${c.bg} ${c.color} group-hover:scale-110 transition-transform`,children:p.jsx(c.icon,{size:32})}),p.jsx("div",{className:"p-2 rounded-full bg-secondary/50 opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(ni,{size:16,className:"text-muted-foreground"})})]}),p.jsx("h3",{className:"text-2xl font-bold mb-1",children:c.title}),p.jsx("p",{className:"text-muted-foreground font-medium",children:c.desc}),p.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})]},u))}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-card border border-border p-4 rounded-2xl flex flex-col items-center justify-center text-center",children:[p.jsx(Qb,{className:"text-blue-500 mb-2"}),p.jsx("div",{className:"text-2xl font-black",children:"2.5L"}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Su Hedefi"})]}),p.jsxs("div",{className:"bg-card border border-border p-4 rounded-2xl flex flex-col items-center justify-center text-center",children:[p.jsx(L1,{className:"text-purple-500 mb-2"}),p.jsxs("div",{className:"text-2xl font-black",children:[e.avgDuration,"dk"]}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Ort. Sre"})]}),p.jsxs("div",{className:"bg-card border border-border p-4 rounded-2xl flex flex-col items-center justify-center text-center opacity-50",children:[p.jsx(tm,{className:"text-yellow-500 mb-2"}),p.jsx("div",{className:"text-2xl font-black",children:"-"}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"PR Rekoru"})]}),p.jsxs("div",{className:"bg-card border border-border p-4 rounded-2xl flex flex-col items-center justify-center text-center opacity-50",children:[p.jsx(ni,{className:"text-green-500 mb-2"}),p.jsx("div",{className:"text-2xl font-black",children:"-"}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Kilo Deiimi"})]})]})]})}const vle=[{key:"monday",label:"Pazartesi"},{key:"tuesday",label:"Sal"},{key:"wednesday",label:"aramba"},{key:"thursday",label:"Perembe"},{key:"friday",label:"Cuma"},{key:"saturday",label:"Cumartesi"},{key:"sunday",label:"Pazar"}];function yle(){const[t,e]=A.useState({}),[n,r]=A.useState(null),[i,a]=A.useState(!1),[o,c]=A.useState(null),[u,f]=A.useState([]),[h,m]=A.useState(0),[v,y]=A.useState(null),[w,x]=A.useState(""),[S,_]=A.useState([]),[C,j]=A.useState(!1);A.useEffect(()=>{k()},[]),A.useEffect(()=>{if(o){const M=setInterval(()=>{m(I=>I+1)},1e3);y(M)}else clearInterval(v),m(0);return()=>clearInterval(v)},[o]);const T=M=>{const I=Math.floor(M/60),G=M%60;return`${I}:${G<10?"0":""}${G}`},k=async()=>{const M=await Ap();if(M.length===0){const I=[{id:"monday",day:"Pazartesi",focusArea:"Push (Gs/Omuz/Triceps)",exercises:[{name:"Plate loaded chest press",sets:"2",reps:"6-8 (60kg)"},{name:"Smith machine low incline press",sets:"2",reps:"6-8 (25kg)"},{name:"Chest fly machine",sets:"3",reps:"8-10 (35kg)"},{name:"Shoulder press machine",sets:"2",reps:"6-8 (17.5kg)"},{name:"Lateral raise",sets:"3",reps:"8-10 (10kg)"},{name:"Triceps pushdown",sets:"2",reps:"6-8 (65kg)"},{name:"Overhead rope extension",sets:"2",reps:"8-10 (Failure)"}],isRestDay:!1},{id:"tuesday",day:"Sal",focusArea:"Pull (Srt/Biceps)",exercises:[{name:"Lat pulldown",sets:"2",reps:"6-8 (75kg)"},{name:"Plate loaded wide grip row",sets:"2",reps:"6-8 (30kg)"},{name:"Cable row",sets:"2",reps:"8-10 (60kg)"},{name:"Dumbbell curl",sets:"2",reps:"6-8 (12.5kg)"},{name:"Cable curl",sets:"2",reps:"6-8 (50kg)"},{name:"Hammer/Reverse curl (SS)",sets:"2",reps:"8-10 (10kg)"}],isRestDay:!1},{id:"wednesday",day:"aramba",focusArea:"Legs (Bacak)",exercises:[{name:"Leg press",sets:"2",reps:"6-8 (Rir1)"},{name:"Smith machine squat",sets:"2",reps:"6-8 (Rir1)"},{name:"Leg extension",sets:"2",reps:"8-10 (Failure)"},{name:"Seated leg curl",sets:"3",reps:"8-10 (Rir1)"}],isRestDay:!1},{id:"thursday",day:"Perembe",focusArea:"",exercises:[],isRestDay:!0},{id:"friday",day:"Cuma",focusArea:"Push B (Omuz/Gs/Triceps)",exercises:[{name:"Shoulder press machine",sets:"2",reps:"6-8 (20kg)"},{name:"Lateral raise",sets:"3",reps:"8-10 (10kg)"},{name:"Smith machine low incline press",sets:"2",reps:"6-8 (25kg)"},{name:"Chest fly machine",sets:"2",reps:"6-8 (50kg)"},{name:"Cable rear delt fly",sets:"3",reps:"8-10 (70kg)"},{name:"Triceps pushdown",sets:"2",reps:"6-8 (70kg)"},{name:"Overhead rope extension",sets:"2",reps:"8-10 (40kg)"}],isRestDay:!1},{id:"saturday",day:"Cumartesi",focusArea:"Pull B + Legs",exercises:[{name:"Plate loaded wide grip row",sets:"2",reps:"6-8 (35kg)"},{name:"Close grip lat pulldown",sets:"2",reps:"6-8 (65kg)"},{name:"Cable curl",sets:"2",reps:"6-8 (55kg)"},{name:"Hammer/Reverse curl (SS)",sets:"2",reps:"8-10 (10kg)"},{name:"Leg press",sets:"2",reps:"6-8 (150kg)"},{name:"Leg extension",sets:"2",reps:"6-8 (90kg)"},{name:"Seated leg curl",sets:"2",reps:"8-10 (60kg)"}],isRestDay:!1},{id:"sunday",day:"Pazar",focusArea:"",exercises:[],isRestDay:!0}],G={};for(const R of I)await MC(R),G[R.id]=R;e(G)}else{const I={};M.forEach(G=>I[G.id]=G),e(I)}},N=M=>{const I=t[M.key]||{focusArea:"",exercises:[],isRestDay:!1};r(M),x(I.focusArea),_(I.exercises||[]),j(I.isRestDay),a(!0)},P=()=>{if(!n)return;const M=t[n.key],I=M.exercises.map(G=>({name:G.name,plannedSets:G.sets,plannedReps:G.reps,actualSets:[],completed:!1}));f(I),c(M),a(!1)},L=(M,I,G,R)=>{const oe=[...u];oe[M].actualSets[I]||(oe[M].actualSets[I]={weight:"",reps:""}),oe[M].actualSets[I][G]=R,f(oe)},B=M=>{const I=[...u];I[M].actualSets.push({weight:"",reps:""}),f(I)},H=M=>{const I=[...u];I[M].completed=!I[M].completed,f(I)},z=async()=>{if(!o)return;const M={id:Date.now().toString(),workoutId:o.id,day:o.day,date:new Date().toISOString(),durationSeconds:h,exercises:u};await kM(M),alert("Antrenman kaydedildi! Harika i kardn! "),c(null),m(0)},$=()=>{_([...S,{name:"",sets:"",reps:""}])},ne=(M,I,G)=>{const R=[...S];R[M][I]=G,_(R)},Q=M=>{_((G=>G.filter((R,oe)=>oe!==M))(S))},ie=async()=>{const M={id:n.key,day:n.label,focusArea:w,exercises:S.filter(I=>I.name.trim()!==""),isRestDay:C};await MC(M),a(!1),k()};return o?p.jsxs("div",{className:"fixed inset-0 z-50 bg-background flex flex-col animate-in slide-in-from-bottom duration-300",children:[p.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-600 to-red-600 text-white flex justify-between items-center shadow-lg",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black italic",children:o.focusArea}),p.jsxs("div",{className:"flex items-center gap-2 opacity-90",children:[p.jsx(L1,{size:18}),p.jsx("span",{className:"font-mono text-xl",children:T(h)})]})]}),p.jsx("button",{onClick:()=>c(null),className:"p-2 bg-white/20 rounded-full hover:bg-white/30",children:p.jsx(bn,{size:24})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:u.map((M,I)=>p.jsxs("div",{className:`bg-card border ${M.completed?"border-green-500/50 bg-green-500/5":"border-border"} rounded-2xl p-5 shadow-sm transition-all`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold",children:M.name}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Hedef: ",M.plannedSets," set x ",M.plannedReps]})]}),p.jsx("button",{onClick:()=>H(I),className:`p-2 rounded-full ${M.completed?"bg-green-500 text-white":"bg-secondary text-muted-foreground"}`,children:p.jsx(hm,{size:24})})]}),p.jsxs("div",{className:"space-y-3",children:[(M.actualSets.length>0?M.actualSets:[{weight:"",reps:""},{weight:"",reps:""}]).map((G,R)=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center font-bold text-xs text-muted-foreground",children:R+1}),p.jsx("input",{placeholder:"kg",className:"flex-1 bg-muted/50 border border-border rounded-lg px-3 py-2 text-sm text-center",value:G.weight||"",onChange:oe=>L(I,R,"weight",oe.target.value)}),p.jsx("input",{placeholder:"tekrar",className:"flex-1 bg-muted/50 border border-border rounded-lg px-3 py-2 text-sm text-center",value:G.reps||"",onChange:oe=>L(I,R,"reps",oe.target.value)})]},R)),p.jsx("button",{onClick:()=>B(I),className:"w-full py-2 text-xs font-bold text-orange-500 bg-orange-500/10 rounded-lg hover:bg-orange-500/20",children:"+ Set Ekle"})]})]},I))}),p.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-background border-t border-border p-4 flex gap-4",children:p.jsxs("button",{onClick:z,className:"flex-1 py-4 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white rounded-2xl font-black text-lg shadow-xl shadow-orange-500/20 flex items-center justify-center gap-2",children:[p.jsx(pM,{}),"Antrenman Bitir & Kaydet"]})})]}):p.jsxs("div",{className:"space-y-6 pb-20 animate-in fade-in duration-500",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-emerald-500",children:"Haftalk Program"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Antrenman plann olutur ve takip et "})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:vle.map(M=>{const I=t[M.key],G=I&&!I.isRestDay&&I.exercises?.length>0,R=I?.isRestDay;return p.jsxs("button",{onClick:()=>N(M),className:`text-left p-4 rounded-2xl border transition-all hover:scale-[1.02] active:scale-[0.98] ${R?"bg-secondary/30 border-border opacity-70":G?"bg-orange-500/10 border-orange-500/50 hover:bg-orange-500/20":"bg-card border-border hover:border-orange-500/30"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"font-bold text-lg",children:M.label}),G&&p.jsx($u,{className:"text-orange-500 w-5 h-5"}),R&&p.jsx("span",{className:"text-xs bg-secondary px-2 py-1 rounded-full text-muted-foreground",children:"OFF"})]}),G?p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-orange-500 mb-2 truncate",children:I.focusArea}),p.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[I.exercises.slice(0,3).map((oe,F)=>p.jsxs("li",{className:"truncate",children:[" ",oe.name]},F)),I.exercises.length>3&&p.jsxs("li",{className:"text-xs opacity-70",children:["+ ",I.exercises.length-3," hareket"]})]})]}):R?p.jsx("div",{className:"h-20 flex items-center justify-center text-muted-foreground text-sm italic",children:"Dinlenme Gn "}):p.jsx("div",{className:"h-20 flex items-center justify-center text-muted-foreground text-sm opacity-50 border-2 border-dashed border-border rounded-xl",children:"Planla +"})]},M.key)})}),i&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>a(!1),children:p.jsxs("div",{className:"bg-card w-full max-w-2xl rounded-2xl p-6 shadow-2xl max-h-[90vh] flex flex-col",onClick:M=>M.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[p.jsx(Hu,{className:"text-orange-500",size:24}),n.label," Plan"]}),p.jsxs("div",{className:"flex gap-2",children:[!C&&p.jsxs("button",{onClick:P,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-bold flex items-center gap-2 hover:shadow-lg hover:scale-105 transition-all",children:[p.jsx(hM,{size:16,fill:"white"}),"BALA"]}),p.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-secondary rounded-lg",children:p.jsx(bn,{})})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[p.jsx("div",{className:"flex items-center gap-4 bg-secondary/30 p-4 rounded-xl",children:p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:C,onChange:M=>j(M.target.checked),className:"w-5 h-5 accent-orange-500 rounded"}),p.jsx("span",{className:"font-medium",children:"Dinlenme Gn"})]})}),!C&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Odak Blgesi"}),p.jsx("input",{type:"text",value:w,onChange:M=>x(M.target.value),placeholder:"rn: Gs + n Kol",className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-orange-500"})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Hareketler"}),p.jsx("button",{onClick:$,className:"text-xs text-orange-500 font-bold hover:underline",children:"+ Hareket Ekle"})]}),p.jsxs("div",{className:"space-y-2",children:[S.map((M,I)=>p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{placeholder:"Hareket Ad",value:M.name,onChange:G=>ne(I,"name",G.target.value),className:"flex-1 px-3 py-2 bg-background border border-border rounded-lg text-sm"}),p.jsx("input",{placeholder:"Set",value:M.sets,onChange:G=>ne(I,"sets",G.target.value),className:"w-16 px-3 py-2 bg-background border border-border rounded-lg text-sm text-center"}),p.jsx("input",{placeholder:"Tekrar",value:M.reps,onChange:G=>ne(I,"reps",G.target.value),className:"w-32 px-3 py-2 bg-background border border-border rounded-lg text-sm text-center"}),p.jsx("button",{onClick:()=>Q(I),className:"p-2 text-destructive hover:bg-destructive/10 rounded-lg",children:""})]},I)),S.length===0&&p.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 italic",children:"Henz hareket eklenmedi."})]})]})]})]}),p.jsx("div",{className:"flex gap-3 mt-6 pt-4 border-t border-border",children:p.jsx("button",{onClick:ie,className:"flex-1 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-bold",children:"Deiiklikleri Kaydet"})})]})}),p.jsx("div",{className:"mt-8 flex justify-center",children:p.jsx("button",{onClick:async()=>{if(confirm("Mevcut antrenman programn sfrlayp senin iin hazrladm program yklemek ister misin?"))try{const I=(await ke()).transaction("fitness_workouts","readwrite");await I.store.clear(),await I.done,window.location.reload()}catch(M){console.error(M),alert("Hata: "+M.message+`

Veritaban tablosu henz olumam olabilir. Sayfay yenilemeyi dene.`)}},className:"text-xs text-muted-foreground hover:text-orange-500 underline",children:"Programn Grnmyor mu? Buraya Tkla (Sfrla ve Ykle)"})})]})}function ble(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,a]=A.useState([]),[o,c]=A.useState("all"),[u,f]=A.useState({exerciseName:"",weight:"",reps:"",date:new Date().toISOString().split("T")[0]});A.useEffect(()=>{h()},[]);const h=async()=>{const S=await z1();e(S.sort((T,k)=>new Date(k.date)-new Date(T.date)));const _=[...new Set(S.map(T=>T.exerciseName))];a(_);const C=await Ap();let j=[];C.length>0&&C.forEach(T=>{T.exercises&&Array.isArray(T.exercises)&&T.exercises.forEach(k=>{k.name&&k.name.trim()!==""&&j.push(k.name.trim())})}),j=[...new Set(j)].sort(),r(j)},m=async S=>{if(S.preventDefault(),!u.exerciseName||!u.weight)return;const _={id:Date.now().toString(),...u,weight:parseFloat(u.weight),reps:parseInt(u.reps)||0};await kM(_),f({...u,weight:"",reps:""}),h()},v=async S=>{const _=[...t];e(C=>C.filter(j=>j.id!==S));try{await hU(S)}catch(C){e(_),console.error("Delete failed:",C)}},y=S=>t.filter(_=>_.exerciseName===S).sort((_,C)=>new Date(_.date)-new Date(C.date)).map(_=>({date:new Date(_.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short"}),weight:_.weight})),w=o==="all"?t:t.filter(S=>S.exerciseName===o),x=[...new Set([...n,...i])].sort();return p.jsxs("div",{className:"space-y-6 pb-20 animate-in fade-in duration-500",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-500 to-teal-500",children:"Geliim Takibi"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Progressive Overload istatistiklerin "})]}),p.jsxs("form",{onSubmit:m,className:"bg-card border border-border rounded-2xl p-4 flex flex-col md:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsxs("label",{className:"block text-xs font-medium mb-1 flex items-center gap-1",children:[p.jsx($u,{size:12,className:"text-emerald-500"})," Hareket Se"]}),p.jsxs("select",{value:u.exerciseName,onChange:S=>f({...u,exerciseName:S.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-xl focus:ring-2 focus:ring-emerald-500 appearance-none cursor-pointer",required:!0,children:[p.jsx("option",{value:"",disabled:!0,children:"Hareket Seiniz..."}),n.length>0&&p.jsx("optgroup",{label:"Haftalk Programm",children:n.map(S=>p.jsx("option",{value:S,children:S},S))}),i.length>0&&p.jsx("optgroup",{label:"Gemi Kaytlar",children:i.filter(S=>!n.includes(S)).map(S=>p.jsx("option",{value:S,children:S},S))}),p.jsx("option",{value:"custom",children:"+ Dier / Manuel Ekle"})]}),u.exerciseName==="custom"&&p.jsx("input",{type:"text",placeholder:"Hareket Ad Yazn...",className:"w-full mt-2 px-3 py-2 bg-background border border-border rounded-xl focus:ring-2 focus:ring-emerald-500 animate-in fade-in slide-in-from-top-2",onChange:S=>f({...u,exerciseName:S.target.value}),autoFocus:!0})]}),p.jsxs("div",{className:"w-full md:w-32",children:[p.jsx("label",{className:"block text-xs font-medium mb-1",children:"Arlk (kg)"}),p.jsx("input",{type:"number",step:"0.5",value:u.weight,onChange:S=>f({...u,weight:S.target.value}),placeholder:"0",className:"w-full px-3 py-2 bg-background border border-border rounded-xl focus:ring-2 focus:ring-emerald-500",required:!0})]}),p.jsxs("div",{className:"w-full md:w-32",children:[p.jsx("label",{className:"block text-xs font-medium mb-1",children:"Tekrar"}),p.jsx("input",{type:"number",value:u.reps,onChange:S=>f({...u,reps:S.target.value}),placeholder:"0",className:"w-full px-3 py-2 bg-background border border-border rounded-xl focus:ring-2 focus:ring-emerald-500"})]}),p.jsxs("button",{type:"submit",className:"w-full md:w-auto px-6 py-2.5 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[p.jsx(ir,{size:18})," Ekle"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6 min-h-[300px]",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx(ni,{className:"text-emerald-500"}),"Grafik"]}),p.jsxs("select",{value:o,onChange:S=>c(S.target.value),className:"bg-background border border-border rounded-lg px-3 py-1 text-sm max-w-[150px] truncate",children:[p.jsx("option",{value:"all",children:"Tm Hareketler"}),x.map(S=>p.jsx("option",{value:S,children:S},S))]})]}),o!=="all"&&y(o).length>1?p.jsx("div",{className:"h-[250px] w-full",children:p.jsx(Im,{width:"100%",height:"100%",children:p.jsxs(GI,{data:y(o),children:[p.jsx(IS,{dataKey:"date",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(zS,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,domain:["dataMin - 5","dataMax + 5"]}),p.jsx(sp,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px"},itemStyle:{color:"#10b981"}}),p.jsx(LS,{type:"monotone",dataKey:"weight",stroke:"#10b981",strokeWidth:3,dot:{r:4,fill:"#10b981"}})]})})}):p.jsxs("div",{className:"h-[250px] flex flex-col items-center justify-center text-muted-foreground opacity-50",children:[p.jsx(ni,{size:48,className:"mb-4"}),p.jsx("p",{children:"Grafik grmek iin bir hareket sein"}),p.jsx("p",{className:"text-xs",children:"En az 2 veri girii gerekli"})]})]}),p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx(pm,{className:"text-emerald-500"}),"Son Loglar"]}),p.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:[w.map(S=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/30 rounded-xl hover:bg-secondary/50 transition-colors group relative",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-foreground",children:S.exerciseName}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(S.date).toLocaleDateString("tr-TR"),"  ",S.reps," Tekrar"]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("span",{className:"text-xl font-bold text-emerald-500",children:[S.weight,"kg"]}),p.jsx("button",{type:"button",onClick:_=>{_.stopPropagation(),v(S.id)},className:"h-10 w-10 flex items-center justify-center text-muted-foreground hover:text-red-500 hover:bg-red-500/10 rounded-full transition-all cursor-pointer active:scale-90",title:"Sil",style:{zIndex:50},children:p.jsx(On,{size:20,className:"pointer-events-none"})})]})]},S.id)),w.length===0&&p.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Kayt bulunamad."})]})]})]})]})}function xle(){const[t,e]=A.useState([]),[n,r]=A.useState({}),[i,a]=A.useState(!1),[o,c]=A.useState({name:"",dosage:"",icon:""}),u=new Date().toISOString().split("T")[0];A.useEffect(()=>{f()},[]);const f=async()=>{let w=await lx();if(w.length===0){const _=[{id:"auto_1",name:"Kreatin",dosage:"Antrenman Sonras (5g)",icon:""},{id:"auto_2",name:"Multivitamin",dosage:"Sabah Kahvaltda",icon:""},{id:"auto_3",name:"ZMA",dosage:"Gece Yatmadan",icon:""},{id:"auto_4",name:"Vitamin D3",dosage:"Sabah Tok",icon:""},{id:"auto_5",name:"Omega-3",dosage:"le Yemeinde",icon:""}];console.log("Seeding Supplement Starter Pack... ");for(const C of _)await DC(C);w=await lx()}e(w);const x=await gU(u),S={};x.forEach(_=>{S[_.supplementId]=_.id}),r(S)},h=async()=>{if(!o.name)return;const w={id:Date.now().toString(),name:o.name,dosage:o.dosage||"Gnde 1 kez",icon:o.icon||""};await DC(w),c({name:"",dosage:"",icon:""}),a(!1),f()},m=async(w,x)=>{x.stopPropagation(),window.confirm("Bu supplementi silmek istediine emin misin?")&&(await mU(w),f())},v=async w=>{const x=n[w];if(x)await yU(x);else{const S={id:`${u}_${w}`,date:u,supplementId:w,taken:!0};await vU(S)}f()},y=t.length>0?Math.round(Object.keys(n).length/t.length*100):0;return p.jsxs("div",{className:"space-y-8 pb-20 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 bg-gradient-to-r from-violet-900/50 to-indigo-900/50 p-6 rounded-3xl border border-white/10 backdrop-blur-md shadow-2xl",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-3xl font-black bg-clip-text text-transparent bg-gradient-to-r from-violet-400 to-fuchsia-400 flex items-center gap-3",children:[p.jsx(uo,{className:"text-yellow-400 fill-yellow-400"}),"Supplement Stack"]}),p.jsx("p",{className:"text-violet-200 mt-2 font-medium",children:"Gnlk optimizasyon rutinin hazr ampiyon! "})]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"text-right hidden md:block",children:[p.jsx("p",{className:"text-xs font-bold text-violet-300 uppercase letter-spacing-wide",children:"Gnlk Hedef"}),p.jsxs("p",{className:`text-2xl font-black transition-colors ${y===100?"text-green-400":"text-white"}`,children:["%",y]})]}),p.jsxs("div",{className:"relative w-16 h-16 flex items-center justify-center",children:[p.jsxs("svg",{className:"w-full h-full transform -rotate-90 drop-shadow-[0_0_10px_rgba(139,92,246,0.5)]",children:[p.jsx("circle",{cx:"32",cy:"32",r:"28",fill:"transparent",stroke:"rgba(255,255,255,0.1)",strokeWidth:"6"}),p.jsx("circle",{cx:"32",cy:"32",r:"28",fill:"transparent",stroke:y===100?"#4ade80":"#a78bfa",strokeWidth:"6",strokeDasharray:175,strokeDashoffset:175-175*y/100,strokeLinecap:"round",className:"transition-all duration-700 ease-out"})]}),p.jsx(R1,{size:20,className:`absolute ${y===100?"text-green-400":"text-violet-300"}`})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:[p.jsxs("button",{onClick:()=>a(!0),className:"h-full min-h-[160px] border-2 border-dashed border-violet-500/30 rounded-3xl flex flex-col items-center justify-center text-violet-400 hover:text-violet-200 hover:border-violet-400 hover:bg-violet-500/10 transition-all group",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-violet-500/20 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:p.jsx(ir,{className:"w-6 h-6"})}),p.jsx("span",{className:"font-bold",children:"Yeni Supplement Ekle"})]}),t.map(w=>{const x=!!n[w.id];return p.jsxs("div",{cursor:"pointer",onClick:()=>v(w.id),className:`relative p-5 rounded-3xl border backdrop-blur-md transition-all duration-300 group cursor-pointer select-none overflow-hidden
                                ${x?"bg-emerald-900/30 border-emerald-500/50 shadow-[0_0_30px_rgba(16,185,129,0.2)] scale-[1.02]":"bg-card/40 border-white/5 hover:border-violet-500/50 hover:bg-card/60 hover:translate-y-[-2px] hover:shadow-xl"}
                            `,children:[x&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-transparent pointer-events-none"}),p.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`text-4xl filter drop-shadow-md transition-transform duration-300 ${x?"scale-110 rotate-12":"grayscale-[0.3]"}`,children:w.icon||""}),p.jsxs("div",{children:[p.jsx("h3",{className:`font-bold text-lg leading-tight ${x?"text-emerald-300":"text-white"}`,children:w.name}),p.jsx("p",{className:`text-xs font-medium mt-1 ${x?"text-emerald-400/70":"text-gray-400"}`,children:w.dosage})]})]}),p.jsx("button",{onClick:S=>m(w.id,S),className:"opacity-0 group-hover:opacity-100 p-2 text-gray-500 hover:text-red-400 hover:bg-red-500/10 rounded-full transition-all",children:p.jsx(On,{size:16})})]}),p.jsx("div",{className:"mt-6 flex items-center justify-between relative z-10",children:p.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ${x?"bg-emerald-500 text-black":"bg-white/5 text-gray-500"}`,children:[x?p.jsx(oM,{size:14,className:"stroke-[3]"}):p.jsx("div",{className:"w-3.5 h-3.5 rounded-full border-2 border-gray-600"}),x?"TAMAMLANDI":"BEKLYOR"]})})]},w.id)})]}),i&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>a(!1),children:p.jsxs("div",{className:"bg-[#1a1a1a] w-full max-w-sm rounded-3xl p-6 shadow-2xl border border-white/10",onClick:w=>w.stopPropagation(),children:[p.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-white",children:[p.jsx(ir,{className:"text-violet-500"}),"Yeni Supplement"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1 ml-1",children:"AD (rn: Kafein)"}),p.jsx("input",{value:o.name,onChange:w=>c({...o,name:w.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl focus:ring-2 focus:ring-violet-500 focus:border-transparent text-white placeholder:text-gray-600 outline-none transition-all",placeholder:"Supplement ad...",autoFocus:!0})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1 ml-1",children:"DOZ (5mg)"}),p.jsx("input",{value:o.dosage,onChange:w=>c({...o,dosage:w.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl focus:ring-2 focus:ring-violet-500 text-white placeholder:text-gray-600 outline-none",placeholder:"Dozaj..."})]}),p.jsxs("div",{className:"w-24",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1 ml-1",children:"KON"}),p.jsxs("select",{value:o.icon,onChange:w=>c({...o,icon:w.target.value}),className:"w-full px-2 py-3 bg-white/5 border border-white/10 rounded-2xl focus:ring-2 focus:ring-violet-500 text-2xl text-center outline-none cursor-pointer appearance-none",children:[p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""})]})]})]})]}),p.jsxs("div",{className:"flex gap-3 mt-8",children:[p.jsx("button",{onClick:()=>a(!1),className:"flex-1 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-2xl font-bold transition-colors",children:"Vazge"}),p.jsx("button",{onClick:h,className:"flex-1 py-3 bg-violet-600 hover:bg-violet-700 text-white rounded-2xl font-bold shadow-lg shadow-violet-500/25 transition-all",children:"Ekle"})]})]})})]})}function wle(){const[t,e]=A.useState([]),[n,r]=A.useState({protein:160,calories:2500,water:3e3}),[i,a]=A.useState(!1),[o,c]=A.useState({name:"",protein:"",calories:""});A.useEffect(()=>{h(),u()},[]);const u=()=>{const T=localStorage.getItem("fitness_macros");T&&r(JSON.parse(T))},f=T=>{r(T),localStorage.setItem("fitness_macros",JSON.stringify(T)),a(!1)},h=async()=>{const T=await NM(),k=new Date().toLocaleDateString("tr-TR"),N=T.filter(P=>new Date(P.date).toLocaleDateString("tr-TR")===k);e(N.sort((P,L)=>L.createdAt-P.createdAt))},m=async T=>{if(T.preventDefault(),!o.name)return;const k={id:Date.now().toString(),type:"meal",name:o.name,protein:parseInt(o.protein)||0,calories:parseInt(o.calories)||0,date:new Date().toISOString(),createdAt:Date.now()};await Yy(k),c({name:"",protein:"",calories:""}),h()},v=async T=>{const k={id:Date.now().toString(),type:"water",name:"Su",water:T,date:new Date().toISOString(),createdAt:Date.now()};await Yy(k),h()},y=async T=>{confirm("Silmek istediine emin misin?")&&(await bU(T),h())},w=t.filter(T=>T.type==="meal").reduce((T,k)=>T+(k.protein||0),0),x=t.filter(T=>T.type==="meal").reduce((T,k)=>T+(k.calories||0),0),S=t.filter(T=>T.type==="water").reduce((T,k)=>T+(k.water||0),0),_=(T,k)=>Math.min(T/k*100,100),C=[{name:"Yumurta (1 adet)",protein:6,calories:70},{name:"Tavuk Gs (100g)",protein:31,calories:165},{name:"Pirin Pilav (100g pimi)",protein:3,calories:130},{name:"Whey Protein (1 lek)",protein:24,calories:120},{name:"Yulaf Ezmesi (50g)",protein:6,calories:190},{name:"Muz (Orta)",protein:1,calories:105},{name:"Ton Bal (1 kutu)",protein:25,calories:150},{name:"Szme Peynir (100g)",protein:18,calories:90}],j=async T=>{const k={id:Date.now().toString(),type:"meal",name:T.name,protein:T.protein,calories:T.calories,date:new Date().toISOString(),createdAt:Date.now()};await Yy(k),h()};return p.jsxs("div",{className:"space-y-6 pb-20 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-green-500 to-lime-500",children:"Beslenme Takibi"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:new Date().toLocaleDateString("tr-TR",{weekday:"long",day:"numeric",month:"long"})})]}),p.jsx("button",{onClick:()=>a(!0),className:"p-2 bg-secondary/50 hover:bg-secondary rounded-xl transition-colors",children:p.jsx(C8,{className:"w-6 h-6 text-muted-foreground"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xs font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Hzl Ekle"}),p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:C.map((T,k)=>p.jsx("button",{onClick:()=>j(T),className:"flex-shrink-0 bg-secondary/50 hover:bg-green-500/10 hover:text-green-500 border border-transparent hover:border-green-500/50 rounded-xl px-4 py-2 text-sm font-medium transition-all",children:T.name},k))})]}),i&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:p.jsxs("div",{className:"bg-card w-full max-w-md rounded-2xl p-6 shadow-2xl space-y-4",children:[p.jsx("h3",{className:"text-xl font-bold",children:" Gnlk Hedefler"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Protein Hedefi (gr)"}),p.jsx("input",{type:"number",value:n.protein,onChange:T=>r({...n,protein:parseInt(T.target.value)}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kalori Limiti (kcal)"}),p.jsx("input",{type:"number",value:n.calories,onChange:T=>r({...n,calories:parseInt(T.target.value)}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Su Hedefi (ml)"}),p.jsx("input",{type:"number",value:n.water,onChange:T=>r({...n,water:parseInt(T.target.value)}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg"})]}),p.jsx("button",{onClick:()=>f(n),className:"w-full py-2 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl",children:"Kaydet"})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 relative overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-end mb-2 relative z-10",children:[p.jsxs("span",{className:"flex items-center gap-2 font-bold text-lg",children:[p.jsx(gm,{size:18,className:"text-orange-500"})," Protein"]}),p.jsxs("span",{className:"text-2xl font-black text-orange-500",children:[w," ",p.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["/ ",n.protein,"g"]})]})]}),p.jsx("div",{className:"h-3 w-full bg-secondary rounded-full overflow-hidden relative z-10",children:p.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${w>n.protein?"bg-red-500":"bg-orange-500"}`,style:{width:`${_(w,n.protein)}%`}})})]}),p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 relative overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-end mb-2 relative z-10",children:[p.jsxs("span",{className:"flex items-center gap-2 font-bold text-lg",children:[p.jsx(D1,{size:18,className:"text-yellow-500"})," Kalori"]}),p.jsxs("span",{className:"text-2xl font-black text-yellow-500",children:[x," ",p.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["/ ",n.calories]})]})]}),p.jsx("div",{className:"h-3 w-full bg-secondary rounded-full overflow-hidden relative z-10",children:p.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${x>n.calories?"bg-red-500":"bg-yellow-500"}`,style:{width:`${_(x,n.calories)}%`}})})]}),p.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 relative overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-end mb-2 relative z-10",children:[p.jsxs("span",{className:"flex items-center gap-2 font-bold text-lg",children:[p.jsx(Qb,{size:18,className:"text-blue-500"})," Su"]}),p.jsxs("span",{className:"text-2xl font-black text-blue-500",children:[(S/1e3).toFixed(1)," ",p.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["/ ",(n.water/1e3).toFixed(1)," L"]})]})]}),p.jsx("div",{className:"h-3 w-full bg-secondary rounded-full overflow-hidden relative z-10",children:p.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-1000",style:{width:`${_(S,n.water)}%`}})}),p.jsxs("div",{className:"flex gap-2 mt-3 relative z-10",children:[p.jsx("button",{onClick:()=>v(200),className:"flex-1 py-1 text-xs bg-blue-500/10 hover:bg-blue-500/20 text-blue-500 font-bold rounded-lg transition-colors",children:"+200ml"}),p.jsx("button",{onClick:()=>v(500),className:"flex-1 py-1 text-xs bg-blue-500/10 hover:bg-blue-500/20 text-blue-500 font-bold rounded-lg transition-colors",children:"+500ml"})]})]})]}),p.jsx("div",{className:"bg-card border border-border rounded-2xl p-4",children:p.jsxs("form",{onSubmit:m,className:"flex flex-col md:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"block text-xs font-medium mb-1",children:"Yemek Ad"}),p.jsx("input",{value:o.name,onChange:T=>c({...o,name:T.target.value}),placeholder:"rn: 2 Yumurta + Yulaf",className:"w-full px-3 py-2 bg-background border border-border rounded-xl focus:ring-2 focus:ring-green-500",required:!0})]}),p.jsxs("div",{className:"w-full md:w-24",children:[p.jsx("label",{className:"block text-xs font-medium mb-1",children:"Prot (g)"}),p.jsx("input",{type:"number",value:o.protein,onChange:T=>c({...o,protein:T.target.value}),placeholder:"0",className:"w-full px-3 py-2 bg-background border border-border rounded-xl focus:ring-2 focus:ring-green-500"})]}),p.jsxs("div",{className:"w-full md:w-24",children:[p.jsx("label",{className:"block text-xs font-medium mb-1",children:"Kal (kcal)"}),p.jsx("input",{type:"number",value:o.calories,onChange:T=>c({...o,calories:T.target.value}),placeholder:"0",className:"w-full px-3 py-2 bg-background border border-border rounded-xl focus:ring-2 focus:ring-green-500"})]}),p.jsxs("button",{type:"submit",className:"w-full md:w-auto px-6 py-2.5 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[p.jsx(ir,{size:18})," Ekle"]})]})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h3",{className:"text-lg font-bold flex items-center gap-2",children:"Bugnn Kaytlar"}),t.length===0?p.jsx("div",{className:"text-center py-8 text-muted-foreground bg-secondary/20 rounded-2xl border border-dashed border-border",children:"Bugn henz bir ey yemedin (veya girmedin). "}):p.jsx("div",{className:"space-y-2",children:t.map(T=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-card border border-border rounded-xl hover:scale-[1.01] transition-transform",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${T.type==="water"?"bg-blue-500/10 text-blue-500":"bg-green-500/10 text-green-500"}`,children:T.type==="water"?p.jsx(Qb,{size:20}):p.jsx(gm,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold",children:T.name}),p.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(T.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[T.type==="meal"&&p.jsxs("div",{className:"text-right text-sm",children:[p.jsxs("span",{className:"block font-bold text-orange-500",children:[T.protein,"g Prot"]}),p.jsxs("span",{className:"block font-medium text-muted-foreground",children:[T.calories," kcal"]})]}),T.type==="water"&&p.jsxs("span",{className:"font-bold text-blue-500",children:[T.water,"ml"]}),p.jsx("button",{onClick:()=>y(T.id),className:"p-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg",children:p.jsx(On,{size:18})})]})]},T.id))})]})]})}const _l={stock:{key:"stock",label:"Hisse Senedi",color:"#3b82f6",icon:ni},fund:{key:"fund",label:"Yatrm Fonu",color:"#10b981",icon:sM},commodity:{key:"commodity",label:"Altn & Dviz",color:"#f59e0b",icon:m6},bond:{key:"bond",label:"Tahvil & Bono",color:"#8b5cf6",icon:M6}},RP=[{symbol:"THYAO",shortname:"TURK HAVA YOLLARI"},{symbol:"ASELS",shortname:"ASELSAN"},{symbol:"GARAN",shortname:"GARANTI BANKASI"},{symbol:"AKBNK",shortname:"AKBANK"},{symbol:"ISCTR",shortname:"IS BANKASI (C)"},{symbol:"SISE",shortname:"SISE CAM"},{symbol:"KCHOL",shortname:"KOC HOLDING"},{symbol:"SAHOL",shortname:"SABANCI HOLDING"},{symbol:"TUPRS",shortname:"TUPRAS"},{symbol:"EREGL",shortname:"EREGLI DEMIR CELIK"},{symbol:"BIMAS",shortname:"BIM MAGAZALAR"},{symbol:"FROTO",shortname:"FORD OTOSAN"},{symbol:"TOASO",shortname:"TOFAS OTO. FAB."},{symbol:"TCELL",shortname:"TURKCELL"},{symbol:"TTKOM",shortname:"TURK TELEKOM"},{symbol:"PETKM",shortname:"PETKIM"},{symbol:"EKGYO",shortname:"EMLAK KONUT GMYO"},{symbol:"VESTL",shortname:"VESTEL"},{symbol:"ARCLK",shortname:"ARCELIK"},{symbol:"PGSUS",shortname:"PEGASUS"},{symbol:"ASTOR",shortname:"ASTOR ENERJI"},{symbol:"SASA",shortname:"SASA POLYESTER"},{symbol:"HEKTS",shortname:"HEKTAS"},{symbol:"ENKAI",shortname:"ENKA INSAAT"}],LP=[{code:"AFT",name:"AK PORTFY YEN TEKNOLOJLER",type:"Hisse"},{code:"IDL",name:"IDEALIST PARA PIYASASI",type:"Para Piyasas"},{code:"MAC",name:"MARMARA CAPITAL HSSE",type:"Hisse"},{code:"TTE",name:" PORTFY TEKNOLOJ",type:"Hisse"}],Sle=["USD","EUR","GBP","CAD","CHF","JPY","GRAM ALTIN","ONS ALTIN","GM","BITCOIN"];function Ale(){const[t,e]=A.useState([]),[n,r]=A.useState("stock"),[i,a]=A.useState({}),[o,c]=A.useState(!1),[u,f]=A.useState({show:!1,message:"",type:"success"}),[h,m]=A.useState("TRY"),[v,y]=A.useState({USD:35,BTC:1e5,EUR:38,GBP:44,CAD:25,XAU:2980}),[w,x]=A.useState(!1),[S,_]=A.useState("stock"),[C,j]=A.useState(null),[T,k]=A.useState(""),[N,P]=A.useState({code:"",lots:"",price:""}),[L,B]=A.useState({code:"",units:"",price:""}),[H,z]=A.useState({type:"USD",amount:"",price:""}),[$,ne]=A.useState({name:"",maturityDate:"",interestRate:"",principal:""}),[Q,ie]=A.useState([]),[M,I]=A.useState([]),[G,R]=A.useState(!1),[oe,F]=A.useState([]),[V,ce]=A.useState(!1),ue=re=>F(xe=>[`[${new Date().toLocaleTimeString()}] ${re}`,...xe].slice(0,50));A.useEffect(()=>{ge(),Ee()},[]);const ge=async()=>{const re=await SU();e(re)},Ee=async()=>{try{const xe=await(await fetch("https://api.exchangerate-api.com/v4/latest/USD")).json(),je=xe.rates.TRY,Qe={USD:je,EUR:je/xe.rates.EUR,GBP:je/xe.rates.GBP,CAD:je/xe.rates.CAD,CHF:je/xe.rates.CHF,JPY:je/xe.rates.JPY,BTC:1,XAU:2980},Be=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd")).json();Qe.BTC=Be.bitcoin.usd,y(Qe)}catch(re){console.error(re)}},he=async re=>{if(R(!0),!re){ie(RP.slice(0,50).map(Qe=>({...Qe,exchange:"IST"}))),R(!1);return}const xe=re.toUpperCase(),je=RP.filter(Qe=>Qe.symbol.includes(xe)||Qe.shortname.includes(xe)).map(Qe=>({...Qe,exchange:"IST"}));if(je.length>0){ie(je),R(!1);return}ie([{symbol:xe,shortname:"zel Giri",exchange:"?"}]),R(!1)},lt=re=>{if(R(!0),!re){I(LP),R(!1);return}const xe=re.toUpperCase(),je=LP.filter(Qe=>Qe.code.includes(xe)||Qe.name.includes(xe));I(je),R(!1)},te=re=>{if(!re)return NaN;let xe=re.replace(/[^0-9,.]/g,"");return xe=xe.replace(/\./g,""),xe=xe.replace(",","."),parseFloat(xe)},Te=async(re,xe)=>{ue(` ${xe} Hesaplanyor...`);const je=[Be=>`https://api.allorigins.win/raw?url=${encodeURIComponent(Be)}`,Be=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(Be)}`,Be=>`https://cors-anywhere.herokuapp.com/${Be}`],Qe=async Be=>{const Ze=`https://query1.finance.yahoo.com/v8/finance/chart/${Be}?interval=1d&range=1d`;for(const ct of je)try{const It=await fetch(ct(Ze));if(It.ok){const Qn=(await It.json()).chart?.result?.[0]?.meta?.regularMarketPrice;if(Qn)return Qn}}catch{}return null},Me=Array.isArray(re)?re:[re];try{const Be=await Qe("TRY=X");if(!Be)throw new Error("Dolar Kuru (TRY=X) alnamad");for(const Ze of Me){const ct=await Qe(Ze);if(ct){const It=ct*Be/31.1035;return ue(` ${xe} (${Ze}): ${It.toFixed(2)} TL`),{price:It,change:0}}}throw new Error(`Veri alnamad: ${Me.join(", ")}`)}catch(Be){return ue(` ${xe} Hatas: ${Be.message}`),null}},Oe=()=>Te(["XAUUSD=X","GC=F"],"Gram Altn"),de=()=>Te(["XAGUSD=X","SI=F"],"Gram Gm"),Nt=async(re,xe)=>{if(re==="GRAM ALTIN"||re==="GRAMALTIN"){try{const Be=new AbortController,Ze=setTimeout(()=>Be.abort(),2e3),ct=await fetch("https://finans.truncgil.com/today.json",{signal:Be.signal}).catch(()=>null);if(clearTimeout(Ze),ct&&ct.ok){const It=await ct.json();if(It&&It["gram-altin"]){const Qt=te(It["gram-altin"].Sat);if(Qt>0)return ue(` Gram Altn (API): ${Qt.toFixed(2)} TL`),{price:Qt,change:0}}}}catch{}return await Oe()}if(re==="GM"||re==="SILVER"||re==="GRAM GM")return await de();let je=re.toUpperCase().replace(".IS","");je==="USD"?je="TRY=X":je==="EUR"?je="EURTRY=X":je==="ONS ALTIN"?je="XAUUSD=X":je==="BITCOIN"?je="BTC-USD":!je.includes("=")&&!je.includes(".")&&/^[A-Z0-9]{4,6}$/.test(je)?je=je+".IS":re.includes(".IS")&&(je=re),ue(` Fetching ${je}...`);const Qe=`https://query1.finance.yahoo.com/v8/finance/chart/${je}?interval=1d&range=1d`,Me=["https://cors-anywhere.herokuapp.com/","https://api.allorigins.win/raw?url="];for(const Be of Me)try{const Ze=Be.includes("url=")?Be+encodeURIComponent(Qe):Be+Qe,ct=await fetch(Ze,{headers:{Origin:window.location.origin}});if(!ct.ok)throw new Error("Status "+ct.status);const Qt=(await ct.json()).chart?.result?.[0];if(!Qt)continue;const Qn=Qt.meta,Zn=Qn.regularMarketPrice,zr=Qn.chartPreviousClose,Hn=(Zn-zr)/zr*100;return ue(` ${je} OK: ${Zn}`),{price:Zn,change:Hn}}catch(Ze){ue(` Attempt Failed: ${Ze.message} (${Be.substr(0,15)})`)}return ue(` ALL FETCHES FAILED for ${je}`),null},Ue=async()=>{c(!0),ue(" Update Started...");const re=[...t];let xe=!1;const je=re.filter(Me=>(Me.type==="stock"||Me.type==="commodity")&&!Me.isManual);for(const Me of je){const Be=await Nt(Me.symbol,Me.type);Be&&Be.price>0&&(Me.currentPrice=Be.price,xe=!0)}const Qe=re.filter(Me=>Me.type==="fund"&&!Me.isManual);for(const Me of Qe){ue(` Fund: ${Me.symbol}`);let Be=!1,Ze=0;const ct=[`https://cors-anywhere.herokuapp.com/https://www.tefas.gov.tr/FonAnaliz.aspx?FonKod=${Me.symbol}`,`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(`https://www.tefas.gov.tr/FonAnaliz.aspx?FonKod=${Me.symbol}`)}`,`https://api.allorigins.win/raw?url=${encodeURIComponent(`http://bigpara.hurriyet.com.tr/borsa/yatirim-fonlari/fon-detay-bilgileri/${Me.symbol}/`)}`];for(const It of ct){if(Be)break;try{const Qt=await fetch(It,{headers:{Origin:window.location.origin}});if(!Qt.ok)continue;const Qn=await Qt.text(),Zn=/id="MainContent_PanelInfo_LabelPrice"[^>]*>([^<]+)</,zr=/class="value[^"]*">\s*([0-9.,]+)\s*</;let Hn=Qn.match(Zn)||Qn.match(zr);if(Hn&&Hn[1]){const Ds=te(Hn[1]);!isNaN(Ds)&&Ds>0&&(Ze=Ds,Be=!0)}}catch{}}Be?(Me.currentPrice=Ze,xe=!0,ue(` Fund OK: ${Me.symbol}`)):ue(` Fund Failed: ${Me.symbol}`)}xe?(re.forEach(Me=>bl(Me)),e(re),rt("Fiyatlar gncellendi")):rt("Gncelleme tamamland (Deiiklik yok veya hata)","warning"),c(!1),ue(" Update Finished")},rt=(re,xe="success")=>{f({show:!0,message:re,type:xe}),setTimeout(()=>f({show:!1,message:"",type:"success"}),4e3)},qt=re=>{j(re.id),k(re.currentPrice)},or=async re=>{const xe=parseFloat(T);isNaN(xe)||(re.currentPrice=xe,re.isManual=!0,await bl(re),ge(),j(null),rt("Fiyat el ile sabitlendi "))},ui=async re=>{window.confirm("Silinsin mi?")&&(await AU(re),ge())},$a=async()=>{if(!N.code||!N.lots||!N.price)return rt("Eksik bilgi","error");let re=N.code.toUpperCase();await bl({id:Date.now().toString(),type:"stock",symbol:re,quantity:parseFloat(N.lots),purchasePrice:parseFloat(N.price),currentPrice:parseFloat(N.price),isManual:!1,createdAt:new Date().toISOString()}),P({code:"",lots:"",price:""}),ie([]),R(!1),x(!1),ge(),rt("Hisse eklendi")},Ms=async()=>{if(!L.code||!L.units||!L.price)return rt("Eksik bilgi","error");await bl({id:Date.now().toString(),type:"fund",symbol:L.code.toUpperCase(),category:"Yatrm Fonu",quantity:parseFloat(L.units),purchasePrice:parseFloat(L.price),currentPrice:parseFloat(L.price),isManual:!1,createdAt:new Date().toISOString()}),B({code:"",units:"",price:""}),I([]),R(!1),x(!1),ge(),rt("Fon eklendi")},Ha=async()=>{if(!H.type||!H.amount||!H.price)return rt("Eksik bilgi","error");await bl({id:Date.now().toString(),type:"commodity",symbol:H.type,quantity:parseFloat(H.amount),purchasePrice:parseFloat(H.price),currentPrice:parseFloat(H.price),isManual:!1,createdAt:new Date().toISOString()}),z({type:"USD",amount:"",price:""}),x(!1),ge(),rt("Varlk eklendi")},ee=async()=>{if(!$.name||!$.principal)return rt("Eksik bilgi","error");await bl({id:Date.now().toString(),type:"bond",symbol:$.name,maturityDate:$.maturityDate,interestRate:$.interestRate,quantity:1,purchasePrice:parseFloat($.principal),currentPrice:parseFloat($.principal),isManual:!1,createdAt:new Date().toISOString()}),ne({name:"",maturityDate:"",interestRate:"",principal:""}),x(!1),ge(),rt("Bono eklendi")},Ae=t.reduce((re,xe)=>re+xe.quantity*xe.purchasePrice,0),Pe=t.reduce((re,xe)=>re+xe.quantity*xe.currentPrice,0),Lt=Pe-Ae,Xn=Ae>0?Lt/Ae*100:0,_i=re=>h==="USD"?re/v.USD:h==="BTC"?re/v.USD/v.BTC:re,Ci=_i(Pe),ji=_i(Lt),Qi=re=>h==="BTC"?`${re.toFixed(6)}`:h==="USD"?`$${re.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`${re.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,of={stock:t.filter(re=>re.type==="stock"),fund:t.filter(re=>re.type==="fund"),commodity:t.filter(re=>re.type==="commodity"),bond:t.filter(re=>re.type==="bond")};return Object.keys(_l).map(re=>{const xe=of[re].reduce((je,Qe)=>je+Qe.quantity*Qe.currentPrice,0);return{name:_l[re].label,value:xe,color:_l[re].color}}).filter(re=>re.value>0),p.jsxs("div",{className:"min-h-screen pb-20 animate-in fade-in duration-500 space-y-8",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsx("div",{className:"lg:col-span-4 space-y-6",children:p.jsxs("div",{className:"bg-gradient-to-br from-emerald-900/40 to-blue-900/40 border border-white/10 rounded-3xl p-8 backdrop-blur-xl relative overflow-hidden shadow-2xl group min-h-[300px] flex flex-col justify-center",children:[p.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(tx,{size:150})}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx("div",{className:"flex justify-center gap-2 mb-4",children:["TRY","USD","BTC"].map(re=>p.jsx("button",{onClick:()=>m(re),className:`px-3 py-1.5 text-xs font-bold rounded-lg transition-colors ${h===re?"bg-white text-black":"text-muted-foreground hover:bg-white/10"}`,children:re},re))}),p.jsx("p",{className:"text-sm font-bold text-gray-400 tracking-widest mb-3",children:"TOPLAM VARLIK"}),p.jsx("h2",{className:"text-5xl font-black text-white tracking-tighter drop-shadow-lg mb-6 leading-tight",children:Qi(Ci)}),p.jsxs("div",{className:"flex flex-col items-center gap-1",children:[p.jsx("span",{className:"text-[10px] uppercase font-bold text-muted-foreground tracking-widest",children:"TOPLAM KAR/ZARAR"}),p.jsxs("div",{className:`inline-flex items-center gap-2 px-6 py-3 rounded-2xl text-2xl font-black border ${Lt>=0?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-red-500/10 border-red-500/20 text-red-500"}`,children:[Lt>=0?p.jsx(ni,{size:24}):p.jsx(em,{size:24}),Lt>=0?"+":"",Qi(ji),p.jsxs("span",{className:Lt>=0?"text-emerald-500/70 text-lg ml-2 font-bold":"text-red-500/70 text-lg ml-2 font-bold",children:["%",Xn.toFixed(2)]})]})]})]})]})}),p.jsx("div",{className:"lg:col-span-8",children:p.jsxs("div",{className:"bg-card border border-border rounded-3xl overflow-hidden shadow-xl h-full flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-border bg-white/5 flex justify-between items-center",children:[p.jsxs("h3",{className:"font-bold flex items-center gap-2 text-xl",children:[p.jsx(sM,{className:"text-primary"})," PORTFY DAILIMI"]}),p.jsxs("button",{onClick:Ue,className:"p-2 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-2 text-xs font-bold bg-white/5",title:"Fiyatlar nternetten ek",children:[p.jsx(Il,{size:16,className:o?"animate-spin":""})," FYATLARI GNCELLE"]})]}),p.jsx("div",{className:"divide-y divide-border overflow-y-auto custom-scrollbar flex-1",children:Object.keys(_l).map(re=>{const xe=_l[re],je=of[re],Qe=je.reduce((Be,Ze)=>Be+Ze.quantity*Ze.currentPrice,0),Me=n===re;return p.jsxs("div",{className:"bg-card transition-all group",children:[p.jsxs("button",{onClick:()=>r(Me?null:re),className:`w-full flex items-center justify-between p-6 hover:bg-secondary/30 transition-colors ${Me?"bg-secondary/10":""}`,children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-gray-800 to-black border border-white/5 shadow-inner group-hover:scale-110 transition-transform",children:p.jsx(xe.icon,{size:28,style:{color:xe.color}})}),p.jsxs("div",{className:"text-left",children:[p.jsx("h4",{className:"font-bold text-xl",children:xe.label}),p.jsxs("p",{className:"text-sm text-muted-foreground font-medium",children:[je.length," varlk"]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"font-black text-xl tracking-tight",children:["",Qe.toLocaleString("tr-TR",{maximumFractionDigits:2})]}),Me?p.jsx(xC,{className:"ml-auto text-muted-foreground mt-1"}):p.jsx(Yb,{className:"ml-auto text-muted-foreground mt-1"})]})]}),Me&&p.jsxs("div",{className:"bg-black/20 p-6 animate-in slide-in-from-top-2 border-t border-b border-white/5",children:[p.jsxs("button",{onClick:()=>{_(re),x(!0)},className:"w-full py-3 mb-4 border-2 border-dashed border-white/10 rounded-xl flex items-center justify-center gap-2 font-bold text-muted-foreground hover:text-white hover:border-primary/50 hover:bg-white/5 transition-all",children:[p.jsx(ir,{size:18})," Yeni ",xe.label," Ekle"]}),p.jsx("div",{className:"grid gap-3",children:(()=>{const Be={};return je.forEach(Ze=>{const ct=Ze.symbol;Be[ct]||(Be[ct]=[]),Be[ct].push(Ze)}),Object.keys(Be).map(Ze=>{const ct=Be[Ze],It=ct.reduce((Et,fi)=>Et+fi.quantity,0),Qt=ct.reduce((Et,fi)=>Et+fi.quantity*fi.purchasePrice,0),Qn=It>0?Qt/It:0,Zn=ct[0].currentPrice,zr=It*Zn,Hn=zr-Qt,Ds=Qt>0?Hn/Qt*100:0;let Do="text-white";Ze.includes("ALTIN")||Ze.includes("XAU")?Do="text-amber-400":(Ze.includes("GM")||Ze.includes("SILVER")||Ze.includes("XAG"))&&(Do="text-slate-300");const di=ct.length>1,qa=!!i[Ze];return p.jsxs("div",{className:"bg-background/50 border border-white/5 rounded-xl transition-all hover:border-white/20 overflow-hidden",children:[p.jsxs("div",{className:`p-4 flex justify-between items-center cursor-pointer ${di?"hover:bg-white/5":""}`,onClick:()=>di&&a(Et=>({...Et,[Ze]:!Et[Ze]})),children:[p.jsxs("div",{children:[p.jsxs("div",{className:`font-bold text-lg flex items-center gap-2 ${Do}`,children:[Ze.replace(".IS",""),di&&p.jsxs("span",{className:"text-[10px] bg-white/10 px-1.5 py-0.5 rounded text-muted-foreground",children:[ct.length," Kayt"]}),di&&(qa?p.jsx(xC,{size:14,className:"text-muted-foreground"}):p.jsx(Yb,{size:14,className:"text-muted-foreground"})),!di&&ct[0].isManual&&p.jsx(EC,{size:12,className:"text-amber-500"})]}),p.jsxs("div",{className:"text-xs text-muted-foreground font-mono mt-0.5",children:[It," adet  Ort: ",Qn.toFixed(2)]})]}),p.jsxs("div",{className:"text-right flex items-center gap-4",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"font-bold text-white",children:["",zr.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),p.jsxs("div",{className:`text-xs font-bold ${Hn>=0?"text-emerald-500":"text-red-500"}`,children:[Hn>=0?"+":"","",Hn.toLocaleString("tr-TR",{minimumFractionDigits:2})," (%",Ds.toFixed(1),")"]})]}),!di&&p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:Et=>{Et.stopPropagation(),qt(ct[0])},className:"p-1.5 hover:bg-white/10 rounded text-muted-foreground hover:text-white",children:p.jsx(Hu,{size:14})}),p.jsx("button",{onClick:Et=>{Et.stopPropagation(),ui(ct[0].id)},className:"p-1.5 hover:bg-red-500/20 text-muted-foreground hover:text-red-400 rounded",children:p.jsx(On,{size:14})})]})]})]}),qa&&di&&p.jsx("div",{className:"bg-black/20 border-t border-white/5 animate-in slide-in-from-top-1",children:ct.map(Et=>{const fi=Et.quantity*Et.currentPrice-Et.quantity*Et.purchasePrice,lf=C===Et.id;return p.jsxs("div",{className:"flex justify-between items-center p-3 pl-6 border-b border-white/5 last:border-0 hover:bg-white/5 text-sm transition-colors",children:[p.jsxs("div",{className:"text-muted-foreground text-xs",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[" ",new Date(Et.createdAt).toLocaleDateString("tr-TR")," ",Et.isManual&&p.jsx(EC,{size:10,className:"text-amber-500"})]}),p.jsxs("div",{className:"font-mono",children:[Et.quantity," ad. @ ",Et.purchasePrice.toFixed(2)]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[lf?p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("input",{className:"w-20 bg-black border border-gray-600 rounded px-1 text-right text-xs text-white",type:"number",value:T,onChange:cf=>k(cf.target.value),autoFocus:!0}),p.jsx("button",{onClick:()=>or(Et),className:"text-emerald-500",children:p.jsx(oM,{size:14})})]}):p.jsxs("div",{className:`text-xs font-bold ${fi>=0?"text-emerald-500/70":"text-red-500/70"}`,children:[fi>=0?"+":"","",fi.toFixed(1)]}),p.jsxs("div",{className:"flex gap-1 ml-2 opacity-50 hover:opacity-100",children:[p.jsx("button",{onClick:()=>qt(Et),className:"p-1 text-white",children:p.jsx(Hu,{size:12})}),p.jsx("button",{onClick:()=>ui(Et.id),className:"p-1 text-red-400",children:p.jsx(On,{size:12})})]})]})]},Et.id)})})]},Ze)})})()})]})]},re)})})]})})]}),w&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>x(!1),children:p.jsxs("div",{className:"bg-card w-full max-w-md rounded-3xl border border-border p-8 shadow-2xl animate-in zoom-in-95 relative max-h-[90vh] overflow-y-auto custom-scrollbar",onClick:re=>re.stopPropagation(),children:[p.jsx("button",{onClick:()=>x(!1),className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-lg text-muted-foreground hover:text-white transition-colors",children:p.jsx(bn,{size:20})}),p.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-primary/20 rounded-lg text-primary",children:p.jsx(ir,{})})," Yeni ",_l[S].label]}),p.jsxs("div",{className:"space-y-4",children:[S==="stock"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"HSSE KODU ARA"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{value:N.code,onChange:re=>{const xe=re.target.value.toUpperCase();P({...N,code:xe}),he(xe)},onFocus:()=>{N.code||he("")},placeholder:"rn: THYAO",className:"w-full pl-10 pr-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"}),p.jsx(pm,{className:"absolute left-3 top-3.5 text-muted-foreground",size:18}),G&&p.jsx(Il,{className:"absolute right-3 top-3.5 animate-spin text-muted-foreground",size:18})]}),Q.length>0&&p.jsx("div",{className:"bg-black/40 border border-white/5 rounded-xl mt-2 max-h-40 overflow-y-auto",children:Q.map((re,xe)=>p.jsxs("div",{onClick:()=>{P({...N,code:re.symbol}),ie([])},className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/5 last:border-0 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-sm text-white",children:re.symbol.replace(".IS","")}),p.jsx("div",{className:"text-xs text-muted-foreground",children:re.shortname})]}),p.jsx("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:re.exchange})]},xe))})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"ADET"}),p.jsx("input",{type:"number",value:N.lots,onChange:re=>P({...N,lots:re.target.value}),placeholder:"0",className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"MALYET ()"}),p.jsx("input",{type:"number",value:N.price,onChange:re=>P({...N,price:re.target.value}),placeholder:"0.00",className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"})]})]}),p.jsx("button",{onClick:$a,className:"w-full py-4 mt-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl font-bold shadow-lg shadow-primary/20 transition-all",children:"Varl Portfye Ekle"})]}),S==="fund"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"FON KODU (TEFAS / MYNET)"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{value:L.code,onChange:re=>{const xe=re.target.value.toUpperCase();B({...L,code:xe}),lt(xe)},onFocus:()=>{L.code||lt("")},placeholder:"rn: AFT",className:"w-full pl-10 pr-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"}),p.jsx(pm,{className:"absolute left-3 top-3.5 text-muted-foreground",size:18}),G&&p.jsx(Il,{className:"absolute right-3 top-3.5 animate-spin text-muted-foreground",size:18})]}),p.jsx("div",{className:"text-[10px] text-muted-foreground mt-1 ml-1",children:"*Listede yoksa kodu elle yazn (rn: IDL), otomatik ekilir."}),M.length>0&&p.jsx("div",{className:"bg-black/40 border border-white/5 rounded-xl mt-2 max-h-40 overflow-y-auto",children:M.map((re,xe)=>p.jsxs("div",{onClick:()=>{B({...L,code:re.code}),I([])},className:"p-3 hover:bg-white/10 cursor-pointer border-b border-white/5 last:border-0 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-sm text-white",children:re.code}),p.jsx("div",{className:"text-xs text-muted-foreground",children:re.name})]}),p.jsx("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:re.type})]},xe))})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"ADET (Pay)"}),p.jsx("input",{type:"number",value:L.units,onChange:re=>B({...L,units:re.target.value}),placeholder:"0",className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"ALIM FYATI ()"}),p.jsx("input",{type:"number",value:L.price,onChange:re=>B({...L,price:re.target.value}),placeholder:"0.00",className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"})]})]}),p.jsx("button",{onClick:Ms,className:"w-full py-4 mt-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl font-bold shadow-lg shadow-primary/20 transition-all",children:"Fonu Ekle"})]}),S==="commodity"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"VARLIK TR"}),p.jsx("select",{value:H.type,onChange:re=>z({...H,type:re.target.value}),className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary appearance-none",children:Sle.map(re=>p.jsx("option",{value:re,children:re},re))})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"MKTAR"}),p.jsx("input",{type:"number",value:H.amount,onChange:re=>z({...H,amount:re.target.value}),placeholder:"0",className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"MALYET ()"}),p.jsx("input",{type:"number",value:H.price,onChange:re=>z({...H,price:re.target.value}),placeholder:"0.00",className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"})]})]}),p.jsx("button",{onClick:Ha,className:"w-full py-4 mt-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl font-bold shadow-lg shadow-primary/20 transition-all",children:"Varlk Ekle"})]}),S==="bond"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"TAHVL/BONO ADI"}),p.jsx("input",{value:$.name,onChange:re=>ne({...$,name:re.target.value}),placeholder:"rn: Hazine Bonosu TRT...",className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"VADE TARH"}),p.jsx("input",{type:"date",value:$.maturityDate,onChange:re=>ne({...$,maturityDate:re.target.value}),className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"ANAPARA ()"}),p.jsx("input",{type:"number",value:$.principal,onChange:re=>ne({...$,principal:re.target.value}),placeholder:"0.00",className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-muted-foreground ml-1",children:"FAZ ORANI (%)"}),p.jsx("input",{type:"number",value:$.interestRate,onChange:re=>ne({...$,interestRate:re.target.value}),placeholder:"45",className:"w-full px-4 py-3 bg-secondary rounded-xl font-bold focus:outline-none focus:ring-2 focus:ring-primary placeholder:font-normal"})]})]}),p.jsx("button",{onClick:ee,className:"w-full py-4 mt-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl font-bold shadow-lg shadow-primary/20 transition-all",children:"Bono Ekle"})]})]})]})}),u.show&&p.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 px-8 py-4 rounded-2xl border font-bold shadow-2xl animate-in slide-in-from-bottom duration-300 z-50 text-center min-w-[300px] backdrop-blur-md ${u.type==="error"?"bg-red-500/20 border-red-500 text-red-500":"bg-emerald-500/20 border-emerald-500 text-emerald-400"}`,children:u.message})]})}go.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${b5}/pdf.worker.min.js`;const Ele=[{name:"Investing Piyasa",url:"https://tr.investing.com/rss/market_overview.rss"},{name:"Bigpara",url:"https://www.bigpara.com/rss/"},{name:"Bloomberg HT",url:"https://www.bloomberght.com/rss"},{name:"Foreks",url:"https://www.foreks.com/rss"}],_le=[t=>`https://api.allorigins.win/get?url=${encodeURIComponent(t)}`,t=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(t)}`,t=>`https://corsproxy.io/?${encodeURIComponent(t)}`];function Cle(){const[t,e]=A.useState([]),[n,r]=A.useState(!1),[i,a]=A.useState("live"),[o,c]=A.useState([]),[u,f]=A.useState(!1),[h,m]=A.useState(null),[v,y]=A.useState(!1),[w,x]=A.useState({show:!1,message:"",type:"success"}),[S,_]=A.useState({});A.useEffect(()=>{T(),k()},[]);const C=(z,$="success")=>{x({show:!0,message:z,type:$}),setTimeout(()=>x({show:!1,message:"",type:"success"}),3e3)},j=async z=>{for(const $ of _le)try{const ne=$(z),Q=new AbortController,ie=setTimeout(()=>Q.abort(),5e3),M=await fetch(ne,{signal:Q.signal});if(clearTimeout(ie),!M.ok)continue;const I=await M.json(),G=I.contents||I,oe=new DOMParser().parseFromString(G,"text/xml"),F=Array.from(oe.querySelectorAll("item"));if(F.length>0)return F}catch(ne){console.warn("Proxy failed:",ne);continue}return[]},T=async()=>{r(!0);try{const z=[];if(await Promise.all(Ele.map(async $=>{const Q=(await j($.url)).map(ie=>{const M=ie.querySelector("title")?.textContent||"",I=ie.querySelector("description")?.textContent?.replace(/<[^>]*>/g,"")||"",G=["borsa","hisse","dolar","altn","piyasa","faiz","enflasyon","tcmb","fed","ekonomi"],R=(M+" "+I).toLowerCase();return G.some(F=>R.includes(F))?{source:$.name,title:M,link:ie.querySelector("guid")?.textContent||ie.querySelector("link")?.textContent,pubDate:ie.querySelector("pubDate")?.textContent,description:I.slice(0,150)+(I.length>150?"...":"")}:null}).filter(Boolean).slice(0,5);z.push(...Q)})),z.sort(($,ne)=>new Date(ne.pubDate)-new Date($.pubDate)),z.length===0)throw new Error("Haber bulunamad");e(z),C("Piyasa haberleri gncellendi")}catch(z){console.error("Feed Error",z),C("Haber ak alnamad. nternet balantnz kontrol edin.","error"),t.length===0&&e([{source:"Sistem",title:"Haber Kaynaklarna Eriilemiyor",pubDate:new Date().toUTCString(),description:"Vekil sunucular yant vermiyor veya internet balants yok. Daha sonra tekrar deneyin."}])}finally{r(!1)}},k=async()=>{const z=await I1();c(z.filter($=>["Finans","Ekonomi","Borsa","Kripto","Altn","Dviz","Rapor"].includes($.category)||$.category==="Dier"))},N=async z=>{const $=await z.arrayBuffer(),ne=await QS({data:$}).promise;let Q="";for(let ie=1;ie<=ne.numPages;ie++){const G=(await(await ne.getPage(ie)).getTextContent()).items.map(R=>R.str).join(" ");Q+=G+" "}return Q},P=async z=>{y(!0);try{let $=z.manualSummary||"";if(z.pdfFile&&!$)try{$=await N(z.pdfFile)}catch{$="PDF ierii okunamad. Ltfen manuel zet girin."}const ne={id:Date.now().toString(),title:z.title,category:z.category,content:$,type:"report",createdAt:new Date().toISOString(),manualSummary:z.manualSummary,fileName:z.pdfFile?.name,fileData:z.pdfFile};await nm(ne),await k(),f(!1),C("Dosya yklendi ve ilendi ")}catch($){C("Ykleme hatas: "+$.message,"error")}finally{y(!1)}},L=async(z,$)=>{$.stopPropagation(),window.confirm("Bu raporu silmek istediine emin misin?")&&(await bM(z),await k(),C("Rapor silindi"))},B=z=>{if(z.fileData){const $=URL.createObjectURL(z.fileData);window.open($,"_blank")}else C("PDF verisi bulunamad.","error")},H=async(z,$)=>{if(!z.content||z.content.length<50){C("erik ok ksa!","error");return}m({id:z.id,type:$}),_(ne=>({...ne,[z.id]:null}));try{const ne=localStorage.getItem("gemini_api_key");if(!ne)throw new Error("API Key eksik");let Q="",ie="";switch($){case"summary":Q=`zetle:

`,ie="AI zeti";break;case"tweet":Q=`Tweet yaz:

`,ie="Tweet Tasla";break;case"flood":Q=`Flood yaz:

`,ie="Flood Tasla";break;case"video":Q=`Video senaryosu:

`,ie="Video Senaryosu";break;case"infographic":Q=`nfografik hazrla:

`,ie="nfografik Plan";break;default:Q=`zetle:

`}const M=z.content.slice(0,15e3),I=await P5(Q+M,ne);_(G=>({...G,[z.id]:{title:ie,content:I,type:$}})),C(`${ie} oluturuldu`)}catch(ne){C("Hata: "+ne.message,"error")}finally{m(null)}};return p.jsxs("div",{className:"h-full flex flex-col space-y-6 p-6 animate-in fade-in duration-500",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-black tracking-tight flex items-center gap-3",children:[p.jsx("span",{className:"p-3 bg-fuchsia-500/20 text-fuchsia-400 rounded-2xl",children:p.jsx(YF,{size:32})}),"ERK VE HABER STDYOSU"]}),p.jsx("p",{className:"text-muted-foreground mt-2 font-medium",children:"Canl piyasa haberleri, finansal analizler ve ierik retim merkezi."})]})}),p.jsxs("div",{className:"bg-card border border-border rounded-3xl overflow-hidden flex flex-col flex-1 shadow-2xl relative",children:[p.jsxs("div",{className:"flex border-b border-border bg-black/20 backdrop-blur-sm",children:[p.jsxs("button",{onClick:()=>a("live"),className:`flex-1 py-5 font-bold flex items-center justify-center gap-2 transition-all relative ${i==="live"?"text-primary":"text-muted-foreground hover:bg-white/5"}`,children:[p.jsx(o8,{size:18}),"CANLI PYASA",i==="live"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary shadow-[0_0_10px_rgba(59,130,246,0.5)]"})]}),p.jsxs("button",{onClick:()=>a("analysis"),className:`flex-1 py-5 font-bold flex items-center justify-center gap-2 transition-all relative ${i==="analysis"?"text-purple-400":"text-muted-foreground hover:bg-white/5"}`,children:[p.jsx(uo,{size:18}),"ERK STDYOSU",i==="analysis"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-purple-500 shadow-[0_0_10px_rgba(168,85,247,0.5)]"})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-gradient-to-b from-transparent to-black/20 p-6",children:i==="live"?p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"col-span-full flex justify-between items-center mb-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"animate-pulse w-2 h-2 rounded-full bg-green-500"}),p.jsx("span",{className:"text-xs font-bold text-green-400 tracking-wider",children:"CANLI PYASA AKII (Investing, Bigpara, BloombergHT)"})]}),p.jsxs("button",{onClick:T,className:"text-xs font-bold text-muted-foreground hover:text-white flex items-center gap-1 bg-white/5 px-3 py-1 rounded-full",children:[p.jsx(Il,{size:12,className:n?"animate-spin":""})," ",n?"YKLENYOR...":"YENLE"]})]}),t.map((z,$)=>p.jsxs("a",{href:z.link,target:"_blank",rel:"noopener noreferrer",className:"group bg-secondary/30 hover:bg-secondary/50 border border-white/5 hover:border-primary/50 p-5 rounded-2xl transition-all flex flex-col h-full relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 bg-white/10 px-2 py-1 rounded-bl-xl text-[9px] font-bold text-white uppercase tracking-wider",children:z.source}),p.jsx("h4",{className:"font-bold text-sm mb-3 group-hover:text-primary transition-colors line-clamp-3 leading-relaxed mt-2",children:z.title}),p.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3 mb-4 flex-1",children:z.description}),p.jsxs("div",{className:"flex justify-between items-center text-[10px] uppercase tracking-widest text-muted-foreground",children:[p.jsx("span",{children:z.pubDate?new Date(z.pubDate).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}):"imdi"}),p.jsx(uM,{size:12})]})]},$))]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.length===0?p.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-white/10 rounded-3xl",children:[p.jsx("div",{className:"w-20 h-20 bg-secondary/50 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(co,{size:40,className:"text-muted-foreground"})}),p.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"alma Masas Bo"}),p.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto mb-6",children:"Analiz etmek iin dosya ykle."}),p.jsx("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-all shadow-lg hover:shadow-purple-900/40 hover:-translate-y-1",children:"Dosya Ykle"})]}):o.map(z=>p.jsxs("div",{className:"bg-gradient-to-r from-secondary/20 to-secondary/10 border border-white/5 p-6 rounded-2xl group shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[p.jsx("div",{className:"p-3 bg-purple-500/20 text-purple-400 rounded-xl cursor-pointer",onClick:()=>B(z),children:p.jsx(co,{size:24})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:"font-bold text-lg text-white mb-1 group-hover:text-purple-400 transition-colors cursor-pointer truncate",onClick:()=>B(z),children:z.title}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("span",{className:"text-xs bg-white/5 px-2 py-0.5 rounded text-muted-foreground",children:z.category}),!z.fileData&&p.jsxs("span",{className:"text-xs text-red-400 py-0.5 flex items-center gap-1",children:[p.jsx(S8,{size:10})," Veri Yok"]})]})]})]}),p.jsxs("div",{className:"flex gap-2 ml-4",children:[p.jsx("button",{onClick:()=>H(z,"infographic"),disabled:h?.id===z.id,className:"p-2 hover:bg-white/10 rounded-lg text-muted-foreground hover:text-pink-400 transition-colors",title:"nfografik",children:p.jsx(O6,{size:16})}),p.jsx("button",{onClick:$=>L(z.id,$),className:"p-2 hover:bg-white/10 rounded-lg text-muted-foreground hover:text-red-500 transition-colors",title:"Sil",children:p.jsx(On,{size:16})})]})]}),p.jsx("div",{className:"flex flex-wrap gap-2 mt-4 pb-2 border-b border-white/5",children:["summary","tweet","flood","video"].map($=>p.jsx("button",{onClick:()=>H(z,$),disabled:h?.id===z.id,className:"flex-1 min-w-[100px] py-2 rounded-xl text-xs font-bold flex items-center justify-center gap-2 transition-all border border-transparent bg-white/5 hover:bg-white/10",children:h?.id===z.id&&h?.type===$?p.jsx(Il,{size:14,className:"animate-spin"}):$.toUpperCase()},$))}),S[z.id]&&p.jsxs("div",{className:"mt-4 bg-black/30 rounded-xl border border-white/5 p-4 relative animate-in slide-in-from-top-2",children:[p.jsx("button",{onClick:()=>_($=>({...$,[z.id]:null})),className:"absolute top-2 right-2 text-muted-foreground hover:text-white",children:p.jsx(bn,{size:14})}),p.jsxs("h5",{className:"font-bold text-primary mb-2 flex items-center gap-2 text-sm",children:[p.jsx(uo,{size:14})," ",S[z.id].title]}),p.jsx("div",{className:"text-sm text-gray-300 font-mono leading-relaxed whitespace-pre-wrap max-h-[300px] overflow-y-auto custom-scrollbar p-2",children:S[z.id].content})]})]},z.id))}),o.length>0&&p.jsxs("button",{onClick:()=>f(!0),className:"w-full py-4 border-2 border-dashed border-white/10 hover:border-purple-500/50 rounded-2xl text-muted-foreground hover:text-purple-400 font-bold flex items-center justify-center gap-2 transition-all",children:[p.jsx(wp,{size:20})," Yeni Dosya"]})]})}),p.jsx(M5,{isOpen:u,onClose:()=>f(!1),onSave:P,folders:[{id:"finance",name:"Finans Raporlar"}],defaultCategory:"Finans"}),v&&p.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center",children:p.jsx(Il,{size:48,className:"animate-spin text-primary"})}),w.show&&p.jsxs("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 px-6 py-3 rounded-xl font-bold shadow-2xl animate-in slide-in-from-bottom z-50 flex items-center gap-2 ${w.type==="error"?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:[w.type==="error"?p.jsx(bn,{size:20}):p.jsx(Wb,{size:20}),w.message]})]})]})}function jle(){return p.jsx(jF,{children:p.jsx(rF,{children:p.jsxs(Vt,{path:"/",element:p.jsx(I8,{}),children:[p.jsx(Vt,{index:!0,element:p.jsx(Nae,{})}),p.jsx(Vt,{path:"planner",element:p.jsx(ple,{})}),p.jsx(Vt,{path:"curriculum",element:p.jsx(_U,{})}),p.jsx(Vt,{path:"analytics",element:p.jsx(fle,{})}),p.jsx(Vt,{path:"mistakes",element:p.jsx(hle,{})}),p.jsx(Vt,{path:"library",element:p.jsx(sle,{})}),p.jsx(Vt,{path:"pearls",element:p.jsx(lle,{})}),p.jsx(Vt,{path:"questions",element:p.jsx(ole,{})}),p.jsx(Vt,{path:"pomodoro",element:p.jsx(dle,{})}),p.jsx(Vt,{path:"settings",element:p.jsx(cle,{})}),p.jsxs(Vt,{path:"fitness",children:[p.jsx(Vt,{index:!0,element:p.jsx(gle,{})}),p.jsx(Vt,{path:"schedule",element:p.jsx(yle,{})}),p.jsx(Vt,{path:"progress",element:p.jsx(ble,{})}),p.jsx(Vt,{path:"supplements",element:p.jsx(xle,{})}),p.jsx(Vt,{path:"nutrition",element:p.jsx(wle,{})})]}),p.jsxs(Vt,{path:"finance",children:[p.jsx(Vt,{index:!0,element:p.jsx(eF,{to:"portfolio",replace:!0})}),p.jsx(Vt,{path:"portfolio",element:p.jsx(Ale,{})}),p.jsx(Vt,{path:"studio",element:p.jsx(Cle,{})})]})]})})})}nB.createRoot(document.getElementById("root")).render(p.jsx(A1.StrictMode,{children:p.jsx(jle,{})}));
